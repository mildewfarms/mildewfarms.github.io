<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE><title>v02, i02: Listing 2: gtimes.c</title></TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#990000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center><table width=600 cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">

<tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class=navbarLink><a href="a10.htm">Article</a></span></td>
		<td><span class=navbarLink><a href="a10_f1.htm">Figure 1</a></span></td>
		<td><span class=navbarLink><a href="a10_f2.htm">Figure 2</a></span></td>
		<td><span class=navbarLink><a href="a10_f3.htm">Figure 3</a></span></td>
		<td><span class=navbarLink><a href="a10_f4.htm">Figure 4</a></span></td>
	</tr>
	<tr>
		<td><span class=navbarLink><a href="a10_f5.htm">Figure 5</a></span></td>
		<td><span class=navbarLink><a href="a10_f6.htm">Figure 6</a></span></td>
		<td><span class=navbarLink><a href="a10_f7.htm">Figure 7</a></span></td>
		<td><span class=navbarLink><a href="a10_f8.htm">Figure 8</a></span></td>
		<td><span class=navbarLink><a href="a10_f9.htm">Figure 9</a></span></td>
	</tr>
	<tr>
		<td><span class=navbarLink><a href="a10_f10.htm">Figure 10</a></span></td>
		<td><span class=navbarLink><a href="a10_l1.htm">Listing 1</a></span></td>
		<td><span class=navbarLink>Listing 2</span></td>
		<td><span class=navbarLink><a href="a10_l3.htm">Listing 3</a></span></td>
		<td><span class=navbarLink><a href="a10_l4.htm">Listing 4</a></span></td>
	</tr>
	<tr>
		<td><span class=navbarLink><a href="a10_t1.htm">Table 1</a></span></td>
		<td><span class=navbarLink><a href="a10_t2.htm">Table 2</a></span></td>
		<td><span class=navbarLink><a href="a10_t3.htm">Table 3</a></span></td>
		<td><span class=navbarLink><a href="a10_t4.htm">Table 4</a></span></td>
		<td><a href="../../../../source/SA/1993/mar93.tar"><b class=codeListing>mar93.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr><td valign=top>
<H1>Listing 2: gtimes.c</H1><p>
<PRE>
NAME

gtimes.c - Calculate clock times.

SYNOPSIS

gtimes [ clock value ]
- where clock value is a long integer which was previously returned
by the time system call.

DESCRIPTION

This program without an argument will report the current system time
both as an ASCII string, and as a long integer which is directly
reported from time(S).
Invocation with an argument results in the ASCII time string which
matches the clock value on the command line.

RETURN VALUE

Always returns 0.

WARNINGS

There are no provisions for bad data, or overflow.

-------------------------------------------------------------------------

*/
/* Copyright 1988 Chris Hare */

#include &lt;stdio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;time.h&gt;
#include &lt;errno.h&gt;

main( argc, argv )
int argc;
char *argv[];

{

char *ctime(),               /* declare ctime(S) */
*timestr;               /* storage area for
time string */
long int t_secs,             /* return value from time(S) */
o_secs,             /* long integer value of command argument */
atol(),             /* declare atol(S) */
time();             /* declare time(S) */
struct tm *mytime;
struct tm *localtime();
char *atime_str;

if ( argc == 1 )
t_secs = time(0L);
else
t_secs = atol(argv[1]);

timestr = ctime(&amp;t_secs);

printf( &quot;Clock : %ld\nDate  : %s\n&quot;, t_secs, timestr );

exit(0);

}</pre><p>
<p>



<P>
<br>&nbsp;<br>
</table></center></td>
<! -- End Content ------ >

</table><!/center>
<! -- End MASTER TABLE -- >

</body></html>
