<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v05, i12:  Figure 4: helpdesk.ddl and helpdesk.dml</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#990000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center><table width=600 cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">

<tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class=navbarLink><a href="a6.htm">Article</a></span></td>
		<td><span class=navbarLink><a href="a6_f1.htm">Figure 1</a></span></td>
		<td><span class=navbarLink><a href="a6_f2.htm">Figure 2</a></span></td>
		<td><span class=navbarLink><a href="a6_f3.htm">Figure 3</a></span></td>
		<td><span class=navbarLink>Figure 4</span></td>
	</tr>
	<tr>
		<td><span class=navbarLink><a href="a6_f5.htm">Figure 5</a></span></td>
		<td><a href="../../../../source/SA/1996/dec96.tar"><b class=codeListing>dec96.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr><td valign=top>




<H1>Figure 4: helpdesk.ddl and helpdesk.dml</H1><p>
<PRE>
All of the data definition language (DDL) to create
the database schema and some data manipulation language
(DML) with some sample data is listed here. Once the
database and schema are created, you will need to insert
some data into your support tables. I have included
some examples in the file helpdesk.dml. You may not
want to run this because the sample data will be meaningless
to you - it is only to show some examples of the syntax
of the insert commands needed for you to insert your
data.

helpdesk.ddl listing:

use Helpdesk
go

CREATE TABLE CTicket (
ticketId       numeric(9,0) NOT NULL,
occurance      numeric(9,0) IDENTITY,
resolution     varchar(255) NULL,
lastModifyDate smalldatetime NULL,
assignedTo     varchar(64) NULL,
keyWords       varchar(80) NULL,
statusChange   varchar(1) NULL,
resolution1    varchar(255) NULL,
timeSpent      smallmoney NULL,
ownerId        smallint NULL,
PRIMARY KEY (ticketId, occurance)
)
go

CREATE TABLE OTicket (
ticketId            numeric(9,0) IDENTITY,
submitDate          smalldatetime NULL,
dateNeededBy        varchar(10) NULL,
status              varchar(1) NULL,
department          varchar(30) NULL,
problemType         varchar(1) NULL,
requestDescription  varchar(255) NULL,
requestDescription2 varchar(255) NULL,
submitFirstName     varchar(64) NULL,
submitLastName      varchar(64) NULL,
priority            varchar(2) NULL,
assigned            varchar(64) NULL,
eMail               varchar(25) NULL,
ownerId             smallint NULL,
problemTypeId       smallint NULL,
submitterId         smallint NULL,
PRIMARY KEY (ticketId)
)
go

CREATE TABLE Owner (
ownerId             smallint NOT NULL,
ownerName           varchar(25) NULL,
ownerEmail          varchar(25) NULL,
PRIMARY KEY (ownerId)
)
go

CREATE TABLE ProblemTypes (
problemTypeId       smallint NOT NULL,
typeDescription     varchar(20) NULL,
PRIMARY KEY (problemTypeId)
)
go

CREATE TABLE Department (
departmentId        int NOT NULL,
deptName            varchar(25) NULL,
PRIMARY KEY (departmentId)
)
go

CREATE TABLE DepartmentPeople (
departmentPeopleId  int NOT NULL,
departmentId        int NULL,
personId            int NULL,
termDate            smalldatetime NULL,
PRIMARY KEY (departmentPeopleId)
)
go

CREATE TABLE MPerson (
personId            int NOT NULL,
lastName            varchar(25) NULL,
altName             varchar(25) NULL,
email               varchar(25) NULL,
termDate            smalldatetime NULL,
PRIMARY KEY (personId)
)
go

helpdesk.dml listing:

use Helpdesk
go
insert Owner values(1, &quot;First Help Desk Support&quot;, &quot;first@somewhere.com&quot;)
go
insert Owner values(2, &quot; Second Help Desk Support &quot;, &quot;second@somewhere.com&quot;)
go
insert Owner values(3, &quot;Third Help Desk Support &quot;, &quot;third@somewhere.com&quot;)
go

insert Department values(1, &quot;Department 1&quot;)
go
insert Department values(2, &quot;Department 2&quot;)
go
insert Department values(3, &quot;Department 3&quot;)
go
insert MPerson values(1, &quot;Doe&quot;, &quot;John&quot;, &quot;doe@somewhere.com&quot;, NULL)
go
insert DepartmentPeople values(1,1,1,NULL)
go
insert MPerson values(2, &quot;Doe&quot;, &quot;Jane&quot;, &quot;jdoe@somewhere.com&quot;, NULL)
go
insert DepartmentPeople values(2,1,2,NULL)
go
insert MPerson values(3, &quot;Flintstone&quot;, &quot;Fred&quot;,
&quot;flintstone@somewhere.com&quot;, NULL)
go
insert DepartmentPeople values(3,2,3,NULL)
go
insert MPerson values(4, &quot;Rubble&quot;, &quot;Barney&quot;,
&quot;rubble@somewhere.com&quot;, NULL)
go
insert DepartmentPeople values(4,3,4,NULL)
go

insert ProblemTypes values(1, &quot;Macintosh&quot;)
go
insert ProblemTypes values(2, &quot;MS Windows/Win95&quot;)
go
insert ProblemTypes values(3, &quot;Unix&quot;)
go
insert ProblemTypes values(4, &quot;Telephone&quot;)
go
insert ProblemTypes values(5, &quot;Software&quot;)
go
insert ProblemTypes values(6, &quot;Sybase&quot;)
go
insert ProblemTypes values(9, &quot;Other&quot;)
go
</pre><p>
<p>


<P>
<br>&nbsp;<br>
</table></center></td>
<! -- End Content ------ >

</table><!/center>
<! -- End MASTER TABLE -- >

</body></html>
