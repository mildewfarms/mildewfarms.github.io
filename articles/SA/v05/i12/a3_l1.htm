<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE><title>v05, i12: Listing 1: promon.exp</title></TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#990000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center><table width=600 cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">

<tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class=navbarLink><a href="a3.htm">Article</a></span></td>
		<td><span class=navbarLink>Listing 1</span></td>
		<td><span class=navbarLink><a href="a3_l2.htm">Listing 2</a></span></td>
		<td><span class=navbarLink><a href="a3_l3.htm">Listing 3</a></span></td>
		<td><span class=navbarLink><a href="a3_l4.htm">Listing 4</a></span></td>
		<td><a href="../../../../source/SA/1996/dec96.tar"><b class=codeListing>dec96.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr><td valign=top>
<H1>Listing 1: promon.exp</H1><p>
<PRE>
Basically, the promon.exp script runs the &quot;promon&quot; utility, which
produces output like this:
-------------------------------------------------------------------------
Activity  - Sampled at 10/02/96 12:48 for 14:14:02.

Event              Total   Per Sec   Event               Total   Per Sec
Commits          492920    9.6     Undos                4227       0.0
Record Updates   298849    5.8     Record Reads     73734631    1438.9
Record Creates   137552    2.6     Record Deletes      84536       1.6
DB Writes        312217    6.0     DB Reads         17809517     347.5
BI Writes         66959    1.3     BI Reads             5212       0.1
AI Writes         34210    0.6
Record Locks    4267617   83.2     Record Waits         4032       0.0
Checkpoints         130    0.0     Buffers Flushed        95       0.0

Rec Lock Waits     0 %   BI Buf Waits    0 %    AI Buf Waits    0 %
Writes by APW     99 %   Writes by BIW  48 %   Writes by AIW   96 %
Buffer Hits        4 %
DB Size       837073 K   BI Size 399992 K      AI Size   13008 K
FR chain      0 blocks   RM chain   7 blocks
Shared Memory 179876 K   Segments   2

28 Servers, 793 Users (242 Local, 551 Remote, 4 Batch),2 Apws
-------------------------------------------------------------------------

And formats it into a log file that looks like this...

-------------------------------------------------------------------------
10/02/96 17:06:30 151 2937 6267 3847 152 10266
10/02/96 17:11:30 143 2595 4061 2120 106 6287
10/02/96 17:16:30 130 3037 4202 2503 117 6822
10/02/96 17:21:30 125 2919 3553 2103 160 5816
10/02/96 17:26:30 113 2454 2199 2798 214 5211
10/02/96 17:31:30 104 2261 1980 2262 106 4348
10/02/96 17:36:30 98 2618 2608 2876 300 5784
10/02/96 17:41:30 89 2478 2424 2935 115 5474
10/02/96 17:46:30 82 2735 2708 2969 62 5739
10/02/96 17:51:30 78 2635 2454 2721 102 5277
10/02/96 17:56:30 77 2318 2222 2073 76 4371
10/02/96 18:01:30 66 2758 2847 2992 79 5918
10/02/96 18:06:30 45 2868 2498 2779 169 5446
10/02/96 18:11:30 46 2279 2143 2338 187 4668
10/02/96 18:16:30 46 6293 7900 3354 255 11509
-------------------------------------------------------------------------

This data can be analyzed as-is or formatted nicely like this:

-------------------------------------------------------------------------
10/04/96 02:30 PM     Database Activity Report              Page   1

Physical                              Logical
Date/Time            Users  DB Writes  Updates  Creates  Deletes  DB Writes
-----------------    -----  ---------  -------  -------  -------  ---------
10/02/96 17:06:30     151     2937     6267      3847      152     10266
10/02/96 17:11:30     143     2595     4061      2120      106      6287
10/02/96 17:16:30     130     3037     4202      2503      117      6822
10/02/96 17:21:30     125     2919     3553      2103      160      5816
10/02/96 17:26:30     113     2454     2199      2798      214      5211
10/02/96 17:31:30     104     2261     1980      2262      106      4348
10/02/96 17:36:30      98     2618     2608      2876      300      5784
10/02/96 17:41:30      89     2478     2424      2935      115      5474
10/02/96 17:46:30      82     2735     2708      2969       62      5739
10/02/96 17:51:30      78     2635     2454      2721      102      5277
10/02/96 17:56:30      77     2318     2222      2073       76      4371
10/02/96 18:01:30      66     2758     2847      2992       79      5918
10/02/96 18:06:30      45     2868     2498      2779      169      5446
10/02/96 18:11:30      46     2279     2143      2338      187      4668
10/02/96 18:16:30      46     6293     7900      3354      255     11509

End of Report.
</pre><p>
<p>


<P>
<br>&nbsp;<br>
</table></center></td>
<! -- End Content ------ >

</table><!/center>
<! -- End MASTER TABLE -- >

</body></html>
