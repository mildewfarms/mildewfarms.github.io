<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v10, i05: Windows 2000 Options</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink"><a href="a8.htm">Article</a></span></td>
		<td><span class="navbarLink"><a href="a8_f1.htm">Figure 1</a></span></td>
		<td><span class="navbarLink"><a href="a8_f2.htm">Figure 2</a></span></td>
		<td><span class="navbarLink"><a href="a8_f3.htm">Figure 3</a></span></td>
		<td><span class="navbarLink"><a href="a8_f4.htm">Figure 4</a></span></td>
	</tr>
	<tr>
		<td><span class="navbarLink"><a href="a8_f5.htm">Figure 5</a></span></td>
		<td><span class="navbarLink"><a href="a8_f6.htm">Figure 6</a></span></td>
		<td><span class="navbarLink"><a href="a8_f7.htm">Figure 7</a></span></td>
		<td><span class="navbarLink">Sidebar</span></td>
		<td><span class="navbarLink"><a href="a8_t1.htm">Table 1</a></span></td>
		<td><a href="../../../../source/SA/2001/may2001.tar"><b class=codeListing>may2001.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <H1>Windows 2000 Options</h1>
            <p> I wondered if it were possible to change the Nagle setting in 
              Windows 2000, and the Windows 2000 registry key HKLM\SOFTWARE\Microsoft\MSMQ\Parameters\TCPNoDelay 
              looks as though it does the same thing as <b>tcp_naglim_def</b>. 
              Note, however, that this is not in the same portion of the registry 
              as the rest of the TCP parameters. This key is specific to the Microsoft 
              Message Queuing software. So, although adding this key (it is not 
              there by default) with a value of 1 will turn Nagle off for Microsoft 
              Message Queuing, it will not affect anything else. Thus, there is 
              nothing that a Windows 2000 systems administrator can do about an 
              application that does not turn Nagle off.
            <p> To control the ACK timer on Windows 2000 systems, use the registry 
              variable HKLM\SYSTEM\CurrentControlSet\Services\ Tcpip\Parameters\Interfaces\&lt;interface-name&gt;TcpDelAckTicks. 
              This setting stores the value in 100-ms increments (the default 
              is 2 or 200 ms). The value also must be an integer between 0 and 
              6. This value is normally not in the registry so to change the value 
              the key must be added. Also note that because the interface name 
              is in the path, each interface can have a different value. I'm 
              not sure how well this actually works. Even after adding this key 
              and rebooting, a sample trace still showed that delayed ACKs were 
              sent every 200 ms regardless of the value that I set. 
          </table></table><br>&nbsp;<br>

<! -- End Content ------ >


<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
