<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v06, i01:  Sidebar: PPP Connection/Monitoring Options</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#990000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center><table width=600 cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">

<tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class=navbarLink><a href="a2.htm">Article</a></span></td>
		<td><span class=navbarLink><a href="a2_f1.htm">Figure 1</a></span></td>
		<td><span class=navbarLink><a href="a2_f2.htm">Figure 2</a></span></td>
		<td><span class=navbarLink><a href="a2_f3.htm">Figure 3</a></span></td>
		<td><span class=navbarLink><a href="a2_f4.htm">Figure 4</a></span></td>
	</tr>
	<tr>
		<td><span class=navbarLink><a href="a2_f5.htm">Figure 5</a></span></td>
		<td><span class=navbarLink><a href="a2_f6.htm">Figure 6</a></span></td>
		<td><span class=navbarLink><a href="a2_f7.htm">Figure 7</a></span></td>
		<td><span class=navbarLink><a href="a2_f8.htm">Figure 8</a></span></td>
		<td><span class=navbarLink><a href="a2_f9.htm">Figure 9</a></span></td>
	</tr>
	<tr>
		<td><span class=navbarLink>Sidebar 1</span></td>
		<td><a href="../../../../source/SA/1997/jan97.tar"><b class=codeListing>jan97.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr><td valign=top>




<H1>Sidebar: PPP Connection/Monitoring Options</H1><p>

<P>
Demand dialing is not important to us because we have a local phone number and an unlimited account. It can be important if you have to dial long distance or if you are charged by the hour. Eric Schenk has written a package called DIALD, which is available via anonymous <B>ftp</B> from <B>sunsite.unc.edu</B>. Although I haven't installed this package, it has received high marks in the newsgroup <B>comp.os.linux.networking</B>.<p>
Our setup is quite a bit simpler. At the beginning of a working day the following jobs are run:<p>
<B> start-monitor</B> (Listings 1 and 2) - 7am Monday-Friday<p>
<B> check</B> (Listing 5) - Invoked if the modem line isn't active<p>
If anything happens to the modem, <B>start-monitor</B> will restart the PPP connection. <B>telnet</B> users will have to reconnect, but WWW users will only notice a delay in receiving their page.<p>
At the end of a working day, the PPP connection is shut down. This is a courtesy to our ISP, which typically receives the most modem usage in the evening and on weekends.<p>
<B> stop-monitor</B> (Listing 3) - 6:30pm Monday-Friday<p>
<B> stop-PPP</B> (Listing 4) - 6:40pm Monday-Friday<p>
We do need to kill the monitoring process before we can shut down the PPP connection. Otherwise, the PPP monitor would just reestablish the Internet connection. I was torn between letting the PPP connection die via ISP timeout and explicitly shutting it down. In this case, explicit shutdown hasn't caused any complaints (e.g., from users cut off in the middle of a <B>telnet</B>/WWW session). You might want to think about not running <B>stop-ppp</B> if you have a lot of end-of-day usage.<p>
Listing 7 contains the root <B>crontab</B> entries which run the scripts/monitor daemon. Listings 1-5 reside in <B>/usr/lib/ppp</B>. 
<br>&nbsp;<br>
</table></center></td>
<! -- End Content ------ >

</table><!/center>
<! -- End MASTER TABLE -- >

</body></html>
