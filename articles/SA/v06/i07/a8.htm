<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v06, i07:  Questions and Answers</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#990000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center><table width=600 cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">

<tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class=navbarLink>Article</span></td>
		<td><a href="../../../../source/SA/1997/jul97.tar"><b class=codeListing>jul97.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr><td valign=top>




<H1>Questions and Answers</H1><p>
<P>
Bjorn Satdeva<P>

</H1><p>I have received many emails related to my comments regarding policies (<I>Sys Admin</I> 6(4):63-65). Several people asked what it takes to write and implement good policies. Unfortunately, there is no simple answer to this question. A policy is part of the documentation at your site that shows "how we do business here." Both policies and procedures should consist of individualized documents tailored to your site. When I start to work with a client site on these topics, there is one thing I always stress: all sites already have policies and procedures. The problem is that they are not documented; or in some cases, part of it might be documented, but it might not be up to date or well distributed. The biggest problems in such situations is that either people know that policies and procedures exist, but they do not agree on what they are, or the policies do not exist and must be created from scratch.<p>
System administrators do not typically have the clout to create and implement policies. This requires the involvement of upper management, who will need to provide some overall vision. If you are working at a place that does not have policies and procedures, you might be better off starting closer to home and document the procedures just for yourself and your staff. For example, document how you are doing backup, where and how tapes are stored, and how restores are done. Start with how you are doing it today. It is tempting to write a procedure that describes how you would like things to be done, but this is not useful, unless you immediately start doing it that way. In fact, unless you describe what you have today, you might never get a real start on this project.<p>
When you begin this process, start with something that is easy to document, and then stick with the documentation process until it is completed. Complete one procedure at a time, and make sure that it is usable before continuing on to the next one. As you gain some early victories in this area, you can move on to more challenging projects.<p>
It is important that everybody in your group agrees to follow each procedure as it is completed. Not only will everybody start to do the work the same way, they will also start to build a common understanding of how the work should be done at your site. And as you build a body of procedures, you will be able to use this documentation to get your junior admins up to speed in areas where you needed a senior person before. <p>
Later, when you have your house in better order, it will be easier to get the high level and more political stuff in place.<p>
<p>
<img src="../../resource/q.gif" alt=" Q " width=29 height=32 align=bottom hspace=0 vspace=0>
 I recently compiled a pop3 mail server on our DG-UX server. I then discovered a "new" problem - supplying the users with an address book of email addresses and groups. I started to do research and found LDAP. I'm trying to compile the University of Michigan LDAP 3.3, but I've run into some problems with compiling and am trying to locate resources on the Net. Can you help me find some useful UNIX sites?<p>
<img src="../../resource/a.gif" alt=" A " width=28 height=32 align=bottom hspace=0 vspace=0>
 I maintain an <B>ftp</B> server: <B>ftp://ftp.sysadmin.com</B>, which has a lot of system administration-oriented stuff. There are a number of other good archives out there, too many to mention them all. Here is a small list:<p>
<pre>
ftp://ftp.uu.net
ftp://gatekeeper.dec.com
ftp://coast.cs.purdue.edu
ftp://ftp.win.tue.nl
ftp://ftp.net.ohio-state.edu
ftp://sunsite.unc.edu
ftp://coast.cs.purdue.edu
ftp://ciac.llnl.gov
</pre><p>
<p>The problem is finding what you need. Each site will normally have a file, typically named <B>ls-lR</B>, which has a listing of all the files on the site. This is helpful if you know what you are looking for. However, it can still be exhaustive to search each archive for what you need. The Web can be a helpful tool, but in spite of the availability of many search engines, it can be difficult to find what you are looking for, unless you can narrow the search by using more complex search instruction.<p>
If you know what you are looking for, then try <B>archie</B>, a search tool that predates the World Wide Web, but which still is useful. <B>Archie</B> is a information server, which is able to tell about the content of many of the archive sites accessible through the Internet. It is useful when you are looking for a certain package but do not know which archive site contains it.<p>
In the old days, when you wanted to use <B>archie</B>, you did a telnet to a site that ran the <B>archie</B> server. Today, you can access <B>archie</B> from the World Wide Web. A good entry point for archive and other search engines is:<p>
<pre>
http://www.agrenv.mcgill.ca/SEARCH.HTM</pre><p>
<p>
<img src="../../resource/q.gif" alt=" Q " width=29 height=32 align=bottom hspace=0 vspace=0>
 We're trying to get <B>inetd</B> to behave as it is documented as behaving, but can't seem to do it. We're running SunOS 4.1.4 on Sparc hardware. I've written a simple client and server, but no matter what I try, I can't get <B>inetd</B> to pass the socket that it opens to the server.<p>
<img src="../../resource/a.gif" alt=" A " width=28 height=32 align=bottom hspace=0 vspace=0>
 This question included the code for the server and client, but I have not included it here for two reasons. First, this is not a C programming column; and second, most of my C programming these days consists of porting and modifying existing software, which does not place me in a position of giving great advice on how to program in C. I have included the question though, because there are some system administration-related issues involved. When I compiled the code and installed it on one of my machines here, it ran right away. Thus, the problems almost certainly are not in the C code, but elsewhere.<p>
Therefore, let us look at what could go wrong when installing the server and the client on a machine. The server was a simple text-based server, which took its input from the standard input. It is therefore possible to test the server directly by executing it from the shell and verifying that it behaves as expected.<p>
When this is verified, install it in the right directory, and verify access permission. Then, if not already done, enter the port and protocol in the <B>/etc/services</B> file. The line should look like this:<p>
<pre>
server          570/tcp
</pre><p>
<p>Then, <B>inetd</B> must know what to do. So, we enter a line in the <B>/etc/inetd.conf</B> file like this:<p>
<pre>
server  stream  tcp  nowait  root  /user/bjorn/server server</pre><p>
<p>When this line is added, we need to tell <B>inetd</B> that the configuration has been modified. This is done by sending a hangup signal to the daemon. The hangup signal (SIGHUP or 1) is interpreted by <B>inetd</B> as an instruction to re-read the configuration. If the process number of the <B>inetd</B> is 176, the command will look like this:<p>
<pre>
kill -1 176

or

kill -hup 176
</pre><p>
<p>You should now be able to <B>telnet</B> to port 570 to ensure that the server is working and responding correctly:<p>
<pre>
% telnet mimi 570
Trying 10.1.1.123...
Connected to mimi.sysadmin.com.
Escape character is '^]'.
...</pre><p>
<p>If you get an access denied message, doublecheck that the path name is correct (e.g., do a cut and paste with your mouse). I do it this way, because I am a lousy typist and can easily mistype a pathname without noticing it.<p>
When the server responds, you know it is working correctly. You can then test and install the client. <p>
The above troubleshooting method is useful, as you might need to install new servers on your machine, many of which are text based. Examples of text-based servers that you can talk to via <B>telnet</B> as shown above are <B>sendmail</B> (port 25), <B>nntp</B> (port 119), <B>POP</B> (port 110), and <B>daytime</B> (port 13). Although you do not want to use a <B>telnet</B> session to do real work, it is great for troubleshooting. For example if you want to verify that a POP server is functional, you can check it by doing a <B>telnet</B> to the server port on the machine. You should see something like this:<p>
<pre>
% telnet mimi 110
Trying 10.1.1.123...
Connected to mimi.sysadmin.com.
Escape character is '^]'.
+OK QPOP (version 2.2-krb-IV) at mimi.sysadmin.com starting.
quit
+OK Pop server at mimi.sysadmin.com signing off.
Connection closed by foreign host. </pre><p>
<p>

<P>


<H1>About the Author</H1><p>
Bjorn Satdeva is the president of /sys/admin, inc., a consulting firm which specializes in large installation system administration. Bjorn is also co-founder and former president of Bay-LISA, a San Francisco Bay Area user's group for system administrators of large sites. Bjorn can be contacted at /sys/admin, inc., 2787 Moorpark Ave., San Jose, CA 95128; electronically at bjorn@sysadmin.com; or by phone at (408) 241-3111.



<P>
<br>&nbsp;<br>
</table></center></td>
<! -- End Content ------ >

</table><!/center>
<! -- End MASTER TABLE -- >

</body></html>
