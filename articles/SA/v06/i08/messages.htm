<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v06, i08: New Messages</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#990000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center><table width=600 cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">

<tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class=navbarLink>Article</span></td>
		<td><a href="../../../../source/SA/1997/aug97.tar"><b class=codeListing>aug97.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr><td valign=top>
<New Messages>





<H1>New Messages</H1></b><p><p>
<I>Please send letters via email to saletter@mfi.com.<p>
</I><p>
Hello,<br>
This letter is in response to the June 1997 article "Controlling Root," by Carolyn Conner. This is a good overview of some of the problems with root access; however, there are a couple of minor problems with the article.<p>
First, Ms. Connor suggests that alias'ing <B>su</B>, the various shell names, <B>alias</B>, <B>unalias</B>, etc. is enough to prevent a user from being able to <B>su</B>. However, creating these aliases in no way prevents running the commands. <B>su</B> and the shells can always be run with a complete path (e.g., <B>/bin/su</B>, <B>/bin/csh</B>); in addition, any alias can be overcome by prefixing it with <B>\</B> (e.g., <B>\unalias su</B> will run the real <B>unalias</B> command, not an alias with that name).<p>
Second, the article implies that using <B>/etc/hosts.equiv</B> allows root to log in with no password. In SunOS/Solaris at least, <B>/etc/hosts.equiv</B> specifically does <I>not</I> apply to any <B>0-uid</B> account. The only way to allow root to log in without a password (or to use <B>rsh/</B>, <B>rcp/</B>, etc.) is to create a <B>/.rhosts</B> file.<p>
I'd also like to note that one additional solution to limiting root access via <B>su</B> is to compile a BSD4.3-style <B>su</B> program, which requires that a user be part of group 0 ("wheel" or "root") in order to <B>su</B> to a 0-uid account. The source for the <B>su</B> from 4.3bsd-reno is available at <B>http://wuarchive.wustl.edu/systems/unix/4.3bsd-reno/usr.bin/su/</B> - although you will probably have to disregard the makefile there and compile the source on your own. Another option: the <B>sudo</B> program makes a nice addition to a restricted <B>su</B>; <B>sudo</B> allows certain users to run specific commands as root, without actually giving them a root shell. <B>sudo</B> may be obtained from <B>ftp://ftp.courtesan.com/pub/sudo/</B>.<p>
Johnson Earls<br>
<B>darkfox@springhaven.org</b><p><p>
Greetings,<br>
I would like to comment on the article "Controlling Root," in the June 1997 issue. I am surprised that the author did not mention the <B>sudo</B> package. <B>sudo</B> would allow users access to certain root-controlled programs without necessarily giving the users the root password. In some situations it can be a very good compromise.<p>
Thank you.<br>
Craig<br>
<B>craig@ic.net, http://ic.net/~craig<p>
</b><p><I>Carolyn Conner responds:<br>
My attempt to prevent logons from </I><B>su</B><I>'ing by alias'ing </I><B>su</B><I> is effective only in an environment of inexperienced UNIX users. Fortunately, I have received several good suggestions for preventing generic logons from </I><B>su</B><I>'ing to other accounts in the SUN Solaris environment.<p>
I do not know anything about </I><B>sudo</B><I> program, but am anxious to try it. Below are two more good suggestions that I received from readers.<p>
The first suggestion requires the creation of a new group named "susers" (the name is just an example). The group of the </I><B>su</B><I> program should then be changed to "susers" and the world </I>read<I> and </I>execute<I> permissions removed. This allows only root and the members of group "susers" the ability to run </I><B>su</B><I>.<p>
The second suggestion requires the creation of a new group named "nosusers" (again, the name is just an example). The group of the </I><B>su</B><I> program should then be changed to "nosusers" and the group </I>read<I> and </I>execute<I> permissions removed. This allows anyone except the logons in the "nosusers" group the ability to run the </I><B>su</B><I> program.<p>
If "susers" or "nosusers" is the primary group of the restricted logons, there should be no problem. If, however, they are secondary groups of the restricted logons, the choice of method between "susers" and "nosusers" would depend on which group had the least number of users. Care must be taken so that the "susers" or "nosusers" line in </I><B>/etc/group</B><I> does not exceed the length limit, which would cause </I><B>/etc/group</B><I> file corruption. This corruption is easily corrected, but can cause big problems.<p>
Concerning the second point in Johnson Earls' letter, I did not make clear that root access is handled as a special case. Only the </I><B>.rhosts</B><I> file is checked when remote access is being attempted for root.<p>
I really appreciate the feedback and look forward to hearing from you again.<p>
<p>
</I><p>
Thank you for finally realizing that NT must be integrated into <I>Sys Admin</I>. We have a SCO box and are running NT on a Compaq server. I have always been a UNIX man myself but am now forced into the NT role as well. I have found that a great many other companies have gone the NT route also, but I think there will always be room for UNIX. The NT element was the thing I was looking for - the May issue made me decide to get my own subscription to <I>Sys Admin</I> ( I had been reading my friend's subscription for a while now). Keep up the good work, and I am looking forward to reading more about UNIX/NT integration.<p>
David M. Buyer Jr.<br>
http://www.acsu.buffalo.edu/~buyer<br>
CEO, DMB Consulting<br>
buyer@acsu.buffalo.edu<p>
<I>  <p>
Based on our reader surveys, your dual-OS situation is becoming increasingly common.We appreciate your comments and will continue to make our best effort at fulfilling your technical information needs on system administration topics, both UNIX and Windows NT.<p>
Ralph Barker<p>
</I><p>
<p>
<I>Many readers have recently emailed me requesting </I>Sys Admin<I>'s author guidelines. I'm happy to provide this information, but in the interest of serving you better, we've also made the guidelines available on our Web site. The URL for our site is: </I><B>http://www.samag.com</B><I>.<p>
Other items of interest on the site include: Sys Admin CD-ROM (containing all articles from 1992-1995) order form, back issue listings, and the source code archives. If you have suggestions for other information you think should be added, please email me at: </I><B>aankerholz@mfi.com</B><I> and let me know.<p>
Thank you,<br>
Amber Ankerholz<br>
Managing Editor, </I>Sys Admin

<P><br>&nbsp;<br>
</table></center></td>
<! -- End Content ------ >

</table><!/center>
<! -- End MASTER TABLE -- >

</body></html>
