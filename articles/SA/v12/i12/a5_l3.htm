<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v12, i12: Listing 3 unpack</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink"><a href="a5.htm">Article</a></span></td>
		<td><span class="navbarLink"><a href="a5_l1.htm">Listing 1</a></span></td>
		<td><span class="navbarLink"><a href="a5_l2.htm">Listing 2</a></span></td>
		<td><span class="navbarLink">Listing 3</span></td>
		<td><a href="../../../../source/SA/2003/dec2003.tar"><b class=codeListing>dec2003.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
    <td valign=top width=527 bgcolor="#ffffff"> 
      <table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <h1><b>Listing 3 </b><i>unpack</i></h1>
            <p> 
            <pre>
#!/bin/sh
# Listing 3:
# Fri Jan  5 14:57:59 EST 2001
# /usr/local/bin/unpack
# Copyright 2001, 2002, 2003, Chris F.A. Johnson
# Released under the terms of the GNU General Public License

for file; do

    case $file in

    *.zip|*.ZIP)
        unzip "$file"
        ;;

    *.tar)
        tar xvpf "$file"
        ;;

        ## .tgz and .tar.tgz are equivalent: tar &amp; gzip;
        ## .Z (UNIX compress format) can also be uncompressed by gunzip
    *.tgz|*.tar.gz|*.tar.Z)
        gunzip -c  "$file" | tar xvp
        ;;

        ## tar &amp; bzip2
    *.tar.bz2|*.tbz2)
        bunzip2 -c "$file" | tar xvp
        ;;

    ## gzipped and bzip2ed files are uncompressed to the current
    ## directory, leaving the original files in place
    *.gz)
        gunzip -c "$file" &gt; "`basename "$file" .gz`"
        ;;

        ## compress
    *.Z)
        gzip -c "$file" &gt; "`basename "$file" .Z`"
        ;;

        ## bzip2
    *.bz2)
        bunzip2  -c "$file" &gt; "`basename "$file" .bz2`"
        ;;
    esac

done</pre>
          </table></table>&nbsp;

<! -- End Content ------ >

<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
