<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v14, i04: Table 2 Structure of the minor device byte</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink"><a href="a3.htm">Article</a></span></td>
		<td><span class="navbarLink"><a href="a3_t1.htm">Table 1</a></span></td>
		<td><span class="navbarLink">Table 2</span></td>
		<td><span class="navbarLink"><a href="a3_t3.htm">Table 3</a></span></td>
		<td><span class="navbarLink"><a href="a3_t4.htm">Table 4</a></span></td>
	</tr>
	<tr>
		<td><span class="navbarLink"><a href="a3_t5.htm">Table 5</a></span></td>
		<td><a href="../../../../source/SA/2005/apr2005.tar"><b class=codeListing>apr2005.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
    <td valign=top width=527 bgcolor="#ffffff"> 
      <table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <h2><B>Table 2 </B><I>Structure of the minor device byte</i></h2>
            <p> 
            <pre>
15  7      6         5           4          3          2           1 0
Unit #     BSD       Reserved    Density    Density    No rewind   Unit #
Bits 7-15  behavior              Select     Select     on Close    Bits 0-1

/*
* Layout of minor device byte:
*/
#define MTUNIT (dev)     (((minor(dev) &amp; 0xff80) &gt;&gt; 5) +(minor(dev) &amp; 0x3))
#define MT_NOREWIND      (1 &lt;&lt;2)
#define MT_DENSITY_MASK  (3 &lt;&lt;3)
#define MT_DENSITY1      (0 &lt;&lt;3)   /* Lowest density/format */
#define MT_DENSITY2      (1 &lt;&lt;3)
#define MT_DENSITY3      (2 &lt;&lt;3)
#define MT_DENSITY4      (3 &lt;&lt;3)   /* Highest density/format */
#define MTMINOR (unit)   (((unit &amp; 0x7fc) &lt;&lt; 5) + (unit &amp; 0x3))
#define MT_BSD           (1 &lt;&lt;6)   /* BSD behavior on close */
</pre></table></table>&nbsp;

<! -- End Content ------ >

<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
