<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v03, i06:  Sidebar: AIXceptions</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#990000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center><table width=600 cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">

<tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class=navbarLink><a href="a3.htm">Article</a></span></td>
		<td><span class=navbarLink><a href="a3_f1.htm">Figure 1</a></span></td>
		<td><span class=navbarLink><a href="a3_l1.htm">Listing 1</a></span></td>
		<td><span class=navbarLink><a href="a3_l2.htm">Listing 2</a></span></td>
		<td><span class=navbarLink><a href="a3_l3.htm">Listing 3</a></span></td>
	</tr>
	<tr>
		<td><span class=navbarLink><a href="a3_l4.htm">Listing 4</a></span></td>
		<td><span class=navbarLink>Sidebar 1</span></td>
		<td><a href="../../../../source/SA/1994/nov94.tar"><b class=codeListing>nov94.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
<td valign=top width=440 bgcolor="#ffffff">
<table width=100% cellpadding=15 cellspacing=0 border=0>
<tr><td valign=top>




<H1>Sidebar: AIXceptions</H1><p>
<P>
AIX 3.2 does not allow use of the PATH in an execvp

if the program is setuid. Altering the PATH has no 
effect for setuids -- you will always receive the system-defined

PATH from /etc/environment. AIX also does not allow
a script 
running under an effective user id to properly use file
permissions 
within tests. For example, even if a file has a mode
of 777, a setuid 
script using suFirewall will not be able to properly
test 
it for read, write, execute, etc. (the test always returns
false!). <P>

You can solve the latter problem by using the realdo
program 
described in the article text. Solving the PATH problem
requires 
having the environment variable contain just the Secured
Directory 
path. Any nested call to a program contained within
the Secured Directory 
will have to be fully qualified using this environment
variable. While 
this is a nuisance, it is better than having to fully
qualify every 
command, both the secured and the non-secured. You should
also replace 
the execvp command with an execv command within the

suFirewall program, where the program name is fully
qualified 
with the Secured Directory path. <P>




<P>
<br>&nbsp;<br>
</table></center></td>
<! -- End Content ------ >

</table><!/center>
<! -- End MASTER TABLE -- >

</body></html>
