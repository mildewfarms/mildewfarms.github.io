<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v15, i06: Listing 4 An example of how to iterate through a series of values calling a given task </TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink"><a href="a7.htm">Article</a></span></td>
		<td><span class="navbarLink"><a href="a7_f1.htm">Figure 1</a></span></td>
		<td><span class="navbarLink"><a href="a7_f2.htm">Figure 2</a></span></td>
		<td><span class="navbarLink"><a href="a7_f3.htm">Figure 3</a></span></td>
		<td><span class="navbarLink"><a href="a7_f4.htm">Figure 4</a></span></td>
	</tr>
	<tr>
		<td><span class="navbarLink"><a href="a7_l1.htm">Listing 1</a></span></td>
		<td><span class="navbarLink"><a href="a7_l2.htm">Listing 2</a></span></td>
		<td><span class="navbarLink"><a href="a7_l3.htm">Listing 3</a></span></td>
		<td><span class="navbarLink">Listing 4</span></td>
		<td><a href="../../../../source/SA/2006/jun2006.tar"><b class=codeListing>jun2006.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
    <td valign=top width=527 bgcolor="#ffffff"> 
      <table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <h2>Listing 4  <i>An example of how to iterate through a series of values calling a given task </i></h2>
<pre>
&lt;project name="example4" default="complexJmeter" &gt;
&lt;property file="default.properties"/&gt;

    &lt;!-- Add two new task sets --&gt;
    &lt;taskdef resource="net/sf/antcontrib/antlib.xml"&gt;
      &lt;classpath&gt;
        &lt;pathelement location="../extlib/ant-contrib.jar" /&gt;
      &lt;/classpath&gt;
    &lt;/taskdef&gt;    
    &lt;taskdef
    name="jmeter"
    classpath="../extlib/ant-jmeter.jar"
    classname="org.programmerplanet.ant.taskdefs.jmeter. \
      JMeterTask"/&gt;

&lt;!-- Clean results directory --&gt;
&lt;target name="init" &gt;
    &lt;delete dir="${jmeter.dir}/results" /&gt;
    &lt;mkdir dir="${jmeter.dir}/results" /&gt;
&lt;/target&gt;

&lt;!-- loop through threads and call task, setting a property --&gt;
&lt;target name="complexJmeter" depends="init"  \
  description="Complex example of a Jmeter test" &gt;
    &lt;for list="${example.four.threads}" param="threads"&gt;
     &lt;sequential&gt;  
           &lt;echo&gt;
               Testing for Threads @{threads}
           &lt;/echo&gt;
         
        &lt;ant antfile="example3b.xml" target="JmeterTest"  \
          inheritall="true" &gt;
            &lt;property name="all.threads" value="@{threads}"/&gt;
        &lt;/ant&gt;
     &lt;/sequential&gt;
    &lt;/for&gt;        
&lt;/target&gt;
&lt;/project&gt;
</pre>
            </table></table> 

<! -- End Content ------ >

<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
