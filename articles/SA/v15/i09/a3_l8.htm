<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v15, i09: Listing 8 Database result</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink"><a href="a3.htm">Article</a></span></td>
		<td><span class="navbarLink"><a href="a3_f1.htm">Figure 1</a></span></td>
		<td><span class="navbarLink"><a href="a3_f2.htm">Figure 2</a></span></td>
		<td><span class="navbarLink"><a href="a3_l1.htm">Listing 1</a></span></td>
		<td><span class="navbarLink"><a href="a3_l2.htm">Listing 2</a></span></td>
	</tr>
	<tr>
		<td><span class="navbarLink"><a href="a3_l3.htm">Listing 3</a></span></td>
		<td><span class="navbarLink"><a href="a3_l4.htm">Listing 4</a></span></td>
		<td><span class="navbarLink"><a href="a3_l5.htm">Listing 5</a></span></td>
		<td><span class="navbarLink"><a href="a3_l6.htm">Listing 6</a></span></td>
		<td><span class="navbarLink"><a href="a3_l7.htm">Listing 7</a></span></td>
	</tr>
	<tr>
		<td><span class="navbarLink">Listing 8</span></td>
		<td><a href="../../../../source/SA/2006/sep2006.tar"><b class=codeListing>sep2006.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
    <td valign=top width=527 bgcolor="#ffffff"> 
      <table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <h2>Listing 8  <i>Database result</i></h2>
<pre>
# mysql -uroot -P3306
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 21 to server version: 4.1.11-Debian_4sarge2-log

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql> use netwacc
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> select * from rawcpature;
+---------------------+------------+---------+------------+---------+------------+
| tstamp              | srcip      | srcport | dstip      | dstport | datalength |
+---------------------+------------+---------+------------+---------+------------+
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      0 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |      0 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |    450 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |      0 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1197 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |    420 |
| 2006-04-15 15:43:54 | 3232296705 |    1090 | 3232296832 |    80 |      0 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1090 |      0 |
| 2006-04-15 15:43:54 | 3232296705 |    1090 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |    644 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296705 |    1090 | 3232296832 |    80 |    432 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |    423 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1090 |      0 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1090 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1090 |     97 |
| 2006-04-15 15:43:54 | 3232296705 |    1090 | 3232296832 |    80 |      6 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |   1446 |
| 2006-04-15 15:43:54 | 3232296832 |      80 | 3232296705 |  1089 |    979 |
| 2006-04-15 15:43:54 | 3232296705 |    1089 | 3232296832 |    80 |      6 |
+---------------------+------------+---------+------------+-------+--------+
45 rows in set (0.00 sec)

mysql> select sum( datalength ) from rawcpature where srcport = '80' or \
  dstport = '80';
+-------------------+
| sum( datalength ) |
+-------------------+
|             27868 |
+-------------------+
1 row in set (0.00 sec)

mysql> select distinct dstip, sum( datalength ) from rawcpature group \
  by 1 order by 2 desc;
+------------+-------------------+
| dstip      | sum( datalength ) |
+------------+-------------------+
| 3232296705 |             26053 |
| 3232296832 |              1815 |
+------------+-------------------+
2 rows in set (0.01 sec)
</pre>
            </table></table>&nbsp;

<! -- End Content ------ >

<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
