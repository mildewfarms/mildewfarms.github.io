<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v15, i11: Make Room on Your Bookshelf</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>
<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink">Article</span></td>
		<td><a href="../../../../source/SA/2006/nov2006.tar"><b class=codeListing>nov2006.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
    <td valign=top width=527 bgcolor="#ffffff"> 
      <table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <h1><img src="../../resource/1_Solaris.gif" width="245" height="130" align="right">Make Room on Your Bookshelf</h1>
            <p> Peter Baer Galvin 
          <p> With all of the online information available these 
            days, what is the purpose of books? I find that good books go into great 
            detail on their topics, provide useful background information, and show the 
            logical interconnection of their components. I find that the best books 
            also link to information online to provide further information, related 
            information, and to save typing (in the case of code). That is exactly what 
            readers get with the new two-volume Solaris Internals books. 
          <p>

            <b>Contents </b>
          <p> This two-volume set (<i>Solaris Performance and Tools</i> and <i>Solaris Internals, Second Edition</i>) 
            does not actually replace the previously very useful <i>Solaris Internals</i> from 2001. In 
            spite of the nearly 1500 pages in the two new books, they are not a 
            superset of the old edition. Pre-Solaris 8 internals are available in the 
            first edition, while Solaris 8 through Solaris 10 coverage is found in the 
            new volumes. 
          <p> The <i>Solaris Internals, Second Edition</i> volume is by far the larger 
            of the two. It delves into the design principles and implementation details 
            of Solaris versions 8 through 10, including broad coverage of: 
          <p>

          <ul>
            <li> Processes 
              
            <li> Scheduling 
              
            <li> Interprocess communication 
              
            <li> Process rights 
              
            <li> Zones 
              
            <li> Resource controls 
              
            <li> Memory management 
              
            <li> File systems 
              
            <li> Platform specific components 
              
            <li> Networking 
              
            <li> Kernel services 
              
            <li> And kernel debugging with <b>kmdb</b>
        </ul>
            <p> There is even an appendix describing how to add a system call to Solaris. 
          <p> For each of the topics, the authors provide detailed 
            analysis of the algorithms and kernel implementation of those algorithms. 
            They frequently show code fragments and appropriate header files. Where 
            appropriate, they explore the kernel aspect using user-level commands, such 
            as the <b>proc</b> tools and the <b>mdb</b> debugger. 
          <p>

            <i>Solaris Performance and Tools</i> is more oriented toward exploring a 
            system from outside of the kernel rather than inside of it as its bigger 
            brother does. The book includes coverage of: 
          <p>

          <ul>
            <li> CPU 
              
            <li> Processes 
              
            <li> Disk Behavior 
              
            <li> File Systems 
              
            <li> Memory 
              
            <li> Networks 
              
            <li> Performance counters 
              
            <li> Kernel monitoring 
              
            <li> Dynamic tracing 
              
            <li> Kernel statistics 
              
            <li> MDB 
        </ul>
            <p> The book also includes appendices on tunables, DTrace 
              one-liners, Java DTrace scripts, and sample Perl Kstat utilities. 
          <p> Its subtitle, "DTrace and MDB Techniques for 
            Solaris 10 and OpenSolaris", is a bit misleading. As powerful as 
            those tools are, the book certainly goes beyond them in showing how to 
            analyze system performance and locate and diagnose performance issues. 
          <p> Consider Chapter 4 on disk behavior and analysis. 
            Here authors McDougall, Mauro, and Gregg discuss all aspects of disk 
            performance. They show random and sequential I/O examples, detail 
            response-time theory and fact, talk about maximum I/O sizes, and thoroughly 
            explore the use of <b>iostat</b> in all its gory detail, including the all-important issue of 
            what the various output fields really mean. Next, they show disk 
            performance data from <b>kstat</b>, <b>sar</b>, 
            and several DTrace scripts, including examples from the downloadable 
            "DTraceToolkit" and the graphical "DTraceTazTool". 
          <p>

            <b>Utility </b>
          <p> Some of the extraordinary usefulness that <i>Solaris Internals, Second Edition</i> brings is its interconnection to the Solaris source code that is 
            now available at: <b>http://www.opensolaris.org</b>.
          <p> For each exploration of the internals of Solaris, 
            there is a link to the online source code that is being described. As good 
            as the first edition of this book was, the value of this new book is 
            multiplied given the availability of the source and the correlation between 
            the source and the book. Of course, there are also the expected links to 
            appropriate documentation. 
          <p> While all of the provided information is useful to 
            kernel programmers, it is also useful to anyone who programs on Solaris 8, 
            9, or 10 systems. Knowledge of how the kernel does what it does is crucial 
            to writing efficient code and to finding out what is inefficiently written. 
            The book is also useful for systems administrators for its ability to shine 
            a light into those dark system crevices where performance problems hide and 
            to provide illumination of what the kernel is doing with respect to any 
            given aspect of Solaris. 
          <p>

            <i>Solaris Performance and Tools</i> is the best single book for analyzing system performance and 
            debugging performance issues on Solaris 8, 9, and 10. Of course, it is 
            especially useful on Solaris 10 because it shows how to use the new tools 
            to gain insights that previously were difficult or impossible. 
          <p> The books together come with impeccable pedigree, 
            given the acknowledged expertise of the authors. And, although the text 
            sometimes gets deep and technical, the authors never forget that they are 
            writing for humans, and non-Solaris kernel engineer humans at that. 
          <p> Every book leaves wishes unfulfilled, and these books 
            are no exception, although the wishes are few and far between. Due to time 
            constraints and deadlines no doubt, ZFS is not covered. ZFS is the 
            revolutionary new file system/volume manager that shipped with Solaris 10 
            update 2. It was covered in previous Solaris Companion columns, which you 
            can read online at: 
          <p>

          <pre>
http://www.samag.com/documents/sam0602j/ 
            </pre>
and:
<p>

<pre>
http://www.samag.com/documents/sam0603h/ 
</pre>
There are also quite a few useful documents at:
<p>

<pre>
http://www.opensolaris.org/os/community/zfs/docs/ 
</pre>
including one describing the ZFS on-disk format. The 
    new <b>fsstat</b> command is not included in the books either, which is no surprise given that it 
    hasn't even shown up in an official Solaris release yet.
    <p>

    <b>Final Thoughts </b>
  <p> The Web site associated with the books is: 
  <p>

  <pre>
http://www.solarisinternals.com
    </pre>
Here the authors provide links to their blogs, sample 
    code, downloadable "cool tools", and even a podcast. There are 
    future plans to allow wiki-based community contributions to the Solaris 
    internals content, which would be a great addition to Solaris and 
    OpenSolaris knowledge should it come to fruition.
    <p> In total, the two books reviewed here present a new 
      level of knowledge about the internals of Solaris, what they do, how they 
      behave, and how to analyze that behavior. The books are a must for 
      developers, system programmers, and systems administrators who work with 
      Solaris 8, 9, or 10. They are especially useful for users of Solaris 10 and 
      OpenSolaris because of their exploration of the new tools in those 
      releases. These books receive my highest recommendation. 
  <p>

    <i>Peter Baer Galvin (<b>http://www.petergalvin.info</b>) is the Chief 
      Technologist for Corporate Technologies (<b>www.cptech.com</b>), a premier systems integrator and VAR. Before that, Peter 
      was the systems manager for Brown University's Computer Science 
      Department. He has written articles for <i>Byte</i> and other magazines, and previously wrote Pete's 
      Wicked World, the security column, and Pete's Super Systems, the 
      systems management column for <i>Unix Insider</i> (<b>http://www.unixinsider.com</b>). Peter is coauthor of the <i>Operating 
        Systems Concepts</i> and <i>Applied Operating Systems Concepts</i> textbooks. 
      As a consultant and trainer, Peter has taught tutorials and given talks on 
      security and systems administration worldwide. </i>
  <p>

  </table></table>&nbsp;

<! -- End Content ------ >

<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
