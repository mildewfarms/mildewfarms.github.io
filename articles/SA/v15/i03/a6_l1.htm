<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v15, i03: Listing 1 myconfigCDBI.pm</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink"><a href="a6.htm">Article</a></span></td>
		<td><span class="navbarLink"><a href="a6_f1.htm">Figure 1</a></span></td>
		<td><span class="navbarLink">Listing 1</span></td>
		<td><span class="navbarLink"><a href="a6_l2.htm">Listing 2</a></span></td>
		<td><a href="../../../../source/SA/2006/mar2006.tar"><b class=codeListing>mar2006.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
    <td valign=top width=527 bgcolor="#ffffff"> 
      <table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <h2><B>Listing 1 </B><I>myconfigCDBI.pm</i></h2>
            <P> 
            <PRE>
 1: package MyConfig::CDBI;
 2: use base 'Class::DBI';
 3: use Class::DBI::AbstractSearch;
 4: 
 5: package MyConfig::CDBI::Interface;
 6: use base 'MyConfig::CDBI';
 7: __PACKAGE__-&gt;columns(Primary =&gt; qw/interface device/);
 8: __PACKAGE__-&gt;columns(Others =&gt; qw/description/);
 9: __PACKAGE__-&gt;has_a(device =&gt; 'MyConfig::CDBI::Device');
10: 
11: package MyConfig::CDBI::Device;
12: use base 'MyConfig::CDBI';
13: __PACKAGE__-&gt;columns(Primary =&gt; qw/device/);
14: __PACKAGE__-&gt;columns
15:     (Others =&gt; qw/location contact serial hardware software class/);
16: __PACKAGE__-&gt;has_many(interfaces =&gt; 'MyConfig::CDBI::Interface' );
17: 
18: package MyConfig::CDBI::Address;
19: use base 'MyConfig::CDBI';
20: __PACKAGE__-&gt;columns(Primary =&gt; qw/ip interface device/);
21: __PACKAGE__-&gt;columns(Others =&gt; qw/cidr type/);
22: __PACKAGE__-&gt;has_a(device =&gt; 'MyConfig::CDBI::Device');
23: __PACKAGE__-&gt;has_a(cidr =&gt; 'MyConfig::CDBI::Subnet');
24: 
25: package MyConfig::CDBI::Subnet;
26: use base 'MyConfig::CDBI';
27: __PACKAGE__-&gt;columns(All =&gt; qw/cidr first last/);
28: __PACKAGE__-&gt;has_many(addresses =&gt; 'MyConfig::CDBI::Address');
29: 
30: package MyConfig::CDBI::Sighting;
31: use base 'MyConfig::CDBI';
32: __PACKAGE__-&gt;columns(Primary =&gt; qw/endpoint time device interface/);
33: __PACKAGE__-&gt;has_a(endpoint =&gt; 'MyConfig::CDBI::Endpoint');
34: __PACKAGE__-&gt;has_a(device =&gt; 'MyConfig::CDBI::Device');
35: 
36: package MyConfig::CDBI::Assignment;
37: use base 'MyConfig::CDBI';
38: __PACKAGE__-&gt;columns(Primary =&gt; qw/ip time/);
39: __PACKAGE__-&gt;columns(Other =&gt; qw/endpoint cidr/);
40: __PACKAGE__-&gt;has_a(endpoint =&gt; 'MyConfig::CDBI::Endpoint');
41: __PACKAGE__-&gt;has_a(cidr =&gt; 'MyConfig::CDBI::Subnet');
42: 
43: package MyConfig::CDBI::Endpoint;
44: use base 'MyConfig::CDBI';
45: __PACKAGE__-&gt;columns(Primary =&gt; qw/endpoint/);
46: __PACKAGE__-&gt;columns(Other =&gt; qw/os vendor time/);
47: __PACKAGE__-&gt;has_many(all_assignments =&gt; 'MyConfig::CDBI::Assignment');
48: __PACKAGE__-&gt;has_many(all_sightings =&gt; 'MyConfig::CDBI::Sighting');
49: 
50: 42;</pre></table></table>&nbsp;

<! -- End Content ------ >

<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
