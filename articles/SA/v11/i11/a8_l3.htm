<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 4.0//EN">


<HTML>
<HEAD>
<TITLE>v11, i11: Listing 3 Sendmail configuration details</TITLE>
<LINK REL=StyleSheet HREF="../../resource/css/sacdrom.css" TYPE="text/css" TITLE="CSS1">
</HEAD>

<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#669999" vlink="#333366" topmargin=0 leftmargin=0>

<! -- Begin MASTER TABLE -- >
<!center>
<table width=98% cellpadding=0 cellspacing=0 border=0 bgcolor="#ffffff">
  <tr>

<table cellpadding=5 cellspacing=0 border=0>
	<tr>

		<td><span class="navbarLink"><a href="a8.htm">Article</a></span></td>
		<td><span class="navbarLink"><a href="a8_f1.htm">Figure 1</a></span></td>
		<td><span class="navbarLink"><a href="a8_f2.htm">Figure 2</a></span></td>
		<td><span class="navbarLink"><a href="a8_f3.htm">Figure 3</a></span></td>
		<td><span class="navbarLink"><a href="a8_f4.htm">Figure 4</a></span></td>
	</tr>
	<tr>
		<td><span class="navbarLink"><a href="a8_f5.htm">Figure 5</a></span></td>
		<td><span class="navbarLink"><a href="a8_l1.htm">Listing 1</a></span></td>
		<td><span class="navbarLink"><a href="a8_l2.htm">Listing 2</a></span></td>
		<td><span class="navbarLink">Listing 3</span></td>
		<td><a href="../../../../source/SA/2002/nov2002.tar"><b class=codeListing>nov2002.tar</b></a></td>

	</tr>
</table>


</tr>
<tr>
<! -- Begin Content ------ >
    <td valign=top width=527 bgcolor="#ffffff"> 
      <table width=100% cellpadding=15 cellspacing=0 border=0>
<tr>
          <td valign=top> 
            <! -- Insert Content ------ >
            <h1><b>Listing 3 </b><i>Sendmail configuration details</i></h1>
            <p> 
            <pre>
1. port 25 mc file:     

divert(-1)
dnl ################################################ dnl
dnl #   Please leave a copy of this mc file in     # dnl
dnl #   /etc/mail for reference purposes.          # dnl
dnl ################################################ dnl
divert(0)dnl
VERSIONID(`$Id: qbert.mc,v 8.12.1 11/15/2001 Enrique Flores EHF Exp $')
OSTYPE(`solaris2')dnl
EXPOSED_USER(`root')dnl
DOMAIN(`generic')dnl
dnl FEATURE(`ldap_routing', &lt;mailHost&gt;, &lt;mailRoutingAddress&gt;, &lt;bounce&gt;, &lt;detail&gt;)dnl
FEATURE(`ldap_routing', `ldap -1 -v mailHost -k \
  (&amp;(objectClass=MailRecipient)(mail=%0))', `ldap -1 -v mailRoutingAddress -k \
  (&amp;(objectClass=MailRecipient)(mail=%0))', `', `')dnl
FEATURE(`relay_entire_domain')dnl
FEATURE(`promiscuous_relay')dnl
FEATURE(`use_cw_file')dnl
FEATURE(`mailertable', `btree /etc/mail/mailertable')dnl
FEATURE(`virtusertable', `btree /etc/mail/virtusertable')dnl
define(`ALIAS_FILE',`ldap:-k (&amp;(objectClass=mailGroup)(!(objectclass=nisMap))(mail=%0)) -v \
  mgrpRFC822MailMember,/etc/mail/aliases')dnl
define(`confLDAP_DEFAULT_SPEC', `-p 389 -h "ldap1 ldap2 ldap3" -b o=cypress.com')dnl
LDAPROUTE_DOMAIN(`cypress.com')dnl
dnl LDAPROUTE_DOMAIN_FILE(`/etc/mail/ldap-route')dnl
INPUT_MAIL_FILTER(`bmifilter', `S=inet:5513@localhost')dnl
MAILER(`local')dnl
MAILER(`smtp')dnl


2. port 5512 mc file:

divert(-1)
dnl ################################################ dnl
dnl #   Please leave a copy of this mc file in     # dnl
dnl #   /etc/mail for reference purposes.          # dnl
dnl ################################################ dnl
divert(0)dnl
VERSIONID(`$Id: qbert-graymail.mc,v 8.12.1 11/15/2001 Enrique Flores EHF Exp $')
OSTYPE(`solaris2')dnl
EXPOSED_USER(`root')dnl
DOMAIN(`generic')dnl
DAEMON_OPTIONS(`Port=5512')dnl
FEATURE(`no_default_msa')dnl
FEATURE(`use_cw_file')dnl
define(`LUSER_RELAY',`local:nobody')dnl
define(`confCW_FILE', `/etc/mail/local-graymail-hosts')dnl
define(`ALIAS_FILE', `ldap:-k (&amp;(objectClass=mailGroup)(mail=%0)) -v \
  mgrpRFC822MailMember,ldap:-k (&amp;(objectClass=mailRecipient)(mail=%0)) \
  -v mailroutingaddress,/etc/mail/aliases')dnl
define(`QUEUE_DIR', `/var/spool/graymqueue/')dnl
define(`confSMTP_LOGIN_MSG', `Sendmail 8.12.1 w/libmilter and graymail')dnl 
define(`confLDAP_DEFAULT_SPEC', `-p 389 -h "ldap1 ldap2 ldap3" -b o=cypress.com')dnl
LDAPROUTE_DOMAIN(`cypress.com')dnl
dnl LDAPROUTE_DOMAIN_FILE(`/etc/mail/ldap-route')dnl
MAILER(`local')dnl



3. Mlocal entry:

Mlocal,         P=/usr/local/bin/maildrop, F=lsA5:/|@SPfhn, S=10/30, R=20/40,
                T=DNS/RFC822/X-Unix,
                A=maildrop -d $u
</pre>
          </table></table>&nbsp;

<! -- End Content ------ >

<!/center>
<! -- End MASTER TABLE -- >

</body>



<! -- Begin Content ------ >
</html>
