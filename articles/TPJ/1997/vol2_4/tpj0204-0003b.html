<html>
<head>
  <title>Listing 2: JPLExample - a JPL example with some AWT mixed in for good measure - The Perl Journal, Winter 1997</title>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
  <meta name="vscategory" content="Perl">
  <meta name="vsisbn" content="">
  <meta name="vstitle" content="Listing 2. JPLExample">
  <meta name="vsauthor" content="Brian Jepson">
  <meta name="searchdescription" content="">
  <meta name="vsimprint" content="The Perl Journal">
  <meta name="vspublisher" content="Earthweb">
  <meta name="vspubdate" content="Winter 1997">
  <!-- update listing #, listing title, and issue  -->

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#DD0000" vlink=
"#DD0000" alink="#DD0000" leftmargin="0" topmargin="0" marginwidth=
"0" marginheight="0">
  <!-- update listing #, listing title, and issue throughout the table -->

  <table cellspacing="0" cellpadding="5" width="100%" border="0">
    <tr align="left" valign="top">
      <td bgcolor="#CCCC99">
        <table width="100%">
          <tr>
            <td valign="top" bgcolor="#CCCC99" nowrap><font face=
            "Arial,Helvetica" size="+1">Listing 2.</font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><b>JPLExample - a JPL example with some AWT
            mixed in for good measure</b></font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><i>Brian Jepson</i></font></td>

            <td valign="top" bgcolor="#CCCC99"><font size="-1"
            face="Arial,Helvetica" color="#663300">JPL: The
            Java-Perl Library<br>
            The Perl Journal, Winter 1997</font></td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>
        <table width="100%">
          <tr>
            <td width="5%" bgcolor="#FFFFFF">&nbsp;</td>

            <td bgcolor="#FFFFFF">
              <font color="#000000">
              <!-- insert code listing or table here --></font>
              <pre>
<font color="#000000">
 /* JPLExample - a JPL example with some AWT mixed in 

 * for good measure. 

 */



import java.awt.*; 

import java.awt.event.*;



public class JPLExample {



  // Create an action listener that responds to a button

  // press. This makes use of the JDK 1.1 anonymous class

  // feature. The call to the class constructor is followed

  // by the definition of one of its methods, allowing us to

  // print something when the user hits a button. 

  ActionListener al = new ActionListener() { 

    public void actionPerformed(ActionEvent e)

      System.out.println("Please do not press this button again.");

   } 

  };



  // This window adapter will respond to events that

  // close the window, such as selecting close or exit

  // from the window options menu. 

  WindowAdapter wa = new WindowAdapter() { 

    public void windowClosing(WindowEvent e) { 

      System.exit(0); 

    } 

  };



  // A Canvas with a cute Image in it. 

  Canvas c = new Canvas() {

    { this.setSize(564,125); } // Instance initializer.



    // An image containing the text "Java-PerL". 

    Image img = Toolkit.getDefaultToolkit().getImage("jpl.gif");



    public void paint(Graphics g) { 

      g.drawImage(img, 0, 0, this); 

    }

  };



  /* The constructor for this class. */ 

  public JPLExample() {



    // Create a new Frame. 

    Frame f = new Frame();



    // Add the window adapter to the Frame. 

    f.addWindowListener(wa);



    // Add the Canvas containing the nifty little image.

    f.add("North", c);



    // Call the Perl method, passing the Frame as an argument. 

    plSample(f);

 

    // Pack and show the Frame. 

    f.pack(); f.show();

  }

  /* A Perl method that creates/adds a Button to the Frame. */

   perl void plSample(Frame f) {{



    # Import the Button class. 

    use JPL::Class 'java::awt::Button';



    # Create a new Button. 

    my $btn = new java::awt::Button;



    # Look up method signature for setLabel() and set the

    # label text of the Button. 

    my $setLabel = getmeth('setLabel', ['java.lang.String'], []);

    $btn-&gt;$setLabel("Hi There!");



    # Look up the addActionListener() method. 

    my $addActionListener = getmeth('addActionListener',

                ['java.awt.event.ActionListener'], []);



    # Add the ActionListener that we created at the top of

    # this class. Since it's a field of this class, it can be

    # accessed through the corresponding method: (al). 

    $btn-&gt;$addActionListener( $self-&gt;al() );



    # Look up a version of add() that lets us specify a 

    # position, such as North, South, Center, etc. 

    my $add = getmeth('add', ['java.lang.String',

              'java.awt.Component'], ['java.awt.Component']);



    # Add the button to the south end of the Frame. 

    $f-&gt;$add("South", $btn);

  }}

 

  /* The main method. */ 

  public static void main(String[] argv) { 

    JPLExample jex = new JPLExample(); 

  }

</font>
</pre><!--  end code listing  -->
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
