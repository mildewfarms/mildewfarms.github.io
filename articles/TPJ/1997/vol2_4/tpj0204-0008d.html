<html>
<head>
  <title>Listing 4: machine.h: one of top's header files - The Perl Journal, Winter 1997</title>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
  <meta name="vscategory" content="Perl">
  <meta name="vsisbn" content="">
  <meta name="vstitle" content="SWIG - Listing 4">
  <meta name="vsauthor" content="Scott Bolte">
  <meta name="searchdescription" content="">
  <meta name="vspublisher" content="Earthweb">
  <meta name="vsimprint" content="The Perl Journal">
  <meta name="vspubdate" content="Winter 1997">
  <!-- update listing #, listing title, and issue  -->

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#DD0000" vlink=
"#DD0000" alink="#DD0000" leftmargin="0" topmargin="0" marginwidth=
"0" marginheight="0">
  <!-- update listing #, listing title, and issue throughout the table -->

  <table cellspacing="0" cellpadding="5" width="100%" border="0">
    <tr align="left" valign="top">
      <td bgcolor="#CCCC99">
        <table width="100%">
          <tr>
            <td valign="top" bgcolor="#CCCC99" nowrap><font face=
            "Arial,Helvetica" size="+1">Listing 4.</font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><b><i>machine.h</i>: one of top's header
            files</b></font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><i>Scott Bolte</i></font></td>

            <td valign="top" bgcolor="#CCCC99"><font size="-1"
            face="Arial,Helvetica" color="#663300">SWIG<br>
            The Perl Journal, Winter 1997</font></td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>
        <table width="100%">
          <tr>
            <td width="5%" bgcolor="#FFFFFF">&nbsp;</td>

            <td bgcolor="#FFFFFF">
              <font color="#000000">
              <!-- insert code listing or table here -->
               <b><i>machine.h</i>: one of top's header
              files</b></font>
              <pre>
<font color="#000000">
/*

 *  This file defines the interface between top and the machine-dependent

 *  module.  It is NOT machine dependent and should not need to be changed

 *  for any specific machine.

 */



/*

 * the statics struct is filled in by machine_init

 */

struct statics

{

    char **procstate_names;

    char **cpustate_names;

    char **memory_names;

};



/* The system_info struct is filled in by a machine-dependent routine. */



struct system_info

{

    int    last_pid;

    double load_avg[NUM_AVERAGES];

    int    p_total;

    int    p_active;     /* number of procs considered "active" */

    int    *procstates;

    int    *cpustates;

    int    *memory;

};



/* cpu_states is an array of percentages * 10.  For example, 

   the (integer) value 105 is 10.5% (or .105).

 */



/*

 * the process_select struct tells get_process_info what processes we

 * are interested in seeing

 */



struct process_select

{

    int idle;           /* show idle processes */

    int system;         /* show system processes */

    int uid;            /* only this uid (unless uid == -1) */

    char *command;      /* only this command (unless == NULL) */

};



/* routines defined by the machine dependent module */



char *format_header();

char *format_next_process();



/* non-int routines typically used by the 

   machine dependent module */

char *printable();

</font>
</pre><!--  end code listing  -->
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
