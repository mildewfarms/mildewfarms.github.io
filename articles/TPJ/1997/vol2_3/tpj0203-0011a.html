<html>
<head>
  <title>Listing 1: Makefile.PL from X11::Fvwm Amplitudes - The Perl Journal, Fall 1997</title>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
  <meta name="vscategory" content="Perl">
  <meta name="vsisbn" content="">
  <meta name="vstitle" content=
  "Listing 1. Makefile.PL from X11::Fvwm Amplitudes">
  <meta name="vsauthor" content="Randy J. Ray">
  <meta name="searchdescription" content="">
  <meta name="vsimprint" content="The Perl Journal">
  <meta name="vspublisher" content="Earthweb">
  <meta name="vspubdate" content="Fall 1997">
  <!-- update listing #, listing title, and issue  -->

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#DD0000" vlink=
"#DD0000" alink="#DD0000" leftmargin="0" topmargin="0" marginwidth=
"0" marginheight="0">
  <!-- update listing #, listing title, and issue throughout the table -->

  <table cellspacing="0" cellpadding="5" width="100%" border="0">
    <tr align="left" valign="top">
      <td bgcolor="#CCCC99">
        <table width="100%">
          <tr>
            <td valign="top" bgcolor="#CCCC99" nowrap><font face=
            "Arial,Helvetica" size="+1">Listing 1.</font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><b>Makefile.PL from X11::Fvwm
            Amplitudes</b></font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><i>Randy J. Ray</i></font></td>

            <td valign="top" bgcolor="#CCCC99"><font size="-1"
            face="Arial,Helvetica" color="#663300">MakeMaker: Doing
            More While Working Less<br>
            The Perl Journal, Fall 1997</font></td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>
        <table width="100%">
          <tr>
            <td width="5%" bgcolor="#FFFFFF">&nbsp;</td>

            <td bgcolor="#FFFFFF">
              <font color="#000000">
              <!-- insert code listing or table here -->
               <b>Makefile.PL from X11::Fvwm Amplitudes</b></font>
              <pre>
<font color="#000000">


# $Id: Makefile.PL,v 1.2 1997/04/30 18:04:34 rjray Exp rjray $ 

require 5.002; 

use ExtUtils::MakeMaker; 



# This is borrowed almost verbatim from Graham Barr&#8217;s MailTools package 

sub chk_version { 

    my ($pkg, $wanted) = @_; 

    $| = 1; 

    print "Checking for $pkg..."; 



    eval { my $p; ($p = $pkg . ".pm") =~ s!::!/!g; require $p; }; 



    my $vstr = ${"${pkg}::VERSION"} ? "found v" . ${"${pkg}::VERSION"} 

                                    : "not found";



    my $vnum = ${"${pkg}::VERSION"} || 0; 



    print $vnum &gt;= $wanted ? "ok\n" : " " . $vstr . "\n"; 

    $vnum &gt;= $wanted; 

} 



chk_version(Tk =&gt; 400.200) or 

  warn "\n\tThe Tk extension (400.200 or newer) was not found. You will\n" . 

  "\tnot be able to use Tk as a GUI (via X11::Fvwm::Tk) without it.\n\n"; 



chk_version(X11::Xforms =&gt; 0.7) or 

  warn "\n\tThe X11::Xforms extension (0.7 or newer) was not found. You\n" 

  "\twill not be able to use X11::Xforms as a GUI (via X11::Fvwm::Xforms)\n". 

  "\twithout it.\n\n"; 



@DEMO_SCRIPTS = qw(scripts/PerlTkWL scripts/PerlWinList scripts/TkPerlConsole 

                  scripts/pDebug); 



%PL_SCRIPTS = map { sprintf("%s.PL", $_) =&gt; "$_" } @DEMO_SCRIPTS;



WriteMakefile( 

              NAME          =&gt; &#8217;X11::Fvwm&#8217;, 

              VERSION_FROM  =&gt; &#8217;Fvwm.pm&#8217;, 

              LIBS          =&gt; [&#8217;&#8217;], 

              DEFINE        =&gt; &#8217;&#8217;, 

              INSTALLSCRIPT =&gt; &#8217;/usr/local/lib/X11/fvwm2&#8217;, 

              INC           =&gt; &#8217;-I$(FVWMSRCDIR)&#8217;, 

              macro         =&gt; { &#8217;FVWMSRCDIR&#8217; =&gt; &#8217;/usr/local/src/fvwm&#8217; }, 

              dist          =&gt; { COMPRESS =&gt; &#8217;gzip -9f&#8217;, SUFFIX =&gt; &#8217;gz&#8217; }, 

              EXE_FILES     =&gt; [@DEMO_SCRIPTS], 

              PL_FILES      =&gt; \%PL_SCRIPTS, 

              PMLIBDIRS     =&gt; [&#8217;Fvwm&#8217;], 

              clean =&gt; { FILES =&gt; join(&#8217; &#8217;, @DEMO_SCRIPTS) }, 

              realclean =&gt; { FILES =&gt; join(&#8217; &#8217;, @DEMO_SCRIPTS) } 

);

</font>
</pre><!--  end code listing  -->
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
