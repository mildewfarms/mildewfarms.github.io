<html>
<head>
  <title>Listing 1: Main Program Output - The Perl Journal, Winter 1996</title>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
  <meta name="vscategory" content="Perl">
  <meta name="vsisbn" content="">
  <meta name="vstitle" content="Listing 1. Main Program Output">
  <meta name="vsauthor" content="Mike Stok">
  <meta name="searchdescription" content="">
  <meta name="vsimprint" content="The Perl Journal">
  <meta name="vspublisher" content="Earthweb">
  <meta name="vspubdate" content="Winter 1996">
  <!-- update listing #, listing title, and issue  -->

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#DD0000" vlink=
"#DD0000" alink="#DD0000" leftmargin="0" topmargin="0" marginwidth=
"0" marginheight="0">
  <!-- update listing #, listing title, and issue throughout the table -->

  <table cellspacing="0" cellpadding="5" width="100%" border="0">
    <tr align="left" valign="top">
      <td bgcolor="#CCCC99">
        <table width="100%">
          <tr>
            <td valign="top" bgcolor="#CCCC99" nowrap><font face=
            "Arial,Helvetica" size="+1">Listing 1.</font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><b>Main Program Output</b></font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><i>Mike Stok</i></font></td>

            <td valign="top" bgcolor="#CCCC99"><font size="-1"
            face="Arial,Helvetica" color="#663300">A Subjective
            Look at Object-Oriented Programming<br>
            The Perl Journal, Winter 1996</font></td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>
        <table width="100%">
          <tr>
            <td width="5%" bgcolor="#FFFFFF">&nbsp;</td>

            <td bgcolor="#FFFFFF">
              <font color="#000000">
              <!-- insert code listing or table here --></font>
              <pre>
<font color="#000000">sub first { 
    my $self = shift;

    $self-&gt;{row} = 1;

    if ($self-&gt;{neighbor}-&gt;first()){
        return $self-&gt;testOrAdvance(); 
    }
    return 0; 
}

sub testOrAdvance { 
    my $self = shift;

    if ($self-&gt;{neighbor}-&gt;canAttack(@{$self}{'row','column'})){
        return $self-&gt;next (); 
    }
    return 1; 
}


sub print { 
    my $self = shift;

    $self-&gt;{neighbor}-&gt;print(); 

    print "row: $self-&gt;{row} column: $self-&gt;{column}\n";
    return; 
}

sub canAttack { 
    my $self = shift; 
    my $row = shift; 
    my $column = shift;

    $self-&gt;{row} == $row and return 1;

    # $cd and $rd contain the column and row
    # differences between the position and this queen.
    # If $cd == $rd, they're on the same diagonal.

    my $cd = abs ($column - $self-&gt;{column});
    my $rd = abs ($row - $self-&gt;{row});
    $cd == $rd and return 1;

    return $self-&gt;{neighbor}-&gt;canAttack($row,$column);
}


sub next { 
    my $self = shift;
    local $^W = 0;   # turn warnings off
    if ($self-&gt;{row} == 8) { 
        unless ($self-&gt;{neighbor}-&gt;next ()) { return 0; }
        else { $self-&gt;{row} = 0; } 
    }
    $self-&gt;{row}++;
    return $self-&gt;testOrAdvance (); 
}
</font>
</pre><!--  end code listing  -->
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
