<html><head><title>Listing 7</title></head><body bgcolor="ffffff"><b>Listing 7. Creating the HTML for the client side image map and the sidebar</b> &nbsp;<pre>my ($w,$h) = (CROP_WIDTH, CROP_HEIGHT);# We use $x and $y to generate the image reference for crop.cgi:#my ($x, $y) = getImageMapCoords();print &lt;&lt; IMG_HTML;&lt;img src="crop.cgi?$x,$y" width="$w" height="$h"     usemap="#projects" alt="This area includes the following projects..."&gt;&lt;map name="projects"&gt;IMG_HTMLmy ($x_left, $y_top, $x_right, $y_bottom) = getZoomedInCoords( $x, $y );my @Locations = getIconLocationsByCoords($x_left, $y_top, $x_right, $y_bottom);# Create an  entry in the client side image map for each project# location#foreach my $iconloc ( @Locations ) {   my ( $left, $top, $right, $bottom, $mapcode, $name ) =      (       $iconloc-&gt;{X} - $x_left - HALF_ICON,       $iconloc-&gt;{Y} - $y_top  - HALF_ICON,       $iconloc-&gt;{X} - $x_left + HALF_ICON - 1,       $iconloc-&gt;{Y} - $y_top  + HALF_ICON - 1,       encode_entities( $iconloc -&gt;{Code} ),       encode_entities( $iconloc -&gt;{Name} )      );   print &lt;&lt; AREA_HTML;    &lt;area coords="$left,$top,$right,$bottom" alt="$name"          href="viewProjects.cgi?Code="$code"&gt;AREA_HTML}print "&lt;/map&gt;";</pre><HR></BODY></HTML>