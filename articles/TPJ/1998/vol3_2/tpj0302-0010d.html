<html>
<head>
  <title>Listing 4: COUNTERPOINT - The Perl Journal, Summer 1998</title>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
  <meta name="vscategory" content="Perl">
  <meta name="vsisbn" content="">
  <meta name="vstitle" content="Threads - Listing 4">
  <meta name="vsauthor" content="Dan Sugalski">
  <meta name="searchdescription" content="">
  <meta name="vspublisher" content="Earthweb">
  <meta name="vsimprint" content="The Perl Journal">
  <meta name="vspubdate" content="Summer 1998">
  <!-- update listing #, listing title, and issue  -->

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#DD0000" vlink=
"#DD0000" alink="#DD0000" leftmargin="0" topmargin="0" marginwidth=
"0" marginheight="0">
  <!-- update listing #, listing title, and issue throughout the table -->

  <table cellspacing="0" cellpadding="5" width="100%" border="0">
    <tr align="left" valign="top">
      <td bgcolor="#CCCC99">
        <table width="100%">
          <tr>
            <td valign="top" bgcolor="#CCCC99" nowrap><font face=
            "Arial,Helvetica" size="+1">Listing 4.</font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><b>COUNTERPOINT</b></font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><i>Tom Christiansen</i></font></td>

            <td valign="top" bgcolor="#CCCC99"><font size="-1"
            face="Arial,Helvetica" color="#663300">Threads<br>
            The Perl Journal, Summer 1998</font></td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>
        <table width="100%">
          <tr>
            <td width="5%" bgcolor="#FFFFFF">&nbsp;</td>

            <td bgcolor="#FFFFFF">
              <font color="#000000">
              <!-- insert code listing or table here --></font>

              <p><font color="#000000">Programming with multiple
              threads of control is old hat for multitasking
              systems like Unix. In Perl, as in C, process creation
              has traditionally used <tt>fork()</tt> to clone
              duplicates of the current process. Because making new
              tasks quickly is critical to any multitasking system,
              significant effort has gone into streamlining this
              call, rendering <tt>fork()</tt> as efficient as it is
              elegant. Unlike lightweight processes (threads), any
              data shared across a <tt>fork()</tt> must be
              explicitly shared, thus deftly avoiding the
              concurrent access and locking issues that so plague
              thread-based programming. Copy-on-write technology
              keeps this cheap. A thread's <tt>join()</tt>
              operation corresponds to <tt>waitpid()</tt> for
              processes, and communication between related
              processes uses pipes as data queues. While some
              programs are easier to write using threads, this is
              not universally true - and threads carry their own
              perils, being trickier than you might think. Often
              forks and threads can implement the same program: see
              the <i>prime-fork.gz</i> and <i>prime-thread.gz</i>
              programs at: <a href=
              "http://www.perl.com/CPAN/authors/id/TOMC/scripts/"
              target=
              "resource window">http://www.perl.com/CPAN/authors/id/TOMC/scripts/</a>
              for parallel implementations. There is also a
              <i>fwdport.gz</i> program, which forks twin processes
              per client connection for a simple implementation of
              bidirectional I/O. 
              <!--  end code listing  --></font></p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
