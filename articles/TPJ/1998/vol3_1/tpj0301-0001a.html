<html>
<head>
  <title>Table 1. The Phases of mod_perl - The Perl Journal Spring 1998</title>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
  <meta name="vscategory" content="Perl">
  <meta name="vsisbn" content="">
  <meta name="vstitle" content=
  "Stately Scripting with mod_perl - Table 1">
  <meta name="vsauthor" content="Lincoln Stein, Doug MacEachern">
  <meta name="searchdescription" content="">
  <meta name="vspublisher" content="Earthweb">
  <meta name="vsimprint" content="The Perl Journal">
  <meta name="vspubdate" content="Spring 1998">

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#DD0000" vlink=
"#DD0000" alink="#DD0000" leftmargin="0" topmargin="0" marginwidth=
"0" marginheight="0">
  <table cellspacing="0" cellpadding="5" width="100%" border="0">
    <tr align="left" valign="top">
      <td bgcolor="#CCCC99">
        <table width="98%">
          <tr>
            <td valign="top" bgcolor="#CCCC99" nowrap><font face=
            "Arial,Helvetica" size="+1">Table 1.</font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><b>The Phases of mod_perl</b></font><br>
            <font size="-1" face="Arial,Helvetica" color=
            "#663300"><i>Lincold Stein and Doug
            MacEachern</i></font></td>

            <td valign="top" bgcolor="#CCCC99"><font size="-1"
            face="Arial,Helvetica" color="#663300">"Stately
            Scripting with mod_perl"<br>
            The Perl Journal, Spring 1998</font></td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>
        <table width="98%">
          <tr>
            <td width="5%" bgcolor="#FFFFFF">&nbsp;</td>

            <td bgcolor="#FFFFFF">
              <ol>
                <li><font color="#000000">Module initialization
                (directives: <tt>PerlModule</tt>,
                <tt>PerlRequire</tt>)<br>
                Called once in the parent server, during startup
                and restarts. This is where the interpreter object
                is constructed.</font></li>

                <li><font color="#000000">Reading the configuration
                file (directive:
                <tt>&lt;Perl&gt;...&lt;/Perl&gt;</tt>)<br>
                Called by the parent server during startup and
                restarts to read the server configuration files.
                Also called when .htaccess files are found at
                request time.</font></li>

                <li><font color="#000000">Child initialization
                (directive: <tt>PerlChildInitHandler</tt>)<br>
                Called when a new Apache process has been
                launched.</font></li>

                <li><font color="#000000">Post read request
                (directive:
                <tt>PerlPostReadRequestHandler</tt>)<br>
                Called after the client request has been read, but
                before any other processing has been performed.
                Here's where you can examine HTTP headers and
                change them before Apache gets a crack at
                them.</font></li>

                <li><font color="#000000">URI translation
                (directive: <tt>PerlTransHandler</tt>)<br>
                Called to perform the translation between the
                virtual URI and the physical filename. For example,
                you can use this to override the way that Apache
                translates URIs into paths in the document root, or
                to perform fancy string mappings.</font></li>

                <li><font color="#000000">Header parsing
                (directive: <tt>PerlHeaderParserHandler</tt>)<br>
                Now that the URI has been mapped to a resource, the
                module is given another chance to look at the
                request. Here it can decide if the request
                structure needs to be modified in some way or
                terminated altogether before the server performs
                resource-intensive tasks.</font></li>

                <li><font color="#000000">Access control
                (directive: <tt>PerlAccessHandler</tt>)<br>
                When a URL is under access control (access
                restriction that does not require user
                authentication such as a password),
                <tt>PerlAccessHandler()</tt> is called. This lets
                you contrive your own restrictions for a directory,
                such as restricting access based on the day of the
                week or phase of the moon.</font></li>

                <li><font color="#000000">Authentication
                (directive: <tt>PerlAuthenHandler</tt>)<br>
                When invoked, this phase determines whether the
                user is who he says he is (by username and
                password).</font></li>

                <li><font color="#000000">Authorization (directive:
                <tt>PerlAuthzHandler</tt>)<br>
                This phase decides whether the user is permitted to
                access this particular URI.</font></li>

                <li><font color="#000000">MIME type mapping
                (directive: <tt>PerlTypeHandler</tt>)<br>
                This phase maps URIs to MIME types. You can use
                this to override Apache's default file extension to
                MIME type mappings. For example, you could look the
                MIME type up in a database, or infer it from the
                file's "magic number."</font></li>

                <li><font color="#000000">Miscellaneous fixups
                (directive: <tt>PerlFixupHandler</tt>)<br>
                This phase is invoked just before content
                generation so that modules can "fixup" the request
                now that it knows exactly who will handle the
                response. For example, this is where mod_env
                prepares the <tt>SetEnv</tt> and <tt>PassEnv</tt>
                configuration directives that show up in Perl's
                %ENV.</font></li>

                <li><font color="#000000">Content generation
                (directive: <tt>PerlHandler</tt>)<br>
                This is where you create HTML pages, redirections,
                or any other type of HTTP response. This is the
                most frequently handled phase of the
                transaction.</font></li>

                <li><font color="#000000">Logging (directive:
                <tt>PerlLogHandler</tt>)<br>
                Called after all the other phases to log the
                results. You can use this to customize Apache's log
                format, or to change logging completely. For
                example, you can compute summary statistics and
                store them to a relational database.</font></li>

                <li><font color="#000000">Registered cleanups
                (directive: <tt>PerlCleanupHandler</tt>)<br>
                Modules may register functions to be called after
                the client connection has been closed and just
                before the various request resources are cleaned
                up.</font></li>

                <li><font color="#000000">Child exit (directive:
                <tt>PerlChildExitHandler</tt>)<br>
                Called just before an Apache process
                terminates.</font></li>
              </ol>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
