<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
  <title>TPJ One Liners - The Perl Journal, Spring 2000</title>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
  <meta name="vscategory" content="Perl">
  <meta name="vsisbn" content="">
  <meta name="vstitle" content="The Perl Journal One Liners">
  <meta name="vsauthor" content="Jon Orwant">
  <meta name="searchdescription" content="Perl Journal One Liners">
  <meta name="vsimprint" content="The Perl Journal">
  <meta name="vspublisher" content="Earthweb">
  <meta name="vspubdate" content="Spring 2000">
  <!-- always update the article title and issue -->

</head>

<body bgcolor="#FFFFFF">
  <!-- end head -->
  <!-- link to the previous and next documents relative to the current document -->
  <!-- packages described, if necessary -->

  <h2 align="center">The Perl Journal One-Liners</h2>

  <div align="center">
    <table border="1" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #44</h3>

          <p>Asteroid 2000 BF19 was thought to be on a potentially
          dangerous approach path for us Terrans, with a possible
          impact in 2022. A Perl program called clomon.pl showed
          that the asteroid cannot come any closer than 0.038 AU
          for the next fifty years. Sleep tight!</p>

          <p align="right"><i>&#8212;Based on email from Andrea
          Milani and Scott Manley</i></p>
        </td>
      </tr>
    </table>

    <table border="1" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #45</h3>

          <p>Tracking the progress of a file as it downloads:</p>
          <pre>
perl -e 'BEGIN{$|=1;$f=$ARGV[0];$s=(stat$f)[7];$t=time}
	    while(sleep 1){printf"\r$f %s bytes at %.2f Kb/s   ",
        $_=(stat$f)[7],($_-$s)/1024/(time-$t)}' 
</pre>

          <p align="right">your_downloading_file</p>

          <p align="right"><i>&#8212;Courtesy Philippe
          Bruhat</i></p>
        </td>
      </tr>
    </table>

    <table border="1" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #46</h3>

          <p>A full list of installed (but nonstandard) modules,
          and where they are located:</p>
          <pre>
<font size="3">#!/usr/bin/perl -w
use strict;               # all variables must be declared
use Getopt::Std;            # import the getopts method
use ExtUtils::Installed;    # import the package
&#13;use vars qw($opt_l $opt_s); # declaring the two option switches
&amp;getopts('ls');             # $opt_l and $opt_s are set to 1 or 0
unless($opt_l or $opt_s) {  # unless one switch is true (1)
  die "pmods: A utility to list all installed (nonstandard) modules\n",
      "  Usage: pmods.pl -l # list each module and all its directories\n",
      "        pmods.pl -s  # list just the module names\n";
}
&#13;my $inst  = ExtUtils::Installed-&gt;new();
foreach my $mod ( $inst-&gt;modules() ) { # foreach of the installed modules
  my $ver = $inst-&gt;version($mod);      # version number of the module
     $ver = ($ver) ? $ver : 'NONE';    # for clean operation
  print "MODULE: $mod version $ver\n"; # print module names
  map { print "  $_\n" } $inst-&gt;directories($mod) if($opt_l);
}
</font>
</pre>

          <p align="right"><i>&#8212;Courtesy William H. Asquith et
          al.</i></p>
        </td>
      </tr>
    </table>

    <table border="1" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #47</h3>

          <p>Print a message if a daylight savings time change
          occurs within the next 5 days:</p>
          <pre>
print "\aTIME CHANGE COMING!\n"
   if (localtime(time))[8] ne (localtime(time+5*24*60*60))[8];
</pre>

          <p align="right"><i>&#8212;Courtesy J.D. Laub</i></p>
        </td>
      </tr>
    </table>

    <table border="1" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #48</h3>

          <p>Reverse <tt>for</tt> syntax to print out Perl&#8217;s
          include path:</p>
          <pre>
perl -e 'print "$_\n" for @INC'
</pre>
        </td>
      </tr>
    </table>

    <table border="1" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #49</h3>

          <p>You can create a reference to a scalar like so:</p>
          <pre>
   $ref = \$var;
</pre>

          <p>In recent versions of Perl, you can also say:</p>
          <pre>
   $ref = *var{SCALAR};
</pre>

          <p>The same holds for other data types.</p>
        </td>
      </tr>
    </table>

    <table border="1" cellpadding="2" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #50</h3>

          <p>Upcoming in Perl 5.6:</p>

          <p>A new keyword, our, which is like my but is
          package-aware.</p>
        </td>
      </tr>
    </table>

    <table border="1" cellpadding="2" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #51</h3>

          <p>$^O contains the name of your operating system.</p>
        </td>
      </tr>
    </table>

    <table border="1" cellpadding="2" width="500">
      <tr>
        <td>
          <h3 align="center">TPJ One-Liner #52</h3>

          <p>The Data::Dumper module, bundled with Perl, can save
          data structures to disk as strings that can be read in by
          another program.</p>
        </td>
      </tr>
    </table>
  </div>

  <p><!-- end of article -->
   
  <!-- link to the previous and next documents relative to the current document -->
   <!-- end of file --></p>
</body>
</html>
