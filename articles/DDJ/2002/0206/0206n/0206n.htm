<html><head><title>Jun02: Dr. Ecco's Omniheurist Corner</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h1>The Protocol of Small Numbers</h1><p><i>Dr. Dobb's Journal</i> June 2002</p><h3>By Dennis E. Shasha</h3><I>Dennis, a professor of computer science at New York University, is the author of The Puzzling Adventures of Dr. Ecco (Dover, 1998); Codes, Puzzles, and Conspiracy (W.H. Freeman &amp; Co., 1992); Database Tuning: A Principled Approach (Prentice Hall, 1992); (coauthored with Jason Wang and Bruce Shapiro) Pattern Discovery in Biomolecular Data: Tools, Techniques, and Applications  (Oxford University Press, 1999); and (coauthored with Cathy Lazere) Out of Their Minds: The Lives and Discoveries of 15 Great Computer Scientists (Springer-Verlag, 1998). He can be contacted at <a href="mailto:DrEcco@ddj.com">DrEcco@ddj.com</a>.</I><hr><p>Our client was a soft spoken, exquisitely dressed Englishman. "I'm on a royal errand," he said. "A young prince of a country that is not my own has asked me to help him with a puzzle. I am only a master of protocol, so I need your help. The problem as I have heard it described is to generate all the whole numbers from 1 to as large a number <i>n</i> as possible using only a single number called a 'generator.' One is allowed, I am told, to use any arithmetic operator &#151; plus, times, minus, and divide &#151; one wants. Parentheses are also allowed. I tell you this last point in the hope that it helps you more than it would help me. Now the goal is to generate all these numbers by using as few generator elements as possible on the average for the numbers between 1 and <i>n.</i> We are not told what the generator is to be and we want the largest <i>n</i> such that the averages can be 5, 6, and 7."</p><p>"As I see it, sir," 14-year-old Liane stated with an uncharacteristic politeness, "there are three elements to the problem: the generator <i>k,</i> the average number <i>m</i> of uses of the generator, and the largest number generated <i>n.</i> You give us only <i>m</i> and you want us to find the <i>k</i> that gives the largest generated <i>n</i> such that all numbers from 1 to <i>n</i> can be generated from expressions in <i>k</i> and the number of instances of <i>k</i> on the average is less than or equal to <i>m</i>."</p><DDJADVERTISEMENT INLINE><p>"I think that's it, yes," said the visitor. "I have an economical answer using 4 as the generator and the numbers from 1 to 10. Here they are:</p><blockquote><p>1: 4/4</p><p>2: (4+4)/4</p><p>3: 4-(4/4)</p><p>4: 4</p><p>5: (4/4)+4</p><p>6: ((4+4)/4)+4</p><p>7: (4+4)-(4/4)</p><p>8: 4+4</p><p>9: (4/4)+(4+4)</p><p>10: ((4+4)/4)+(4+4)</p></blockquote><p>"The average number of 4s is 3.1 in this sequence. I'm not sure 4 is the best generator in general, however. Here is the same sequence with 5 as the generator:</p><blockquote><p>1: 5/5</p><p>2: (5+5)/5</p><p>3: 5-((5+5)/5)</p><p>4: 5-(5/5)</p><p>5: 5</p><p>6: (5/5)+5</p><p>7: ((5+5)/5)+5</p><p>8: (5+5)-((5+5)/5)</p><p>9: (5+5)-(5/5)</p><p>10: 5+5</p></blockquote><p>"So, would it be asking too much for you to find, by tomorrow at tea time, the best generator and the highest possible <i>n</i> such that the average number of generators used to form the numbers 1...<i>n</i> is no greater than 5?"</p><p><i></p><p>Reader: Liane was able to generate the numbers 1...57 with an average cost of just under 5. Her generator wasn't 4. Can you do as well or better?</i></p><p>"I can come back two days from now for an average no greater than 6 or 7."<i></p><p>Reader: Liane was able to get 121 with an average cost of just under 6. She was able to get 308 with an average cost of just under 7. She didn't always use the same generator. How well do you do?</p><p></i></p><p>Ecco turned to me after our visitor left. </p><p>"Well Professor, you see the numbers Liane has come up with: 57 for an average cost of 5, 121 for an average cost of 6, and 308 for an average cost of 7. Is there an exponential relationship with the average cost? Further, what does the average cost vary with the number of generators you are permitted to use (for example, if you used 4 and 5 together as generators instead of just 5)?</p><p>"I don't know the answers."</p><p><i></p><p>Reader: What do you think?</i></p><h3>Last Month's Solution</h3><p><A NAME="rf1"><A HREF="0206nf1.htm">Figure 1</A>, Liane's solution to last month's puzzle, using six rays.</p><h3>Reader Notes</h3><p>The following readers proposed correct solutions to the "With Eye of Newt" puzzle (<i>DDJ</i>, March 2002): Pearl Pauling, Craig Stevenson, Warren Dougherty, Andrew Palfreyman, Douglas Michael Auclair, Rodney Meyer, Douglas Wilson, Mike Bandy, and Mani Iyer.</p><p>The glue-machine technology as proposed in this puzzle would be extremely useful. Physicists and chemists, please take note.</p><p><b>DDJ</b></p></body></html>