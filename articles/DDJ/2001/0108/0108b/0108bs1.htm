<html><head><title>Aug01: Data Slots and Beta Software...</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h2>Data Slots and Beta Software...</h2><p>There should be a way to pass context information to a thread entry point, but how?</p><p>I expect that the <i>AllocateDataSlot</i> and <i>AllocateNamedDataSlot</i> members of the <i>Thread</i> class are involved, but the details of how they are used are not currently obvious to me. Given the actual <i>LocalDataStoreSlot</i> object, I have been able to allocate a data slot, and then read data out of it. Unfortunately, the more convenient way for a thread to use a data slot created by the calling thread would be by use of a named data slot, and this is what I have not been able to get working in the current beta.</p><DDJADVERTISEMENT INLINE><p>I would expect that a thread object would be able to store and retrieve data using these slots, and the slots would be local to the particular thread. The creating thread would have access to the <i>Thread</i> object it creates, and the thread created would be able use the <i>CurrentThread</i> property of the <i>Thread</i> object to get the current thread.</p><p>This is clearly not the way it works in .NET, since both <i>AllocateDataSlot()</i> and <i>AllocateNamedDataSlot()</i> are static members of the <i>Thread</i> class. Thus, it is not possible to call these methods on an actual instance of a thread. This seems a bit inconvenient, as data slots are not local to a particular thread, but can be manipulated by any thread that knows the name of the slot for named slots or has the <i>LocalDataStoreSlot</i> for unnamed data slots.</p><p>This is one of the frustrations of working with beta software. I understand there are some changes coming in the next beta release, and I can only hope that among the changes will be enhanced documentation for the more lightly documented threading classes.</p><p> &#151; D.R.</p><a href="0108b.htm#rs1">Back to Article</a></body></html>