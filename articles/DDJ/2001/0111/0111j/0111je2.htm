<html><head><title>Nov01: E-mail Relaying</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><pre>sub unfold_field {  my ($fieldname, @header) = @_;  my (@field,$unfoldedfield,$infield);  $infield = 0;  foreach my $l (@header) {    if( $infield ) {      if ( ($l) =~ /^([ \t]+.*?)/i ) {        $l =~ s/^[ \t]+//;        push @field, ($l);      } else {        $infield = 0;      }    } elsif( ($l) =~ /$fieldname\s(.*)/i ) {      push @field, ($1);      $infield = 1;    }  }  $unfoldedfield = join "\n ", @field;  $unfoldedfield =~ s/\n\s+/, /g;  return $unfoldedfield;}</pre><h4>Example 2: An address unfolding subroutine.</h4><a href="0111j.htm#re2">Back to Article</a></body></html>