<html>
<META NAME="year" CONTENT="1997">
<head>
<title>Dr. Dobb's Journal November 1997: The Creation of Appendix H</title>
</head>

<body bgcolor="FFFFFF">
<!--Copyright &#169; Dr. Dobb's Journal-->
<p><i>Dr. Dobb's Journal</i> November 1997 </p>

<h1>The Creation of Appendix H</h1>
</h1>

<HR>
<p>About now, you're wondering: What do a discussion of in-circuit emulation and Appendix H have in common? The connection is stronger than you might think.</p>

<p>Long before Intel created the infamous Appendix H, it had released a set of confidential documents, called "gold books," to its most trusted customers. These gold books contained preproduction information about its upcoming Pentium Processor, which was still called the "P5." The name "Pentium" hadn't yet been invented. This gold book was entitled the <i>P5 External Design Specification</i> (rev 2), and contained details of its new P5 processor. The book contained the average run-of-the-mill stuff like new instructions and new features. It even contained all of the information that was later removed and put in Appendix H. But, most importantly, this gold book contained the complete description of Intel's probe mode -- the complete description of how the new in-circuit emulators would work.</p>

<h3>Glasnost</h3>

<p>As you can imagine, I was elated. I immediately called my Intel representative to congratulate him on Intel's new Glasnost policy. Being a proponent of easy access to information, he was just as elated that Intel had finally decided to come out of the closet.</p>

<p>A few months later, Intel released a new version of the <i>P5 External Design Specification</i> (rev 3). In this version of the document, Intel completed the description of probe mode. (It was vaguely outlined in the previous revision of this manual.) This document contained a complete description of Intel's internal microword format. Still, the most exciting aspect of this document, was that Intel was planning to publicly release all of this information in its various Pentium manuals.</p>

<p>But Glasnost didn't last very long. In fact, it didn't even last until the market introduction of the Pentium. Intel abruptly recalled all of those gold books, and issued a new set. The new set was divided into two documents: <i>The P5 External Design Specification</i> (rev. 4), and the <i>Supplement to the Pentium Processor User's Manual</i>; hence, Appendix H was born.</p>

<p>Like all revisions before it, revision 4 represented a draft version of what the public would actually see in various Pentium manuals. Revision 4 didn't contain any explanations for the new Pentium features, such as 4-MB paging (see <i>DDJ</i>, May 1996), Virtual Mode Extensions (see http://www.x86.org/articles/vme1/), or Model-Specific Registers (see http://www.sandpile.org/). All of these explanations were moved into the new <i>Supplement</i> manual. But missing from all of these new manuals was the description of probe mode.</p>

<p>When the Pentium manuals finally became public, it became obvious that the descriptions of these advanced features had been hastily removed. The Pentium manual contained nearly 50 references to VME, MSRs, Performance Monitor Counters, 4-MB paging, and even 2-MB paging (a feature removed before the Pentium reached production; see <i>DDJ</i>, July 1996). These references gave programmers enough information to reverse engineer these features.</p>

<h3>Reverse Engineering</h3>

<p>For the next three years, Intel maintained its policy of keeping this information secret -- only available by signing a 15-year nondisclosure agreement. Thanks to a community of Internet hackers and web sites devoted to publishing their efforts, all Appendix H features were ultimately reverse engineered, and made public -- without Intel's help. The futility of keeping this information secret has forced Intel to publish it themselves. Between today's Pentium and Pentium Pro manuals, a near-complete description of the Appendix H features can be obtained. There is just one exception. When the hackers attacked the Performance Monitor Counters, some counters were never successfully reverse engineered. Hence, their list of counters had a few holes in it. Intel's published list is a perfect one-to-one match of the list that was reverse engineered. This would indicate that Intel's renewed Glasnost wasn't the result of a benevolent dictator. Instead, it appears that Intel only published what it was forced to publish by the efforts of the hacker community.</p>


<p> -- R.R.C.</p>
<P>
<a href="9711n.htm#rs1">Back to Article</A>
</P>
<HR><I>Copyright &copy; 1997, Dr. Dobb's Journal</I><BR>

</BODY>
</html>
