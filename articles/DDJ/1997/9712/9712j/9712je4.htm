<html>
<META NAME="year" CONTENT="1997">
<head>
<title>Dr. Dobb's Journal December 1997: GNAT: The GNU New York University Ada Translator</title>
</head>

<body bgcolor="FFFFFF">
<!--Copyright &#169; Dr. Dobb's Journal-->
<h2>GNAT: The GNU New York University Ada Translator </h2>
<h3><i>By Gavin Smyth </i></h3>
<p><i>Dr. Dobb's Journal</i> December 1997 </p>

<pre>Dpmi_Error: exception;  -- Thrown if there is a system problem
Start_Of_Locked_Code, End_Of_Locked_Code: Unsigned_Char;
pragma Import( Asm, Start_Of_Locked_Code, "start_of_locked_code" );
pragma Import( Asm, End_Of_Locked_Code, "end_of_locked_code" );
Code: aliased Dpmi_Mem_Info;
 ...
Dpmi_Get_Segment_Base_Address( My_Cs, Code.Address );
Code.Address := Code.Address + To_Long( Start_Of_Locked_Code'Address );
Code.Size := To_Long( End_Of_Locked_Code'Address ) -
             To_Long( Start_Of_Locked_Code'Address );
if( Dpmi_Lock_Linear_Region( Code'access ) /= 0 ) then
  raise Dpmi_Error;
end if;
</pre>
<H4>Example 4: Locking the keyboard-interrupt code area. </H4>


<p><a href="9712j.htm#re4">Back to Article</A></p>

<HR><I>Copyright &copy; 1997, Dr. Dobb's Journal</I><BR>

</BODY>
</html>
