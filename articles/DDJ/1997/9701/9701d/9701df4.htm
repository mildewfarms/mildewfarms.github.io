<html>
<META NAME="year" CONTENT="1997">
<head>
<title>Dr. Dobb's Journal January 1997: The Zlib Compression Library</title>
</head>

<body bgcolor="FFFFFF">
<!--Copyright &#169; Dr. Dobb's Journal-->
<h2>The Zlib Compression Library </h2>
<h3><i>By Mark R. Nelson </i></h3>
<p><i>Dr. Dobb's Journal</i> January 1997 </p>

<pre>class ZlibEngine : public z_stream {
    public :            ZlibEngine();
        int compress( const char *input,
                      const char *output,
                      int level = 6 );
        int decompress( const char *input,
                        const char *output );
        void set_abort_flag( int i ){ m_AbortFlag = i; }
    protected :
        int percent();
        int load_input();
        int flush_output();
    protected :
        virtual void progress( int percent ){};
        virtual void status( char *message ){};
    protected :
        int m_AbortFlag;
        FILE *fin;
        FILE *fout;
        long length;
        int err;
        enum { input_length = 4096 };
        unsigned char input_buffer[ input_length ];
        enum { output_length = 4096 };
        unsigned char output_buffer[ output_length ];
};
</pre>

<H4>Figure 4: The ZlibEngine wrapper class. </H4>


<p><a href="9701d.htm#rf4">Back to Article</A></p>

<HR><I>Copyright &copy; 1997, Dr. Dobb's Journal</I><BR>

</BODY>
</html>
