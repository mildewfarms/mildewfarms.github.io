<html><head><title>Nov99: Dr. Ecco's Omniheurist Corner</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h1>Calabaza</h1><p><i>Dr. Dobb's Journal</i> November 1999</p><h3>By Dennis E. Shasha</h3><I>Dennis, a professor of computer science at New York University, is the author of The Puzzling Adventures of Dr. Ecco (Dover, 1998), Codes, Puzzles, and Conspiracy (W.H. Freeman &amp; Co., 1992), Database Tuning: A Principled Approach (Prentice Hall, 1992), and (coauthored with Cathy Lazere) Out of Their Minds: The Lives and Discoveries of 15 Great Computer Scientists (Springer Verlag, 1998). He can be contacted at DrEcco@ddj.com.</I><hr><p>We have found a remarkable tribe in the jungles of Venezuela," the strongly built ethnobiologist Panta de Leon began in slightly accented English. De Leon had heard of Ecco from Natasha, the archaeologist of the Sudan. De Leon's motivation, we all decided later, was much more pure.</p><p>"The tribe has lived in near permanent isolation except for occasional, mostly unfriendly, exchanges with outsiders. They are fine singers and percussion musicians. Their principal musical instrument is a fruit gourd called (in Spanish) a Calabaza. This gourd is so central to their life in fact that they call themselves the Calabazas when meeting (friendly) outsiders. Recently, I discovered that they also use the Calabaza as a timepiece for the ritual they call -- I'm translating roughly -- 'Prayers to the Clock God'.</p><DDJADVERTISEMENT INLINE><p>"Let me explain. Their's is one of the wettest, most mosquito-infested corners of the world. This has kept them safe. It also means that anything made of metal either rusts or is quickly impregnated with water.</p><p>"Many years ago, they found a group of explorers who had lost their way and then died of a poisonous fruit. One of the explorers had a watch, which the Calabazas brought back to the village. The watch worked for one moon, they say.</p><p>"The first day they had it, the tribal elders tried to figure out the meaning of the timepiece and they quickly concluded that it must be used for prayer. The explorers died because they hadn't prayed at the right time, they decided. Fascinated by the circular rhythm of the second hand, the elders directed the village artisan to create several gourds of the same size, each with a hole. They told the artisan that he should create the gourds so that a full gourd would drain completely in one minute when the hole was opened. Unfortunately, the village artisan found himself unable to carve a large enough hole without destroying the Calabaza. Instead, he created Calabazas having two holes.</p><p>"Opening one hole in a full Calabaza would cause the water to drain completely in 11 minutes. Opening both holes would cause it to drain in 5 minutes. These were exact times, to the second in fact -- a remarkable achievement considering that all his tools were handmade."</p><p>Liane perked up. "Why should two holes be more than twice as fast as one?" she asked.</p><p>"The vortex effect, I think," Ecco responded. "Two close holes will create a vortex and water will pass through both of them faster than the sum of the speeds of each hole alone." </p><p>De Leon nodded in agreement. "Whatever the reason, that was the effect. The village elders were unhappy with that, because they had already invented a full moon ritual in which percussion Calabazas would be hit every minute as the village women chanted.</p><p>"They told the artisan that he must figure out how to make a one-minute Calabaza by the next full moon. He told them that he could not, but that with five Calabazas, four assistants, a ready supply of water, and about an hour, he would be able to tell the drummers to hit their drums every minute exactly."</p><p>"How long does it take to fill an empty Calabaza?" Liane asked.</p><p>"Natasha told me you were clever," Panta said to the 11-year old. "Less than a second. One can just dip it into a big barrel. You can assume it takes no time." </p><p>"Well, then it shouldn't be so hard," Liane said. "For example, it's easy enough to measure six minutes. You start two Calabazas at the same time, opening one hole of one and two holes of the other. Six minutes is the time between the draining of the two-hole Calabaza and the draining of the one-hole Calabaza."</p><p>"I think you are on the right track," de Leon said. "But it is important that you figure this out today. You see, the full moon is about to come and the village artisan has taken terribly ill. They are counting on me to help them figure out what he did. They refuse to let me use my watch, as they revere the gourds as holy. Now for my personal appeal: As an ethnobiologist, I have made it my goal to win their confidence. They trust me so far and they have taught me about many wonderful herbs. They even have a remarkable medicine to enhance musical ability, seemingly without side effects, but I must stay with them longer before they will teach me about it. I would really like to help them with their problem first."</p><p>"Let me try a small example," Liane said. "Suppose that a one-hole Calabaza drained in three minutes and a two-hole Calabaza drained in two minutes (reversing the vortex effect for the sake of the example). Then it would be possible to measure minutes by allowing Calabaza A to drain in three minutes, B to drain in two minutes, and then repeatedly filling each Calabaza and draining it with two holes. So, A would mark times 3, 5, 7, 11, 13,...and B would mark times 2, 4, 6, 8, 10, 12,... Thus, it would be possible to mark minutes beginning two minutes after the procedure starts. Now let's try it for the gourds the artisan really builds."</p><p>Liane and Ecco talked for a while. Liane explained an idea. Ecco smiled.</p><p>"Mr. de Leon," Ecco said with a smile, "Liane has solved your puzzle. Five Calabazas seems to be the minimum possible. If five people follow this simple procedure, they will be able to mark single minutes starting 40 minutes after beginning the procedure."</p><p><i>Reader: Is five Calabazas really a minimum? Can you invent a procedure that involves filling Calabazas and watching them drain such that it is possible to mark single minutes starting 40 minutes into the procedure? Assume that it is easy to tell when a Calabaza drains. Can you do it better (either with fewer Calabazas or fewer minutes)?</i></p><p>After Panta de Leon left, Ecco turned to me. "Suppose one hole will cause the gourd to drain in <i>n </i>minutes and two holes will cause the gourd to drain in the minute<i> </i>below half of <i>n </i>(for example, if it takes <i>n</i>=20 minutes to drain with one hole, then two holes requires the integer below (20/2)=9 minutes; if it takes <i>n</i>=21 minutes with one hole, then with two holes it takes the integer below (21/2)=10 minutes). Are there any numbers <i>n </i>that make marking minutes impossible?"</p><p><i>Reader: Which values of </i>n <i>would be troublesome, if any? If none, then map out a procedure that can always mark minutes, assuming you have enough gourds.</p><h3></i>Last Month's Solution</h3><p>Best val: 1801 and deviation for that ordering is: 64</p><blockquote><table cellpadding=5>	<tr>		<th align=right>Object</th> <th align=right>Alice</th> <th align=right>Brad</th> <th align=right>Carla</th>	</tr>	<tr>		<td align=right>27</td> <td align=right>18</td> <td align=right>33</td> <td align=right>61</td>	</tr>	<tr>		<td align=right>14 </td> <td align=right>49</td> <td align=right>35</td> <td align=right>52</td>	</tr>	<tr>		<td align=right>7</td> <td align=right>7</td> <td align=right>6</td> <td align=right>49</td>	</tr>	<tr>		<td align=right>19</td> <td align=right>42</td> <td align=right>13</td> <td align=right>1</td>	</tr>	<tr>		<td align=right>25</td> <td align=right>64</td> <td align=right>1</td> <td align=right>124</td>	</tr>	<tr>		<td align=right>6</td> <td align=right>17</td> <td align=right>10</td> <td align=right>17</td>	</tr>	<tr>		<td align=right>16</td> <td align=right>14</td> <td align=right>7</td> <td align=right>36</td>	</tr>	<tr>		<td align=right>5</td> <td align=right>2</td> <td align=right>16</td> <td align=right>0</td>	</tr>	<tr>		<td align=right>2</td> <td align=right>4</td> <td align=right>29</td> <td align=right>33</td>	</tr>	<tr>		<td align=right>23</td> <td align=right>75</td> <td align=right>9</td> <td align=right>11</td>	</tr>	<tr>		<td align=right>12</td> <td align=right>3</td> <td align=right>18</td> <td align=right>5</td>	</tr>	<tr>		<td align=right>29</td> <td align=right>34</td> <td align=right>29</td> <td align=right>3</td>	</tr>	<tr>		<td align=right>15</td> <td align=right>15</td> <td align=right>22</td> <td align=right>101</td>	</tr>	<tr>		<td align=right>11</td> <td align=right>41</td> <td align=right>26</td> <td align=right>5</td>	</tr>	<tr>		<td align=right>13</td> <td align=right>45</td> <td align=right>22</td> <td align=right>11</td>	</tr>	<tr>		<td align=right>10</td> <td align=right>36</td> <td align=right>2</td> <td align=right>30</td>	</tr>	<tr>		<td align=right>30</td> <td align=right>37</td> <td align=right>12</td> <td align=right>11</td>	</tr>	<tr>		<td align=right>3</td> <td align=right>131</td> <td align=right>72</td> <td align=right>62</td>	</tr>	<tr>		<td align=right>24</td> <td align=right>10</td> <td align=right>33</td> <td align=right>44</td>	</tr>	<tr>		<td align=right>4</td> <td align=right>9</td> <td align=right>28</td> <td align=right>42</td>	</tr>	<tr>		<td align=right>17</td> <td align=right>34</td> <td align=right>31</td> <td align=right>47</td>	</tr>	<tr>		<td align=right>8</td> <td align=right>56</td> <td align=right>1</td> <td align=right>45</td>	</tr>	<tr>		<td align=right>21</td> <td align=right>30</td> <td align=right>4</td> <td align=right>20</td>	</tr>	<tr>		<td align=right>22</td> <td align=right>11</td> <td align=right>59</td> <td align=right>39</td>	</tr>	<tr>		<td align=right>9</td> <td align=right>80</td> <td align=right>4</td> <td align=right>27</td>	</tr>	<tr>		<td align=right>28</td> <td align=right>7</td> <td align=right>11</td> <td align=right>28</td>	</tr>	<tr>		<td align=right>18</td> <td align=right>4</td> <td align=right>87</td> <td align=right>24</td>	</tr>	<tr>		<td align=right>26</td> <td align=right>12</td> <td align=right>19</td> <td align=right>19</td>	</tr>	<tr>		<td align=right>1</td> <td align=right>71</td> <td align=right>203</td> <td align=right>21</td>	</tr>	<tr>		<td align=right>20</td> <td align=right>42</td> <td align=right>158</td> <td align=right>32</td>	</tr></table></blockquote><p>Deviation of 1 and highest value for this deviation is: 1780</p><blockquote><table cellpadding=5>	<tr>		<th align=right>Object</th> <th align=right>Alice</th> <th align=right>Brad</th> <th align=right>Carla</th>	</tr>	<tr>		<td align=right>6</td> <td align=right>17</td> <td align=right>10</td> <td align=right>17</td>	</tr>	<tr>		<td align=right>18</td> <td align=right>4</td> <td align=right>87</td> <td align=right>24</td>	</tr>	<tr>		<td align=right>21</td> <td align=right>30</td> <td align=right>4</td> <td align=right>20</td>	</tr>	<tr>		<td align=right>1</td> <td align=right>71</td> <td align=right>20</td> <td align=right>321</td>	</tr>	<tr>		<td align=right>30</td> <td align=right>37</td> <td align=right>12</td> <td align=right>11</td>	</tr>	<tr>		<td align=right>8</td> <td align=right>56</td> <td align=right>1</td> <td align=right>45</td>	</tr>	<tr>		<td align=right>28</td> <td align=right>7</td> <td align=right>11</td> <td align=right>28</td>	</tr>	<tr>		<td align=right>13</td> <td align=right>45</td> <td align=right>22</td> <td align=right>11</td>	</tr>	<tr>		<td align=right>11</td> <td align=right>41</td> <td align=right>26</td> <td align=right>5</td>	</tr>	<tr>		<td align=right>16</td> <td align=right>14</td> <td align=right>7</td> <td align=right>36</td>	</tr>	<tr>		<td align=right>15</td> <td align=right>15</td> <td align=right>22</td> <td align=right>101</td>	</tr>	<tr>		<td align=right>10</td> <td align=right>36</td> <td align=right>2</td> <td align=right>30</td>	</tr>	<tr>		<td align=right>3</td> <td align=right>131</td> <td align=right>72</td> <td align=right>62</td>	</tr>	<tr>		<td align=right>25</td> <td align=right>64</td> <td align=right>1</td> <td align=right>124</td>	</tr>	<tr>		<td align=right>4</td> <td align=right>9</td> <td align=right>28</td> <td align=right>42</td>	</tr>	<tr>		<td align=right>14</td> <td align=right>49</td> <td align=right>35</td> <td align=right>52</td>	</tr>	<tr>		<td align=right>29</td> <td align=right>34</td> <td align=right>29</td> <td align=right>3</td>	</tr>	<tr>		<td align=right>24</td> <td align=right>10</td> <td align=right>33</td> <td align=right>44</td>	</tr>	<tr>		<td align=right>26</td> <td align=right>12</td> <td align=right>19</td> <td align=right>19</td>	</tr>	<tr>		<td align=right>2</td> <td align=right>4</td> <td align=right>29</td> <td align=right>33</td>	</tr>	<tr>		<td align=right>22</td> <td align=right>11</td> <td align=right>59</td> <td align=right>39</td>	</tr>	<tr>		<td align=right>27</td> <td align=right>18</td> <td align=right>33</td> <td align=right>61</td>	</tr>	<tr>		<td align=right>5</td> <td align=right>2</td> <td align=right>16</td> <td align=right>0</td>	</tr>	<tr>		<td align=right>9</td> <td align=right>80</td> <td align=right>4</td> <td align=right>27</td>	</tr>	<tr>		<td align=right>23</td> <td align=right>75</td> <td align=right>9</td> <td align=right>11</td>	</tr>	<tr>		<td align=right>12</td> <td align=right>3</td> <td align=right>18</td> <td align=right>5</td>	</tr>	<tr>		<td align=right>7</td> <td align=right>7</td> <td align=right>6</td> <td align=right>49</td>	</tr>	<tr>		<td align=right>19</td> <td align=right>42</td> <td align=right>13</td> <td align=right>1</td>	</tr>	<tr>		<td align=right>20</td> <td align=right>42</td> <td align=right>158</td> <td align=right>32</td>	</tr>	<tr>		<td align=right>17</td> <td align=right>34</td> <td align=right>31</td> <td align=right>47</td>	</tr></table></blockquote><h3>Reader Notes</h3><p>Dr. Ecco's solution for "Laser Shuttles" (<i>DDJ</i>, August 1999) was not the best possible. Fortunately, several clever readers found better ones. In the best solutions, no astronaut will be required  to take more than three hops to go from site to site and the total number of edges is 45.</p><p></p><ul>  <li>Alan Dragoo's solution is a nice example (http://members.aol.com/adragoo/ laser.jpg).   <li>Burghart Hoffrichter pointed out: "By counting the number of horizontal and vertical edges in each rectangle and one diagonal per rectangle and the sides of the triangles, one sees that 45 is the maximum number of nonintersecting edges."   <li>Brian Nelson thought that deregulation might bring about a reduction in the number of edges.  <li>Kees Rijnierse suggested that putting the stations slightly off the grid might make even better solutions possible, but did not know how.  <li>Denis Birnie of Transportation &amp; Traffic Systems Ltd (Christchurch, New Zealand) suggested several other optimization criteria. Among them: Is there a 4-hop-to-anywhere network such that every journey can be completed by at least 2 routes with only the start and end stations in common? If not, is there a 4-hop primary and 5-hop secondary network?</ul><p>Other readers who demonstrated 45 edge/3-hop designs included: C. Brock Rooney, Pearl Pauling, Rodney Meyer, Peter Scholz, Brian Nelson, Tapani Lindgren, Todd Ginsberg, Ted Alper, Mike White, Vernon R. Brown, Stephen A. Slezic, Kiia Kallio, Tom Rokicki, Matthew D. Ahl, Andy W. Desplenter, Mark Taylor, Kees Rijnierse, Forest Wilkinson, and Doug Newhort (who minimized the average length as well, http:// members.home.net/dmewhort/3hub.htm).</p><p>Still others demonstrated 45 edge/4-hop designs: James Waldby, Christopher W. Curtis, Burghart Hoffrichter, Jason Patterson, Douglas Price, Magne Oestlyngen, John Porter, Bob Morton, Greg Smith, Kees Rijnierse, Denis Birnie, Carey Bingham, Kevin Fox, Steve Bourassa, David Stevenson, Jeffrey A. Hallman, and John Grant.</p><p><b>DDJ</b></p><HR><I>Copyright &copy; 1999, Dr. Dobb's Journal</I><BR>
</body></html>