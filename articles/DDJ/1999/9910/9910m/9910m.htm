<html><head><title>Oct99: Dr. Ecco's Omniheurist Corner</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h1>Inheritance</h1><p><i>Dr. Dobb's Journal</i> October 1999</p><h3>By Dennis E. Shasha</h3><I>Dennis, a professor of computer science at New York University, is the author of The Puzzling Adventures of Dr. Ecco (Dover, 1998), Codes, Puzzles, and Conspiracy (W.H. Freeman &amp; Co., 1992), Database Tuning: A Principled Approach (Prentice Hall, 1992), and (coauthored with Cathy Lazere) Out of Their Minds: The Lives and Discoveries of 15 Great Computer Scientists (Springer Verlag, 1998). He can be contacted at DrEcco@ddj.com.</I><hr><p>Ecco feels no resentment toward the idle rich. He regards them with bemusement. Nevertheless, when I came over to his MacDougal street apartment one fine autumn day, I was surprised to find him pouring over the asset-intoxicated obituary of one Pier One Gorman. The article barely spoke of the accomplishments of the merchant, concentrating instead on the houses, yachts, and stock holdings to be divided among his heirs.</p><p>"Not what I would have expected you to read, Ecco," I said. "Are you jealous or something?" </p><DDJADVERTISEMENT INLINE><p>"Who wouldn't be?" Ecco responded with a grin. "My excuse is that I have a professional interest in  Mr. Gorman. You see, his three heirs, Alice, Brad, and Carla, are due here any minute. It seems they have a private matter to discuss... No, no, don't leave. Nothing is private from you, my dear Professor. Nor from Liane for that matter."</p><p>Eleven year-old Liane was lying on the couch reading Carl Sagan's book <i>Contact</i>. I was going to ask her about it, when the doorbell rang.</p><p>"Am I the first to arrive?" the young man asked. He was wearing an ascot, black leather driving gloves, and reflective sunglasses.</p><p>"Yes, Brad," Ecco said. "Please have a seat."</p><p>"My sisters are always late," he said with a tone of self satisfaction. Just then, the doorbell rang.</p><p>The young woman who walked in wore haute couture from pillbox hat to heels. </p><p>"Carla, Carla Gorman is my name," she said. "You are Dr. Ecco, I presume. I do apologize for being late, but the helicopter could find no place close to land."</p><p>She nodded to her brother, sat down, glanced quickly around the apartment, and, apparently finding nothing of interest, opened the latest issue of <i>Avenue</i>.</p><p>A few minutes later, the doorbell rang again. This young woman wore jeans, no makeup, and a plastic earring on her left ear.</p><p>"My name is Alice Gorman," she said as she shook hands with Ecco. "I'm the black sheep of the family." She said this last sentence with good humor and proceeded to kiss her brother and sister with an affection that they more or less returned.</p><p>Brad cleared his throat and began, "We have a set of 30 family heirlooms. We don't know how to distribute them. We can each jump up and down and say how much we value each one, but Carla wants everything for herself, Alice wants everything to give away, and I want the result to be fair."</p><p>"You just want a new Ferrari," Carla said, rolling her eyes.</p><p>"Does each of you have an equal right to the heirlooms?" Ecco asked.</p><p>"Yes, we are coequal inheritors," Brad replied. "There are no others."</p><p>"I suggest a private auction then," Ecco said.</p><p>Carla, apparently experienced from her many visits to Christie's, glanced up in interest. "How do you mean?"</p><p><i>Reader: Before reading on, can you think of a fair auction strategy?</i></p><p>Ecco went on, "One thing you can do is to give each person a budget of 1000 currency units (which I'll call "CUs" from now on). Each person can then bid for the 30 objects and pay in CUs. At the end, the CUs are worthless, so each heir might as well use them all. During the bidding, however, if heir X wins the bid for an object o, then only heir X pays CUs; the others keep the CUs they would have used for o had they bought it."</p><p>"That's a nice idea," said Alice. "What do you say, dear siblings, shall we give it a try? I have a list of the objects numbered from 1 to 30. Each of us should put a CU amount next to each object in such a way that the total CU amount on all objects is 1000."</p><p>Brad and Carla apparently found no objection to this, so they created the following table.</p><table cellpadding="3">	<tr>		<th>Object</th> <th>Alice</th> <th>Brad</th> <th>Carla</th>	</tr>	<tr align="right">		<td>1</td> <td>71</td> <td>203</td> <td>21</td>	</tr>	<tr align="right">		<td>2</td> <td>4</td> <td>29</td> <td>33</td>	</tr>	<tr align="right">		<td>3</td> <td>131</td> <td>72</td> <td>62</td>	</tr>	<tr align="right">		<td>4</td> <td>9</td> <td>28</td> <td>42</td>	</tr>	<tr align="right">		<td>5</td> <td>2</td> <td>16</td> <td>0</td>	</tr>	<tr align="right">		<td>6</td> <td>17</td> <td>10</td> <td>17</td>	</tr>	<tr align="right">		<td>7</td> <td>7</td> <td>6</td> <td>49</td>	</tr>	<tr align="right">		<td>8</td> <td>56</td> <td>1</td> <td>45</td>	</tr>	<tr align="right">		<td>9</td> <td>80</td> <td>4</td> <td>27</td>	</tr>	<tr align="right">		<td>10</td> <td>36</td> <td>2</td> <td>30</td>	</tr>	<tr align="right">		<td>11</td> <td>41</td> <td>26</td> <td>5</td>	</tr>	<tr align="right">		<td>12</td> <td>3</td> <td>18</td> <td>5</td>	</tr>	<tr align="right">		<td>13</td> <td>45</td> <td>22</td> <td>11</td>	</tr>	<tr align="right">		<td>14</td> <td>49</td> <td>35</td> <td>52</td>	</tr>	<tr align="right">		<td>15</td> <td>15</td> <td>22</td> <td>101</td>	</tr>	<tr align="right">		<td>16</td> <td>14</td> <td>7</td> <td>36</td>	</tr>	<tr align="right">		<td>17</td> <td>34</td> <td>31</td> <td>47</td>	</tr>	<tr align="right">		<td>18</td> <td>4</td> <td>87</td> <td>24</td>	</tr>	<tr align="right">		<td>19</td> <td>42</td> <td>13</td> <td>1</td>	</tr>	<tr align="right">		<td>20</td> <td>42</td> <td>158</td> <td>32</td>	</tr>	<tr align="right">		<td>21</td> <td>30</td> <td>4</td> <td>20</td>	</tr>	<tr align="right">		<td>22</td> <td>11</td> <td>59</td> <td>39</td>	</tr>	<tr align="right">		<td>23</td> <td>75</td> <td>9</td> <td>11</td>	</tr>	<tr align="right">		<td>24</td> <td>10</td> <td>33</td> <td>44</td>	</tr>	<tr align="right">		<td>25</td> <td>64</td> <td>1</td> <td>124</td>	</tr>	<tr align="right">		<td>26</td> <td>12</td> <td>19</td> <td>19</td>	</tr>	<tr align="right">		<td>27</td> <td>18</td> <td>33</td> <td>61</td>	</tr>	<tr align="right">		<td>28</td> <td>7</td> <td>11</td> <td>28</td>	</tr>	<tr align="right">		<td>29</td> <td>34</td> <td>29</td> <td>3</td>	</tr>	<tr align="right">		<td>30</td> <td>37</td> <td>12</td> <td>11</td>	</tr></table><p>Ecco looked over the table carefully. "Great," he said. "It's good to see that you value the objects so differently. Now, here are the rules.</p><p>"We imagine that a computer program simulates an auction for each object. For each auction, the program compares the bids and assigns the objects to the highest bidder at a price that is one more than that of the second highest bidder. If there is a tie, then the person who precedes in alphabetical order wins. Any of your CUs that are left over after a bid are assigned equally to the remaining objects you are bidding on, with any remainder going to the next object.</p><p>"Here is an example in which each person has a total of just 66 CUs and there are three objects:</p><table cellpadding="3">	<tr align="right">		<th>Object</th> <th>Alice</th> <th>Brad</th> <th>Carla</th>	</tr>	<tr align="right">		<td>1</td> <td>23</td> <td>25</td> <td>29</td>	</tr>	<tr align="right">		<td>2</td> <td>11</td> <td>15</td> <td>17</td>	</tr>	<tr align="right">		<td>3</td> <td>32</td> <td>26</td> <td>20</td>	</tr></table><p>"Object 1 is the subject of the first bid. Carla gets it for 26 CUs. Why? Because Brad would have bid 25, but no higher, so Carla would have won at 26. This yields the following table. Notice that the 23 that Alice would have bid for object 1 are split between objects 2 and 3. Similarly for the 25 that Brad would have bid for object 1 and for the 3 that Carla saved by paying 26 instead of 29.</p><table cellpadding="3">	<tr align="right">		<th>Object</th> <th>Alice</th> <th>Brad</th> <th>Carla</th>	</tr>	<tr align="right">		<td>1</td> <td>0</td> <td>0</td> <td>26</td>	</tr>	<tr>		<td colspan="4" align="center">actually spent, Carla won<br>=======================		</td>	</tr>	<tr align="right">		<td>2</td> <td>23</td> <td>28</td> <td>19</td>	</tr>	<tr align="right">		<td>3</td> <td>43</td> <td>38</td> <td>21</td>	</tr></table><p>"Brad wins the second bid and pays 24 (one more than Alice). This gives:</p><table cellpadding="3">	<tr align="right">		<th>Object</th> <th>Alice</th> <th>Brad</th> <th>Carla</th>	</tr>	<tr align="right">		<td>1</td> <td>0</td> <td>0</td> <td>26</td>	</tr>	<tr>		<td colspan="4" align="center">actually spent, Carla won</td>	</tr>	<tr align="right">		<td>2</td> <td>0</td> <td>24</td> <td>0</td>	</tr>	<tr>		<td colspan="4" align="center">actually spent, Brad won<br>		=======================		</td>	</tr>	<tr align="right">		<td>3</td> <td>66</td> <td>42</td> <td>40</td>	</tr></table><p>"Naturally, Alice wins the last bid and pays 43. Now, all CUs disappear. Who got the better end of the deal?</p><p>"Carla received an object that she valued originally at 29, Brad at 15, and Alice at 32. This gives a total value of 29+15+ 32 or 76. The maximum deviation in happiness falls between Brad and Alice at 17.</p><p>"Notice, however, that the object each heir receives can change if we change the order of the auction. For example, if the program processes the objects in the order 2, 1, 3, then the distribution of objects proceeds as follows:</p><table cellpadding="3">	<tr align="right">		<th>Object</th> <th>Alice</th> <th>Brad</th> <th>Carla</th>	</tr>	<tr align="right">		<td>2</td> <td>0</td> <td>0</td> <td>16</td>	</tr>	<tr>		<td colspan="4" align="center">Carla wins object 2 for 16<br>=======================</td>	</tr>	<tr align="right">		<td>1</td> <td>29</td> <td>33</td> <td>30</td>	</tr>	<tr align="right">		<td>3</td> <td>37</td> <td>33</td> <td>20</td>	</tr></table><table cellpadding="3">	<tr align="right">		<th>Object</th> <th>Alice</th> <th>Brad</th> <th>Carla</th>	</tr>	<tr align="right">		<td>2</td> <td>0</td> <td>0</td> <td>16 </td>	</tr>	<tr>		<td colspan="4" align="center">Carla wins object 2</td>	</tr>	<tr align="right">		<td>1</td> <td>0</td> <td>31</td> <td>0</td>	</tr>	<tr>		<td colspan="4" align="center">Brad wins object 1</td>	</tr>	<tr>		<td colspan="4" align="center">=======================</td>	</tr>	<tr align="right">		<td>3</td> <td>66</td> <td>34</td> <td>50</td>	</tr></table><p>"and Alice wins object 3. So, Alice has finished in the same way, but Brad and Carla have swapped positions and Brad is in fact happier with this order. Alice has received goods she values at 32, Brad at 25, and Carla at 17. This gives a total value of 74 and a maximum discrepancy of 15. So, this solution is more equitable, but yields a lower value.</p><p>"That is, there are two possible optimality criteria: maximize total value or maximize fairness so the difference between the happiest and the saddest is minimized.</p><p>"We seek an order that achieves as high a value as possible and another order that is as equitable as possible. If the objects are auctioned off in the order of their object order, then the total value is 1670 and the deviation (from happiest to saddest person) is 139.</p><p>Here is the list of the results of the first 10 bids:</p><table>	<tr align="right">		<th>Object</th> <th>Alice</th> <th>Brad</th> <th>Carla</th>	</tr>	<tr align="right">		<td>1</td> <td>0</td> <td>72</td> <td>0</td>	</tr>	<tr align="right">		<td>2</td> <td>0</td> <td>0</td> <td>49</td>	</tr>	<tr align="right">		<td>3</td> <td>98</td> <td>0</td> <td>0</td>	</tr>	<tr align="right">		<td>4</td> <td>0</td> <td>0</td> <td>53</td>	</tr>	<tr align="right">		<td>5</td> <td>0</td> <td>20</td> <td>0</td>	</tr>	<tr align="right">		<td>6</td> <td>27</td> <td>0</td> <td>0</td>	</tr>	<tr align="right">		<td>7</td> <td>0</td> <td>0</td> <td>25</td>	</tr>	<tr align="right">		<td>8</td> <td>55</td> <td>0</td> <td>0</td>	</tr>	<tr align="right">		<td>9</td> <td>44</td> <td>0</td> <td>0</td>	</tr>	<tr align="right">		<td>10</td> <td>40</td> <td>0</td> <td>0</td>	</tr></table><p>Liane was writing something down on paper. "But there are more than 200 trillion billion possible orderings," she said.</p><p>"I see that Sagan has had a certain influence," Ecco said. "Nevertheless, we must find a very good order." </p><p><i>Ecco and Liane were able to find one ordering that achieved a total value of 1801 with a deviation of 64 and another solution achieving 1780 with a deviation of just 1. Can you find as good or better orderings? Better would mean either a total value greater than 1801 or a deviation of 1 or 0 with a total value greater than 1780.</i></p><p>After some debate, Alice persuaded her siblings to choose the ordering that gave the small deviation. They agreed after she gave each a week on her yacht to make up for the fact that she was the one who won 594 with that ordering, whereas they each won only 593.</p><h3>Last Month's Solution</h3><p>1. If duplicates are not allowed, then an "imbalance" strategy can put 52 monopoles into 4 rooms. Such a strategy consists of putting a monopole into the room that already has the most monopoles. Here is the distribution:</p><ul>  <li>Room A: 1 2 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52  <li>Room B: 3 5 6 12 14 21 23 30 32 41 50  <li>Room C: 8 9 11 15 18 44 47 51  <li>Room D: 17 20 24 26 27 29 33 35 36 38 39 42 45 48</ul><p>2. Ecco and Liane concluded that 8 rooms would be necessary if every spare monopole with value V had to go into a different room from the original monopole of value V. Just double the number of rooms shown above.</p><p>3. If spares may go in the same room, then 5 rooms are enough. In fact, they could handle 58 monopoles if we put every spare in the same room. Ecco chose a strategy in which every spare always went in the same room as the original. Here we show the solution for only 52:</p><p></p><ul>  <li>Room A: 1 1 6 6 10 10 17 17 22 22 26 26 31 31 38 38 40 40 45 45 49 49  <li>Room B: 2 2 7 7 12 12 16 16 20 20 29 29 33 33 37 37 42 42 47 47 50 50  <li>Room C: 3 3 8 8 13 13 18 18 23 23 27 27 32 32 39 39 43 43 48 48  <li>Room D: 4 4 9 9 14 14 19 19 24 24 30 30 35 35 36 36 46 46 51 51 52 52  <li>Room E: 5 5 11 11 15 15 21 21 25 25 28 28 34 34 41 41 44 44</ul><p>4. If duplicates are allowed but spares must be in different rooms from the originals, then a balance strategy works: </p><p></p><ul>  <li>Room A:  1 5 10 14 18 22 29 31 38 42 46 54 57  <li>Room B:  1 6 10 15 19 24 27 31 36 44 47 49 56  <li>Room C:  2 6 11 15 20 24 28 32 36 41 45 49 54 59  <li>Room D:  2 7 11 16 20 25 29 34 38 42 46 51 55  <li>Room E:  3 7 12 16 21 25 30 34 39 43 48 52 56  <li>Room F:  3 8 12 17 21 26 30 35 39 44 48 53 57  <li>Room G:  4 8 13 18 23 28 33 35 40 45 50 52 59  <li>Room H:  4 9 14 17 22 27 32 37 40 43 50 53 58  <li>Room I:  5 9 13 19 23 26 33 37 41 47 51 55 58</ul><h3>Reader Notes on "Flats and Steeps"</h3><p>So far, there is no web version of the "Articulated Flats and Steeps" game. I guess people must still be working on closed forms solutions. Christopher Creutzig reports a Prolog program that suggests that Flats has a winning strategy on the 4&times;4 board. I will report on other progress in the coming months.</p><p><b>DDJ</b></p><HR><I>Copyright &copy; 1999, Dr. Dobb's Journal</I><BR>
</body></html>