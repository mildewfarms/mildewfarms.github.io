<html><head><title>Jun99: Win32 Drivers for Digital/Video Camcorders</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><pre>Irb = ExAllocatePool(NonPagedPool, sizeof(IRB)); ...Fill out IRB for desired 1394 function...NextIrpStack = IoGetNextIrpStackLocation(Irp);NextIrpStack-&gt;MajorFunction = IRP_MJ_INTERNAL_DEVICE_CONTROL;NextIrpStack-&gt;Parameters.DeviceIoControl.IoControlCode = IOCTL_1394_CLASS;NextIrpStack-&gt;Parameters.Others.Argument1 = Irb; ...Setup IRP Completion Routine...status = IoCallDriver(DeviceExtension-&gt;SonyPC10DeviceObject,Irp);</pre><h4>Example 1: Executing a 1394 request.</h4><a href="9906g.htm#re1">Back to Article</a><HR><I>Copyright &copy; 1999, Dr. Dobb's Journal</I><BR>
</body></html>