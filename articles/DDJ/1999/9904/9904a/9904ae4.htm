<html><head><title>Apr99: Regular Expressions</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><pre>/* grep main: search for re in files */int main(int argc, char *argv[]){  int i, nmatch;  FILE *f;  if (argc &lt; 2) {     fprintf(stderr, "usage: grep pattern [file ...]\n");     exit(2);  }  nmatch = 0;  if (argc &lt; 3) {     if (grep(argv[1], stdin, NULL))        nmatch++;  } else {     for (i = 2; i &lt; argc; i++) {        f = fopen(argv[i], "r");        if (f == NULL) {           fprintf(stderr, "grep: can't open %s\n", argv[i]);           continue;        }        if (grep(argv[1], f, argc&gt;3 ? argv[i] : NULL))           nmatch++;        fclose(f);     }  }  return nmatch == 0;}</pre><h4>Example 4: Main routine of an implementation of grep that uses match. (Assumes command interpreter expands wild cards in file specification on the command line into lists of file names. UNIX shells exhibit this behavior, although MS-DOS COMMAND.COM does not.)</h4><a href="9904a.htm#re4">Back to Article</a><HR><I>Copyright &copy; 1999, Dr. Dobb's Journal</I><BR>
</body></html>