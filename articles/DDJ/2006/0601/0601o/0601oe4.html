
<html>
<head>
<title>January, 2006: Single Inheritance  Classes in C</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->






(a)
<pre>
typedef struct
{
  MotorData  mMotor;
  int        mAccelRate;
} MotorControlData;


</pre>
(b)
<pre>
typedef struct
{
    //----------------------------------------------
    // Set the new speed and an accel/decel rate to reach that speed.
    void (*SetNewSpeed)(MotorControlData*, int speed, int rate);

    //----------------------------------------------
    // Base class Motor methods extracted from its typedef.
    void (*InitPort)( MotorData*, int*);
    void (*SetSpeed)(MotorData*, int);
    int (*GetSpeed)(MotorData*);
    void (*SetDirection)(MotorData*, DIRECTION);
    DIRECTION (*GetDirection)(MotorData*);
} MOTOR_CONTROL;

extern MotorControlData* MotorControlCtor(void);
extern void MotorControlXtor(MotorControlData*);
extern MOTOR_CONTROL* MotorControl;
</pre>

<h4><b>Example 4: </b>(a) Class data structure; (b) typedef for the derived class vtable, and constructor/destructor and class vtable pointer definitions.</h4>
<a href="0601o.html#re4">Back to Article</a>


</body>
</html>
