
<html>
<head>
<title>January, 2006: Single Inheritance  Classes in C</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->






(a)
<pre>
static const MOTOR cMotor = {
  InitPort,
  SetSpeed,
  GetSpeed,
  SetDirection,
  GetDirection
};
MOTOR* Motor;


</pre>
(b)
<pre>
MotorData* MotorCtor(void)
{
    MotorData* d;

    // Create the data structure 
    // and initialize the contents.
    d = Allocate(sizeof(MotorData));
    d-&gt;mPort = NULL;
    d-&gt;mSpeed = 0;
    d-&gt;mDirection = DR_UNKNOWN;

    // Create the vtable by 
    // copying it to RAM.
    if (InstCount++ == 0)
    {
        CREATE_VTABLE(Motor, cMotor, MOTOR);
    }
    return d;
}
</pre>

<h4><b>Example 2: </b>(a) vtable instance and global class pointer declaration; (b) constructor function.</h4>
<a href="0601o.html#re2">Back to Article</a>


</body>
</html>
