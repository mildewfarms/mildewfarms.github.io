
<html>
<head>
<title>Ruby on Rails</title>
<link rel="Stylesheet" rev="Stylesheet" href="../../../../forms/Layout.css" type="text/css">
<link rel="Stylesheet" rev="Stylesheet" href="../../../../forms/FontStyles.css" type="text/css">
<link rel="Stylesheet" rev="Stylesheet" href="../../../../forms/newarticle.css" type="text/css">
<script src="../../../../forms/popwindow.js"></script>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->
<p><i>Dr. Dobb's Journal</i> June 2006</p>

<h1>Ruby on Rails</h1>
<h2>It makes development fast, agile &amp; manageable</h2>



<I>by Michael Swaine</I>

<hr>

<p>When a respected member of the Java development community says it may be time to look around for a successor to Java, it sort of catches your attention.</p>

<p>In<i> Beyond Java</i>, Bruce Tate describes the epiphany he reached when one of his clients dumped Java right in the middle of development of an application. Tate and his partner had decided, perhaps in one of those fits of whimsy that can hit you when you're busiest, to rewrite one component of the application in Rails. Just, you know, out of curiosity.</p>

<p>Tate says it shook him to his Java-loving core when the Rails rewrite took four nights of coding compared to four months for the Java build, then outperformed the Java version while weighing in at about a fifth the number of lines of code. </p>

<p>Remember that scene in<i> My Cousin Vinny </i>where sort-of lawyer Vinny Gambini (Joe Pesci) utterly destroys a witness and the formerly skeptical defendant jumps up, fires the stuttering public defender, points to Vinny, and declares, "I want him"? Apparently, Tate's client fired Java like a lawyer with a speech impediment.</p>

<p>The experience drove Tate to consider alternatives to Java. Of course, neither Tate nor anyone else expects Java to lose dominance soon. If you believe IBM, in a given day the world sees more COBOL transactions processed than web pages viewed. <i>De gustibus non disputandum est</i>, and languages don't die overnight. But Tate was forced to conclude that Rails just might have what it takes to supplant Java for certain purposes.</p>

<p>You've heard of Rails, of course. It's that hot Ruby-based Model-View-Controller-patterned full-stack framework for developing web applications that babysit databases. </p>

<p>Sorry; I should define my terms. Here's what I mean by "hot": At this year's Jolt Awards, Rails snagged the top prize for web development tools, while the top technical book pick was <i>Agile Web Development with Rails</i>. When the First International Rails Conference sold out in less than a week, the organizers added 150 seats&#151;and sold all of those in 24 hours. In the past three months, Rails has been on the radar of publications ranging from <i>BusinessWeek</i> to <i>Wired</i>. Employers are starting to ask applicants for Ruby and Rails experience (so far, this only applies to applicants for programming jobs).</p>

<p>Rails 1.0 was released in December 2005, and there are a number of Rails-developed applications running on the Web right now&#151;see the www.rubyonrails.org site or Wikipedia for lists. One such application, MeasureMap, was snapped up by Google.</p>

<p>Rails is clearly getting a lot of attention, but it's more than just the flavor of the month. For a growing number of web application developers, Rails seems to have hit some sort of sweet spot.</p>






<p>
<b>Ruby Features
</b></p>

<p>What is it about Rails that makes it the right tool for developing database-babysitting web apps?</p>

<p>At the top of the list has to be productivity. That was the tipping factor for Bruce Tate's customer, and it's surely the killer requirement for a web development tool, just as performance is the killer requirement for PC game development. Exactly how Rails makes you more productive comes down to a number of decisions that together make up a programming style. One of those decisions is the principle of Convention over Configuration.</p>

<p>Take plurals, for example. Rails automatically and dynamically fleshes out your Model objects based on your database, and does so with a sophisticated understanding of English plurals: A "customers" table will result in a Customer model, and a table named "people" will give you a Person model. You can override these decisions, but bowing to Rails' conventions saves a lot of coding.</p>

<p>One-stop shopping. Rails is a fully integrated web application framework. All you have to add to it are a web server and database. And the Model, View, and Controller components of your app are intelligently integrated without effort on your part.</p>

<p>Polish. Although Rails is a free, open application, it emerged into the wild only after serious real-world testing. Its creator David Hansson used Rails to develop three successful web applications for his company. It's been out of beta since December, which technically makes it more mature than nine out of ten Google apps, snark snark.</p>

<p>Then there's Ruby, a language that combines the uncompromising object orientation of Smalltalk with the immediacy of Perl, Python, or PHP. Yukihiro "Matz" Matsumoto wanted to create a language that made programmers happy. Ruby is one of the most approachable languages we've ever seen, and Rails honors Ruby by trying to extend that approachability to the level of metaprogramming.</p>

<p>Among the features of Ruby that Rails makes powerful use of are:</p>

<ul>
  <li>Pure OOP. Everything, even an arbitrary real, is an object:<br>

<pre class="code">

irb(main):001:0&gt; 2.2.round
=&gt; 2

</pre>

  <li>Reflection. You can ask Ruby objects about themselves:<br>

<pre class="code">

irb(main):002:0&gt; 2.2.class
=&gt; Float
irb(main):003:0&gt; 2.2.methods
=&gt; ["%", "between?", "method", "send"
   , "prec", "modulo", "infinite?", 
   "object_id", "zero?", 
   "singleton_methods", "__send__", 
   "equal?", "taint", "*", "frozen?", 
   "instance_variable_get", "+", 
   "kind_of?", "step", "to_a", 
   "instance_eval", "-", "remainder", 
   "finite?", "prec_i", "nonzero?", 
   "/", "type", "protected_methods", 
   "extend", "floor", "eql?", 
   "display", "quo", 
   "instance_variable_set", "hash", 
   "is_a?", "to_s", "prec_f", "abs", 
   "singleton_method_added", "class",
   "tainted?", "coerce", 
   "private_methods", "ceil", 
   "untaint", "+@", "-@", "div", "id", 
   "**", "to_i", "&lt;", "inspect", "&lt;=&gt;",
    "==", "&gt;", "===", "clone", 
   "public_methods", "round", "&gt;=", 
   "respond_to?", "freeze", "&lt;=", 
   "nan?", "divmod", "to_f", "__id__", 
   "integer?", "=~", "methods", "nil?",
   "dup", "to_int", 
   "instance_variables", 
   "instance_of?", "truncate"]

</pre>
  <li>Duck typing. Put simplistically, Ruby "ducks" the issue of typing, letting the type of a variable be determined by its value: "If it walks like a duck and talks like a duck, you might as well treat it as a duck."<br>

<pre class="code">

irb(main):004:0&gt; v = 1
=&gt; 1
irb(main):005:0&gt; v.class
=&gt; Fixnum
irb(main):006:0&gt; v = "one"
=&gt; "one"
irb(main):007:0&gt; v.class
=&gt; String

</pre>
</li>
  <li>Blocks. In Lisp, they're called "closures." Run this code in Ruby:<br>
<pre class="code">

puts "Here's what instances of String 
  can do:"
String.instance_methods.each do 
  |method_name|
  puts method_name
end

</pre>
<br>
	and you'll see every string instance method (or operator).</li>
</ul>





<p>
<b>Right Time for Rails?</b>
</p>

<p>But maybe it all comes down to timing. "Ruby on Rails had the good fortune to get the timing right," Hansson says. "There's enough awareness and sympathy for the agile methodologies we're aligning our philosophy with. Enough cheap CPU cycles available to make performance a nonissue for most applications. Enough understanding of what can be generalized in web development. And finally, there's enough people sick and tired of their existing development environments to look beyond the corporate dictates and explore greener fields."</p>

<p>Of course, this is the developer of Rails building the buzz for his baby, but effective marketing is one of the things Rails has going for it. Rails expert Chad Fowler says, "Marketing really is an important part, not just of what's driving interest in Rails, but of the Rails culture. For years, the geek culture has been extremely suspicious of anything related to marketing. They're starting to see, through Rails and other successes, that if you really believe in a technology and you want to see others succeed while using it, you need to market it.  If nobody knows about it, nobody's going to use it."</p>

<p>A good place to investigate the power and simplicity of Rails is in the way it interfaces with your database. Rails implements the <i>Model</i> component of your MVC application via the <i>ActiveRecord</i> class (see Martin Fowler's <i>Patterns of Enterprise Application Architecture</i>, Addison-Wesley 2002, for a discussion of <i>ActiveRecord</i>). <i>ActiveRecord</i> wraps database records, encapsulates database access, and adds logic pertinent to the data. When you build your first Rails app, it's really surprising to see how, through the magic of reflection and Convention over Configuration, Rails is able to free you of most of the effort of integrating your database into all phases of your application. This line of Ruby:</p>

<pre class="code">

class Person &lt; ActiveRecord::Base; end

</pre>

<p>"is all the code you need," Fowler explains, "to have a full functional Object-Relational Mapping to a database table called 'people.' It just works."</p>

<p>But wait, there's more.</p>

<p>This is merely an overview of the Ruby on Rails phenomenon. <i>DDJ</i> will be tracking Rails closely in the coming months because it may represent a historic tipping point in development environments. Here are some places to go to learn more about Rails:</p>

<p>Books and articles. Dave Thomas at the Pragmatic Bookshelf seems to have signed most of the Ruby and Rails authors, including Chad Fowler (<i>Rails Recipes</i>) and David Hansson (<i>Agile Web Development with Rails</i>). But O'Reilly &amp; Associates has Bruce Tate working on <i>Ruby on Rails: Up and Running</i>, Apress will be coming out with <i>Beginning Ruby on Rails</i>, and there should be several other Rails books released in the coming months. There are a number of books out on Ruby, and Pragmatic's <i>Programming Ruby</i> is readable online (<a href="http://www.rubycentral.com/book" target="_blank">www.rubycentral.com/book</a>). The official Rails web site (<a href="http://www.rubyonrails.org" target="_blank">www.rubyonrails.org</a>) has links to a number of useful how-to articles, such as "Using Rails for web dev on Mac OS X" at Apple's Developer Connection, the starting point for Mac-based Rails development.</p>

<p>Blogs, web sites, and lists. In addition to the links already mentioned, see www.loudthinking.com and www.chadfowler.com (Hansson and Fowler's blogs) for links to more Rails info. Digital Media Minute has the "Top 12 Ruby on Rails Tutorials" (<a href="http://www.digitalmediaminute.com/article/1816/top-ruby-on-rails-tutorials" target="_blank">www.digitalmediaminute.com/article/ 1816/top-ruby-on-rails-tutorials</a>). The Rails Wiki (wiki.rubyonrails.com) has documentation, discussion, and advice on Rails-friendly web hosting. Two starting points for Ruby information are <a href="http://groups.google.com/group/comp.lang.ruby" target="_blank">groups.google.com/group/comp.lang.ruby</a> and <a href="http://www.ruby-lang.org" target="_blank">www.ruby-lang.org</a>.</p>






<table height="0" border="0" cellpadding="10" cellspacing="5" vspace="15">
  <tr> 
    <td valign="top" bgcolor="CCCC99">
    <p><b>A Conversation with David Heinemeier Hansson</b></p> 

<p><b>DDJ:</b> In <i>Beyond Java</i>, Bruce Tate argues that the Java platform is getting in the way of programmer productivity, compelling programmers to look for an alternative, perhaps Ruby and Ruby on Rails. What do you think of his assessment of the Java platform today?</p>

<p><b>DHH:</b> Bruce is spot on. Java has had a great run for the last 10 years. There's plenty to be proud of over that stretch. And Java will be around for a very long time to come. But I don't believe there's room at the top of the hill anymore. Its patronizing roots and the complexities needed to cope with those have grown stale. A wonderful world of possibilities is opened when you replace "you can't" with "you shouldn't (unless)." One where use cases and practices can emerge and grow beyond the limited set of possible uses a supposedly omniscient language designer could predict back in the early '90s.</p>

<p><b>DDJ:</b> What's to stop Ruby on Rails from evolving into what Java/J2EE has become?</p>

<p><b>DHH:</b> Determination. Unlike commercial entities, we're not at the mercy of the next big deal. We're not looking to create a framework that's capable of solving the 5 percent hardest problems in the world. That's our sweet spot: catering to the mass of applications where a common set of conventions can be widely applicable. Where most people can need and desire the same thing for most of the work. So we're very conscious about the fact that Rails will never solve 100 percent of anyone's problems. If we can just get the 80 percent streamlined, you'll have more than enough time left over to make a truly great application by being unique in the last 20 percent.</p>


<p><b>DDJ:</b> Is there a danger of people applying RoR to tasks for which it is not suited, and growing the platform in unhelpful, distracting directions?</p>

<p><b>DHH: </b>You're free to take Ruby on Rails in whatever direction you please for your own project. It's open and free software. Just don't expect that we'll accept your contributions in the core automatically. We're turning down patches and ideas for the core of Rails all the time. So I don't fear this distraction too much.  DDJ</p>
	</td>
  </tr>
</table>

</body>
</html>