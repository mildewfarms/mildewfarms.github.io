<html><head><title>May04: Chaos Manor</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h1>Hot-House Computing</h1><p><i>Dr. Dobb's Journal</i> May 2004</p><h3>By Jerry Pournelle</h3><I>Jerry is a science-fiction writer and senior contributing editor to BYTE.com. You can contact him at jerryp@jerrypournelle.com.</I><hr><p>The newest machine at Chaos Manor is a 3.2-GHz Intel "Prescott," officially described as "Intel Pentium 4 Processor 3.20 supporting HT (Hyper-Threading) Technology." It features 1-MB on-die L2 cache and is built on the 90-nanometer process technology. There is a new SSE3 instruction set and a larger 16-KB L1 data cache. At present, the 1-MB L2 cache is a bit slower than the 512-KB L2 on the "Northwood" chip, but that cache memory speed is tied to the chip speed&#151;as Prescott ramps up to 4 and then 5 GHz, this will be fast cache indeed. Prescott has improved speculative branch prediction to help minimize the performance hit of the longer pipeline.</p><p>There had been speculation that Intel would call the Prescott a Pentium 5, but stuck with Pentium 4 despite the new features. There was also speculation that, at any given clock speed, the Prescott would be slower than the previous Northwood Pentium 4 because of the longer pipeline. That turns out to be sort of true, depending on benchmarks, but it's close enough to be a tie even with the present edition; and, of course, Prescott speeds will go up and up. </p><p>For a good discussion of this, see Bob Thompson's analysis at http://www.ttgnet.com/daynotes/2004/2004-06.html#Monday. The important point is that clock-cycle for clock-cycle, the Prescott is already nearly as fast as the Northwood on most software, and this doesn't take account of software written to take advantage of the Prescott's new features. Thompson's advice (and I agree) is that you don't need to upgrade to Prescott unless you're building something new. If so, Prescott is the way to go.</p><p>The disadvantages of Prescott are that it isn't the fastest thing Intel makes, it draws more power and produces more heat compared to Northwood at the same speed, and nothing Intel makes is as fast overall as the AMD Athlon 64 3400+ or Athlon 64 FX-51. Again this depends on benchmarks, according to <i>Microprocessor Report'</i>s Peter Glaskowsky. The P4 Extreme Edition, which competes with the Athlon 64FX, costs about $900.00 compared to the Athlon at about $400.00.</p><p>For most of us, pure speed isn't the decision factor to begin with, and it remains true that the ultimate in Intel compatibility is Intel. On the other hand, AMD has overcome many of its problems, while Prescott doesn't have much advantage in heat management over the best AMD chips. It's still a horse race. </p><h3>Hi Yo Silver!</h3><p>The new system is called "Silver" and built on an Intel D875PBZ motherboard. This board comes with onboard Ethernet, but no onboard sound or video. For general office use, the onboard Intel Extreme 2 Graphics is pretty good, but I usually end up installing an ATI graphics card instead because of ATI's really elegant text displays. However, I find the SoundMAX onboard sound on many Intel boards good enough. Indeed, "Lassie," a 3-GHz Northwood Pentium 4 built on an Intel D865GBF motherboard, was the best all-around system in the house until Silver: Lassie has an ATI 9700 graphics card (in addition to the onboard Intel Extreme 2 Graphics, which we ignored), and Intel's onboard SoundMAX sound with the "smart jack" output that allows full 5.1 audio.</p><p>Since there's nothing onboard but Ethernet on the D875PBZ and the new Prescott is the fastest chip I have, Silver got pretty much top of the line everything: 1 GB each of Kingston and Crucial DDR PC3200 memory divided into four 512-MB DDR memory modules. Dual Channel memory requires chips in each channel be paired. The two DIMMs in channel 1 slots must be identical as must those in channel 2 slots, but channel 1 memory need not be identical to channel 2 memory. In my case, all four DIMMs have identical specifications and as a test I swapped so that channel 1 held a Crucial and a Kingston (as did channel 2). Everything worked all right, which was mildly surprising: As we get to higher and higher speeds, timing gets critical, and the wonder is that it works at all. Once I saw that the mismatched pairs worked together, I swapped back so each channel now has one&#151;and only one&#151;make of memory. Don't even think of compromising. El cheapo memory might work, but as soon as you have any problems, you will have these nagging doubts about the cause. With Kingston and Crucial memory, I can be sure that whatever my problems, they aren't caused by memory errors.</p><p>Silver's video card is the Crucial Technology Radeon 9800 Pro. Crucial makes this from the ATI video chipset. It has 256 MB of video memory, and the card is sturdy and well made with a powerful but quiet fan. With boards this fast, cooling is critical. You don't really want to see your game dissolve into a mass of little squares and blobs, which happens fairly often if your video board is overheating.</p><p>The disk drive is a Maxtor 250-GB Serial ATA drive, and there's a Sony floppy drive (sometimes needed for BIOS upgrades as well as for installing some older programs such as Windows Commander that I can't live without), a Zip-100 to save off copies of works in progress, and a generic DVD-ROM drive. Silver's sound card is Creative's Audigy 2 Platinum, which is supposed to be top of the line. The case is Antec's fancy new P160, a shiny brushed aluminum case that made the name Silver the obvious one for the machine. The power supply is Antec's TruePower-380 Watt with Antec Lo-Noise Technology. The operating system is Windows XP Professional.</p><p>This combination works, but it runs at the edge of overheating and it took considerable fussing about to get it up and running and stable. If you're planning on building a new system, read the rest of this column before you do.</p><h3>ANTEC 380 TruePower </h3><p>The first problem was that the Antec P160 case comes without a power supply. That's not Antec's fault, because it's clearly stated on the outside of the box, but it did remind me not to start a new system on Sunday night unless I have checked that I have all the parts I need. As it happens, I had an Antec 380 TruePower in the supply cabinet. I also had a no-name 500-Watt power supply.</p><p>I intend to load up this system with several hard drives, a DVD-ROM drive and DVD burner, Zip-100 drive, ATI 9800 video card, sound card, and 2 GB of memory. All this takes power, and the Prescott chip wants better than 100 Watts by itself. I wondered if the 380-Watt supply would be good enough. After stewing over it a bit, I called Bob Thompson and described what I had.</p><p>"Who makes the other power supply?"</p><p>"I can't tell. There doesn't seem to be a name. It's a heavy sucker, heavier than the Antec power supply."</p><p>"Heavy is good," he replied in a plonking tone.</p><p>"All right. You think the 380 has enough power?"</p><p>Once I got that settled, I put the no-name 500 back in the cabinet. The moral of this story is obvious: You don't compromise on power supply quality when building new systems. It's a lesson I learned back in the 80386 days when power supplies failed fairly often, and some failed catastrophically, taking out everything else in the box. Good power supplies fail gracefully: They just die, and when you replace them, everything else still works.</p><h3>ANTEC P160 Case</h3><p>The Antec P160 Case is slicker than a weasel. It's gorgeous, has three big blue lights on the front, and looks like it would be comfortable at Mach 3.5. There are two slick looking catches holding the side access panel on. The front bezel pries off neatly to give access to the external drive bays.</p><p>Almost everything in the case, including the AGP and PCI cards, is held in place by knurled screws. The entire motherboard mounting plate comes out if you remove one knurled knob, but it's securely held without wiggles. Despite being made of aluminum, the motherboard mounting plate is stiff enough, and there's a solid feel to it all.</p><p>Mounting internal and external drives is simple. Like the Antec Sonata case I am fond of, you will need a special length data cable with the P160 if you want to attach both an internal and external drive on a single ATA controller string: Standard cables are a frustrating inch or so too short, so I can't put the Zip drive on the same cable with an ATA hard drive. For the moment, that's no problem because the main hard drive is Serial ATA.</p><p>There are cables for connecting front panel USB 2.0, Firewire, and sound output. There are also two thermocouples with a digital readout (Fahrenheit or Celsius as you choose) on the front panel. I have put one of the thermocouples into the heat-sink mechanism for the CPU chip and the other on the hard drive. </p><p>One caution: The P160 comes with the case fan attached by twist ties. You have to install it yourself, using supplied rubber mounts. Be sure to install the motherboard before you install the fan! If you don't, you will never get the motherboard in until you remove the fan. When you remove that fan, you will ruin the rubber mounts. I was fortunate enough to have an extra half dozen of those long skinny rubber mounting things. You won't have any extra. You can buy them at http://www.endpcnoise.com/cgi-bin/e/Fanisolators.html, and they're three bucks a set, which is too much, but you don't have much choice. </p><p>A tip: Antec has changed the heads on the screws it supplies and it is no longer easy to determine which screws fit the little brass hex standoffs. Make sure you try one not screwed down to the mounting plate, and do that with your fingers. If it doesn't go in easily, it's probably not the correct thread. Keep trying until you find which screws actually fit, remembering that the screws are steel and the hex standoffs are brass; so when you use a screwdriver, you can easily force wrong-threaded screws in, but not far enough to hold the motherboard down. If you do that, you'll have to disassemble the whole thing and start over. Better to be sure you're using the correct threaded screws in the first place.</p><p>And my standard tip: Get a 5-mm socket driver. That fits those little brass hex standoff things that hold the motherboard up off the mounting plate. It makes the assembly a lot easier. No more tightening the brass things with pliers.</p><h3>Bringing Up Silver</h3><p>You must boot (into DRDOS, as it happens) with the Maxtor utility disk if you expect your system to see the full 250 GB. When you do that, you find that the disk is preformatted in NTFS, so when you boot with the Windows XP CD and install on the existing partition, formatting takes about 20 seconds rather than the hour I had expected with that large a disk.</p><p>The Maxtor 250-GB Serial ATA is a bridged Serial ATA implementation&#151;a standard parallel ATA drive with S-ATA conversion circuitry. Converting protocols adds overhead, so a bridged S-ATA is likely to be slower than a native Serial-ATA drive. At the moment, Seagate makes the only native Serial ATA drives that I would recommend. I don't have numbers for the differences in speed between the Maxtor bridged Serial ATA and the Seagate native Serial ATA, but the Seagates are faster. The Seagate second generation 7200.7 Barracuda Serial ATA drives have a three-year warranty and are very fast, as well as  quiet. If you're trying for a really extreme system with the fastest possible disk operations, you'll probably want the Seagate serial drives. On the gripping hand, you'll be hard put to find practical applications where you'd notice the difference.</p><p>It is also important that you bring up the system and install software in the correct order: </p><p>1.	The Maxtor drive software from the Maxtor boot disk.</p><p>2.	Windows XP. </p><p>3. Windows XP SP-1a from a CD.</p><p>4.	Intel chipset information from the D875GBZ disk. </p><p>5.	Intel Ethernet from that disk.</p><p>6.	A firewall or hide behind a router.</p><p>7.	Norton Anti Virus from the Intel startup disk.</p><p>8.	Intel Active Monitor from the Intel startup disk.</p><p>9.	Other stuff from the Intel startup disk.</p><p>Go to http://developer.intel.com/design/ motherbd/bz/bz_bios.htm for the latest BIOS for your D875PBZ motherboard. Install that, being sure that your system is on an UPS because a power failure during a BIOS update makes your system unusable. (Actually, Intel motherboards have a "BIOS Recovery" that restores defaults, but you're better off not having to do that.)</p><p>Go to http://www.intel.com/design/motherbd/software/dcc/IDCC_Download .htm for the control panel software that lets you have more control over fan speeds. </p><p>Go back to Windows Update and finish all the updates required and/or recommended for Windows XP</p><p>Plug a USB 2.0 device into a USB port. If you get the message that your device is connected at a lower speed, go to Device Manager, find the USB drivers, and uninstall each one until there are no more to uninstall. Now reset the system, and lo!&#151;it finds the proper USB 2.0 drivers and installs them, and Bob's your uncle. And no, I don't know why you have to do that: I only know that I had to&#151;twice&#151;because the first time it happened, I scrubbed the system to bare metal and reinstalled everything and I still had to do that. And I do these silly things so you don't have to, only this time, you may have to do it also. It's not difficult. It's not even tedious. It is baffling.</p><p>Prescott systems run hot. The slowest and coolest Prescott dissipates up to 89 Watts; the fastest and hottest Northwood has the same 89-Watt maximum. Any Prescott system you build will run hotter than any Northwood.</p><p>Unfortunately, Intel hasn't made much progress in its heat-sink and fan designs for Prescott. All that's coming in the new BTX specification, and BTX systems ship when Intel transitions to Socket 775. Meanwhile, Antec and other case/power-supply companies have been striving for quiet systems. Quiet usually means less air flow, which means more retained heat. </p><p>In my situation, the Prescott 3.2-GHz chip in the Antec P160 case ran about 64 degrees Celsius when idling. When I put up <i>Total Annihilation</i>, not a particularly stressful game (but there are a lot of objects to keep track of), the Intel Active Monitor software immediately began to beep. Naturally, by the time I could get to the display, it would say that the Chip Zone temperature had temporarily exceeded the maximum in the setting, but all is well now, okay? </p><p>I could prevent that by jacking the maximum allowed (peak) temperature up to 72 degrees Celsius, which is pretty hot. I did that, and the system worked all right, but it worried me a bit.</p><p>My first move was to get into the case and be careful about cable routings, using cable ties to generally "neat" everything up. That brought the idle temperature down to about 58 Celsius. Next, I got out an AOC FC-2000-B System Blower, which is a turbine fan that mounts in a PCI slot and blows air out of the box. There is an empty slot above the AGP video slot. There's no actual motherboard slot behind it on this board/case combination. It seemed like a good place to put the System Blower: It takes hot air from the Radeon 9800 video card and blows that out of the case. Installing that brought the idle heat down to 53-55 Celsius&#151;still higher than I'd like, but good enough. For the moment, Silver runs hot but within acceptable limits thanks to the AOC FC-2000-B System Blower.</p><h3>Winding Down</h3><p>The game of the month is the "Trials of Atlantis" extension to <i>Dark Age of Camelot,</i> a massive multiplayer dungeon game. I find I get just about what I want from this game&#151;as much intensity as I like, plus a way to be distracted without being totally involved, as when I have one machine set to let me go to <i>DAOC</i> and practice spellcrafting and other player skill crafts. The "Trials of Atlantis" adds tasks at the high end of player development and absolutely requires you to be able to work cooperatively. </p><p>The computer book of the month is David Pogue's<i> MAC OS X: The Missing Manual,</i> Second Edition (O'Reilly &amp; Associates, 2002; ISBN 0596004508). It lives up to its description as, "The book that should have been in the box," and I can't imagine anyone using a Mac not finding it useful.</p><p>The other computer book of the month is also from O'Reilly, Mark Lutz and David Ascher&#151;<i>Learning Python, </i>Second Edition (O'Reilly &amp; Associates, 2003; ISBN 0596002815). Python is a structured programming language that simplifies writing programs. It's a lot easier to learn than C++ and, while not quite as fast for big and complex programs, it's a lot easier to get programs running under Python, and most won't notice the speed differences.  </p><p>The book of the month is <i>Burning Tower </i>by Larry Niven and Jerry Pournelle, but since that was just turned in and isn't in print yet, you won't be able to read it. So if you have some free time and an interest in world events, get Sir James Goldsmith's <i>The Trap </i>(Carroll &amp; Graf, 1995; ASIN 078670263X), and read it in the light of what has happened in the past decade. And, if you're a Navy buff, you will like Robert Massie's <i>Castles of Steel: Britain, Germany, and the Winning of the Great War at Sea </i>(Random House, 2003; ISBN 0679456716) about World War I battleships.</p><p><b>DDJ</b></p></body></html>