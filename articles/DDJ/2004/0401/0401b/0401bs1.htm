<html><head><title>Jan04: Doing It the Hard Way</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h2>Doing It the Hard Way</h2><p>While the refactoring sequence in the first scenario produces an extremely efficient redesign of existing code, the operations themselves are highly repetitive. Unless you have an unending supply of unpaid, volunteer programmers, you will want to use automation tools, such as a refactoring-capable IDE. In contrast, let's look at the painful steps needed to perform the same necessary operations manually:</p><p><b>Stage 1.</b> Manually create an interface to be implemented by the <i>AccessRightsTable</i>, as well as by the manually created <i>MutableAccessRightsTable</i> and <i>ImmutableAccessRightsTable</i>. Manually create all methods in the two new classes and make them use the delegate field in the method body. Manually wrap methods in <i>MutableAccessRightsTable</i> with the <i>synchronized{}</i> block. After having spent, say, half an hour or more at that, you would take a coffee break (another 10-15 minutes) and come back with a clear mind to tackle the second stage&#151;involving work so boring, you do not even want to think about it.<b></p><DDJADVERTISEMENT INLINE><p>Stage 2</b>. Find all usage of the <i>AccessRightsTable</i> class in your project (field types, variable types, parameter types, method return types). For each usage, decide whether to manually switch to the <i>AbstractAccessRightsTable</i> interface instead of the class. Find all usages of the <i>AccessRightsTable</i> constructor in your project. Analyze the contextual role of the variable or field holding an instance of <i>AccessRightsTable</i> and try to foresee possible future usages of each particular instance, to either leave it as-is or wrap it up with the <i>MutableAccessRightsTable</i> or <i>ImmutableAccessRightsTable</i> constructor calls.</p><p>Depending on the size of your project, these steps might take you anywhere from one to dozens of man hours to complete. By contrast, the right automation tool gets it done in seven minutes.</p><p><i></p><p>&#151;E.B., M.S., and A.O.</p><a href="0401b.htm#rs1">Back to Article</a></body></html>