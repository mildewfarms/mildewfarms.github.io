<html><head><title>Jan04: Chaos Manor</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h1>Video Boards &amp;  BIOS Updates Are Hot</h1><p><i>Dr. Dobb's Journal</i> January 2004</p><h3>By Jerry Pournelle</h3><I>Jerry is a science-fiction writer and senior contributing editor to BYTE.com. You can contact him at jerryp@jerrypournelle.com.</I><hr><p>This story has a happy ending, so read all of it...The ATI 9800 series video boards are wonderful, if expensive. They are fast and have good, clear text and smooth images. Games look gorgeous. Colors are good. But the problem I had with them was that when they were put into fast systems&#151;3.0 GHz and better with 400-, 533-, or 800-MHz Front Side Bus speeds&#151;they tended to freeze up when playing high-end games. When there was a lot of action on the screen, the video would go out and, in place of characters doing things, there were thousands of tiny little colored squares in random patterns. This didn't make for a good gaming experience.</p><p>I thought at first it was heat since that particular pattern of video failure is usually associated with overheated memory chips. I was pretty sure that heat was a factor because adding fans to the computer box did give longer intervals before the system blew up. No matter how many fans I had blowing across cold cans of Dr. Pepper, I'd never go more than a couple of hours before the action would get furious and the board would freeze up.</p><DDJADVERTISEMENT INLINE><p>Whenever that happened, I'd reset the system and Windows would tell me I had recovered from a serious error, then ask me to let it send a report to Microsoft. I always do. I'd then get connected to a web site that said, in essence, "It's not our fault. It was a video driver. Have a nice day." So I'd then go download the latest ATI drivers and try again, and sometimes I'd get an extra half hour before it all happened again. The ATI 9800 boards were wonderful, but I couldn't get them to work in my really fast systems. Frustrating, but read on.</p><h3>Updating the BIOS</h3><p>Then Intel came out with BIOS updates for its fast boards&#151;the D850, D865, and D875 systems (http://www.intel.com/products/desktop/motherbd/index.htm). </p><p>In the old days, a BIOS update was a very big deal. You could only do it from DOS, and you had to make a boot floppy. When you were ready, you made certain the system was connected to a UPS, because if anything interrupted the BIOS update before it ran to completion, your motherboard was toast.</p><p>In theory, you can still do a BIOS update that way: Generate a boot floppy from the downloaded file, boot with that, let it run to completion, and pray a lot. In practice, I was never able to do it right. Either the floppy would not be written properly or the system never seemed to eat the code when it booted from the floppy, and the BIOS update failed. Fortunately, for many motherboards and operating systems there's another way&#151;a program that runs under Windows, then restarts the system. During the restart, the BIOS is updated and Bob's your uncle.</p><p>It's still important that you don't get a power failure while the update is going on&#151;that can lock up your motherboard so that it never boots again. The update only takes a couple of minutes (Intel warns you it will be three minutes, but I've never seen it take that long).</p><p>After a couple of unsuccessful attempts to update Sable, my D850 3.0-GHz Pentium 4 (533-MHz Front Side Bus) system, by making a boot floppy, I tried the alternate method. It worked like a charm. Then I loaded in the latest ATI drivers, and all has been well ever since. No freezeups. Beautiful text. Lovely images and color. I love that ATI 9800 board.</p><h3>Panic!</h3><p>I had the same experience with the D875 3.2-GHz Pentium 4 (800-MHz Front Side Bus). Attempts to update the BIOS with a boot floppy failed, so I ran the update program in Windows XP.</p><p>Everything seemed to go well until I restarted. I'd get the Intel splash screen. I could go into the BIOS&#151;and the machine would not boot. It would act as if it were going to boot, the screen would go black, and nothing whatever would happen.</p><p>I was certain I had ruined that system, and I hated that because that system is slated to become a main machine to replace the D850. The D850, mind you, is still plenty good enough, but it's not the latest and greatest. I wanted to replace that 3.0-GHz chip in the D850 with a 2.5 GHz, then find the system a good home with a school. Or that was my intention&#151;until the D875 stopped working.</p><p>Then I got to thinking about it. I could get into the BIOS. Clearly, the machine wasn't dead. So why wouldn't it boot? I went into the BIOS and looked&#151;and lo! This machine had two Seagate Serial ATA drives configured in a RAID array. The drives work fine. Good drives. Excellent drives. I could hear them spin and everything&#151;but the system wasn't booting.</p><p>The RAID is generated by the D875 motherboard&#151;"hardware RAID," as compared to a software RAID array created by Windows. The default BIOS setting in a D875 has the RAID disabled. When I updated the BIOS, all the settings defaulted. Eureka!</p><p>The remedy was simple: Go to the BIOS and enable RAID, then reset the machine, and that was that. It came up immediately. Then it was a matter of testing the ATI 9800 board with the updated BIOS and ATI drivers, and once again, all the problems had vanished.</p><p>I also updated the BIOS on the D865 boards. This time, I didn't bother with the "FLASH" method, but used the Windows program. It works fine. There are two things to note: After the program sets itself up and begins to reboot, it takes a while to come back up, and the board's POST speaker makes some mournful beeps at intervals, probably to remind you not to turn off the system since doing so at that point really would muck things up badly. Second, when it does come back up, it tells you there is a checksum error and puts you into the BIOS. You need do nothing but exit again, presuming that you're satisfied with the default BIOS settings. If not, change them to your satisfaction. Next time you exit the BIOS, the system will reboot and run just fine.</p><p>The moral of the story is that with really fast systems like these, you must use the latest drivers, but you may also have to update the BIOS. And if you do, just remember that all the settings in an updated BIOS will be their defaults. Duh. And have faith...</p><p>The happy ending is that the ATI 9800 boards are really neat, although to be truthful, I don't have any programs or games that require anything better than the 9100 series. On that score, though, just wait a bit. Game writers will use every last cycle of video speed and want more.</p><h3>RAID and Backups</h3><p>A reader recently e-mailed to say he was perfectly happy with his mirrored drives using Intel's motherboard RAID. My reply was that on-board RAID was a fine start, but it wasn't going to protect you against a power-supply failure frying both drives, accidental deletion, or system theft. Chaos Manor has been hit with both of the first two, and my son Richard had his laptop stolen out of his truck out back. So, I wouldn't consider two drives in a single case to be an adequate backup. </p><p>Of course, I'm more paranoid than most, so I end up saving everything I write to four or five places, press copies on passersby, and send another to Elbonia for something like safekeeping. You probably don't have enough PCs to save everything five times, but you certainly have options.</p><p>What media to use? Tape is rapidly becoming an option only for the high-end; CD (or DVD) burners are the obvious first choice. There are over-the-Internet backup options, but they're not inexpensive. Windows XP does have a relatively simple way to cause backups to be written to a CD, though you probably want a third-party application like BackupMyPC (http://www.stompinc.com/) or Nero Burning Rom (http://www.ahead.de/) to manage this more simply. In any case, don't trust all your data to a single computer, even if it has a RAID array.</p><p>An afterword on tape: It's messy, it's inconvenient, it can be expensive; but overall, it's pretty cheap compared to losing your data. And tape is orders of magnitude more reliable than most optical media. This isn't so important if your data are mostly text where bit-for-bit accuracy isn't so critical; but with numerical data, that's another story. It is precisely the need for data reliability that brought about the invention of DVD-RAM, still by far the most reliable of the rewritable DVD options (and also increasingly hard to find). Travan (http://www.travan.com/) and OnStream (http://www.onstream.com/) are good tape units, and if you have a lot of valuable data, tape may still be your best option.</p><h3>ATI 9800, Heat, and the Antec Sonata</h3><p>For a good general-purpose system at the price, it's hard to beat the Intel D865GBF motherboard, as fast a Pentium 4 as you can afford. It does fine with a 2.53-GHz chip, and FSB speeds of 533, but better is a 3-GHz+ chip and 800 bus speed&#151;and a good ATI video card. The D865GBF comes with Intel video, which is alright, but nothing to shout about: It will play all the games I have tried it on, and it does fine; but it's not as pretty as the ATI 9800. Of course, few things will be.</p><p>ATI (http://www.ati.com/products/ multimedia.html) has about the nicest text in the business. Matrox may do a little better, but Matrox boards are hard to find and you don't want one if you play 3D games anyway. ATI boards put up really good looking text, and have gorgeous color, light, and shading in both 2D and 3D. In a word, they're hard to beat. All the ATI RADEON boards from the 9100 up are good enough for just about anything you can do now. They all have great text. They all use pretty much the same drivers, so apart from the on-board processing speed, most machines see them as the same board. The All-In-Wonder versions do TV as well as computer video. Clearly, if you want the latest and greatest, you need the ATI 9800; but you won't be unhappy with any 9100 or later RADEON in a D865 system.</p><p>The D865 has built-in sound that, as far as I am concerned, is as good as you'll get from the far more expensive sound boards, and the Jack Sensing system lets you set up 5.1 channel sound without problems. Of course, there are only the three jacks, so you won't be doing recording if you're using those jacks for output.</p><p>If you want more conventional sound processing capability, I recommend the Hercules Digifire 7.1 (http://us.hercules.com/), which has all the conventional jacks and works just fine with a D865. If you aren't going to use either the sound or the video on the D865, you may as well get the Intel D875 motherboard and be done with it. You won't regret either.</p><p>I built my D865 in the Antec Sonata case (http://www.antec-inc.com/) and it's the quietest machine in the house. Antec got a great deal of this right. Alas, when it comes to leading things out to the front panel, Antec put in all the wires, but their "plug" for audio is a mirror image of the pin layout on the Intel motherboard. You can't use it. Fortunately, their hydra-headed cable has individual wires as well as the consolidated plug, and Intel gives the pinouts, so you can hook up both USB and Audio to the front panel. It's tedious, but I was able to do it and it all works.</p><p>The Antec Sonata case is well designed, with good bays and racks for disk drives. It's very quiet. It comes with the "TruePower" 380-watt power supply that so far has delivered more than enough power for any system I have put into it.</p><p>It has one problem&#151;the fan is very quiet because it is large and slow moving. Moreover, it's right at the edge of not being powerful enough when you put in an ATI 9800 video board. If you run a fast system with the 9800 in a Sonata with the case left open, it will definitely overheat. I left the new system on its side with the case open, and I got warning beeps from the Intel Active Monitor program that comes with the motherboard within minutes of running a complex video game in the system. </p><p>There are two remedies. One is to set up a fan that blows down across the ATI 9800. That stopped the warnings. The other, of course, is to close the case. This gets the air flow moving properly, and with the case upright and closed, I haven't had any of those warning beeps even in the middle of a huge battle in <i>Dark Age of Camelot.</i></p><p>The buttoned up case does get a bit warm. Not hot, just noticeably warm, rather than the cool metal feel most computers have. Heat transfer to and out of the case probably helps with the heat dissipation because, as I said, with the case closed, I've had no temperature warnings even with fast action games causing the ATI 9800 to work hard indeed.</p><p>It isn't obvious, but there is a way to mount a second fan in the front of a Sonata case. The Antec manual says you should direct that to blow into the case rather than install as an exhaust fan. With two fans, this ought to work even with a fully loaded system, although it will probably be a bit noisier. So far, I've managed with the one fan and it sure is quiet.</p><h3>Winding Down</h3><p>The game of the month remains <i>Dark Age of Camelot,</i> which I find relaxing. For some reason, it has ended my <i>Everquest</i> addiction, yet it's not quite as addicting. I've also enjoyed<i> Microsoft Flight Simulator</i>, and<i> Age of Mythology</i> remains interesting. What I haven't found is a good modern warfare simulator comparable to the older turn-based<i> Steel Panthers</i>, and I sure wish one of the game companies would write one. All these modern "real-time" games are fun, but they aren't terribly instructive. Real battles don't happen in 10 minutes.</p><p>The book of the month is Merrill R. Chapman, <i>In Search of Stupidity,</i> a history of our industry with the subtitle "Over 20 Years of High-Tech Marketing Disasters" (Chapman A! Apress, 2003). I know many of the stories he tells, and he has most of them right. But he leaves out details. The first review of Wayne Ratliff's Vulcan (which became dBase 2) was mine in <i>BYTE</i>, and that review caused George Tate to buy Vulcan and rename it. However, Chapman does have the story right about how Ashton-Tate (Ashton was George Tate's parrot) became one of the giants, up there with Microsoft at the time, and how after George died suddenly, Ed Esber (his successor) managed to run the company into the ground by alienating all the developers and being jealous of any profits other than his own. There are plenty of lessons in here for the future.</p><p>The Computer Book of the Month is Preston Gralla's <i>Windows XP Hacks: 100 Industrial-Strength Tips &amp; Tools </i>(O'Reilly &amp; Associates, 2003). Most of the tips in this book aren't "hacks" in any sense that I understand the word, and perhaps a third of them are useless, but there are enough useful tips on using XP to make this well worth the price.</p><p><b>DDJ</b></p></body></html>