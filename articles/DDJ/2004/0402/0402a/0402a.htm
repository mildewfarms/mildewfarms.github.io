<html><head><title>Feb04: Interoperable  Web Services</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h1>Interoperable  Web Services</h1><p><i>Dr. Dobb's Journal</i> February 2004</p><h2>Certifying that your web services are WS-I compliant</h2><h3>By Arulazi Dhesiaseelan</h3><I>Arulazi is a senior software engineer for Hewlett-Packard, India. He can be reached at aruld@acm.org.</I><hr><a name="rs1"><a href="0402as1.htm">Using the WS-I Basic Profile 1.0 in Development</a><hr><p>The Web Services-Interoperability (WS-I) organization is an open industry initiative promoting web services interoperability across platforms, operating systems, and programming languages. This initiative is supported by vendors ranging from BEA Systems, IBM, and Microsoft, to Bowstreet, Oracle, and Sun Microsystems, among others. WS-I (http://www.ws-i.org/) is gaining momentum, as the need for interoperable web services becomes more and more apparent.</p><p>With the approval of the Basic Profile 1.0 specification (http://www.ws-i.org/Profiles/Basic/2003-08/BasicProfile-1.0a.htm), WS-I has passed a significant milestone in its commitment towards interoperability. Moreover, WS-I has released the final version of its Testing Tools Implementation for the Basic Profile Version 1.0. These tools (http://www.ws-i.org/implementation.aspx) help you determine whether your web services are compliant to the WS-I Basic Profile, which considers the core set of specifications&#151;XML 1.0, XML Schemas Parts 1 and 2, HTTP/1.1, WSDL 1.1, UDDI 2.0, and SOAP 1.1. In this article, I examine the WS-I Basic Profile and use the WS-I Testing Tools to test WS-I conformance of the publicly hosted Catalogue Web Service. </p><DDJADVERTISEMENT INLINE><h3>WS-I Motivation</h3><p>With the rapid adoption of web services, service providers and consumers are encountering interoperability issues due to the adoption of many web-service specifications that are still works in progress. Even as you read this, the WS-I is gathering input from vendors who want a smooth adoption of this technology. With the requirements from industry and practitioners, the WS-I consortium has delivered key specifications and tools that are useful in certifying as "WS-I Compliant." Among the current WS-I deliverables are profiles, use cases and usage scenarios, sample code and applications, and test suites and supporting materials that help you certify your web services or products as interoperable. </p><p>For instance, <A NAME="rf1"><A HREF="0402af1.htm">Figure 1</A> illustrates the components of a typical Service-Oriented Architecture (SOA). In the Basic Profile, WS-I addresses the standards that describe services through WSDL, discover services through UDDI, and invoke them through SOAP/HTTP. The interactions between these components are standardized through protocols such as XML and HTTP.</p><h3>WS-I Profile Conformance</h3><p>Conformance adheres to the specifications that make up a profile's "scope" and "requirement." Scope defines the versioned specifications that are referenced in defining the profile, while  requirement defines the rules that web services should adhere to meet the profile's standard for interoperability. <A NAME="rt1"><A HREF="0402at1.htm">Table 1</A> lists some of the basic requirements captured in the Basic Profile 1.0 specification. </p><p>There are two types of conformance:</p><ul>  <li>Conformance of artifacts, the basic level of conformance. The three types of artifacts considered to be the primary elements of any web service are: <i>Message</i>, SOAP/HTTP messages; <i>Description</i>, WSDL descriptions; and <i>Regdata</i>, UDDI tModels.  <li>Conformance of services, consumers, and registries is a higher level of conformance and defines that the service deployed should produce or consume only conformant artifacts defined as part of basic conformance. Also, wherever multiple conformant artifacts are possible, the service must be able to consume all. The types that are defined under this level of conformance are: <i>Instance</i>, software that implements a <i>wsdl:port</i> or <i>uddi:bindingTemplate</i>; <i>Consume</i>, software that invokes an <i>Instance</i>; <i>Registry</i>, a UDDI registry capable of managing <i>Regdata</i>; <i>Sender</i>, software that generates messages; and <i>Receiver</i>, software that consumes messages.</ul><h3>WS-I Testing Tools </h3><p>WS-I Testing Tools evaluate the web services for Basic Profile conformance by capturing the interaction between the web service and its consumers. The core components of testing-tools architecture are the monitor, analyzer, and configuration files. The responsibility of the Monitor component (<A NAME="rf2"><A HREF="0402af2.htm">Figure 2</A>) is to capture messages and record them for future analysis. The analyzer component (<A NAME="rf3"><A HREF="0402af3.htm">Figure 3</A>) confirms that the web-service artifacts comply with the Basic Profile. The analyzer verifies the recorded messages for profile conformance. In addition to this, there are configuration files (such as monitorConfig.xml, analyzerConfig.xml, and BasicProfileTestAssertions.xml) that control the execution of the test environment. The analyzer generates a conformance report that has the complete analysis of the web service being tested. This report helps in certifying web-service compliance to the Basic Profile.</p><p>You can download the WSI-Testing Tools 1.0 (available for both C# and Java) from http://www.ws-i.org/implementation.aspx and extract the distribution to your hard drive (for instance, C:\wsi-test-tools). For the purposes of illustration, I use here the Java implementation, and to test an example WSDL artifact for conformance, I use the HP Catalogue Web Service (WSDL document available at http://www.lixusnet.com/lixusnet/ HPcatalog.jws?wsdl).</p><p><A NAME="rl1"><A HREF="#l1">Listing One</A> is a sample monitor configuration file that logs the interactions between the HP Catalogue Web Service and the client. The log file contains the request to the web service and response from the web service. This is an XML document, which can be viewed in HTML format with the supplied XSL document (C:/wsi-test-tools/common/xsl/log.xsl).</p><p>The analyzer determines whether the artifacts conform to the basic profile with the help of test assertions. One or more basic profile requirements form the test assertion. In this example, I consider the HP Catalogue Web Service description to be verified for conformance. <A NAME="rl2"><A HREF="#l2">Listing Two</A> is the sample configuration file for analyzer. The input to this tool is the location of the WSDL document for the web service and its service and port names. The analyzer processes this artifact against the test assertions document and produces the conformance report. This report (available electronically; see "Resource Center," page 5) is an XML document and can be viewed as HTML with the supplied XSL document (C:/wsi-test-tools/common/ xsl/report.xsl).</p><p>The conformance report for this artifact showed "failed," thus, the web service failed to comply with the test assertions WSI2108 (R2110, R2111) and WSI2406 (R2706, R2723), which target the corresponding basic profile requirements. (See BasicProfileTestAssertions.xml for more information about these failing test assertions.)</p><p>There are five result types for a test assertion: </p><ul>  <li>Passed, the test assertion of the input entry succeeded without any errors.  <li>Failed, the test assertion of the input entry failed with errors.  <li>Warning, the input entry failed the test assertion, but the test assertion indicated that it was "recommended."  <li>NotApplicable, the test assertion is not relevant to this input entry.  <li>MissingInput, the input entry is missing or unqualified.</ul><h3>Conclusion</h3><p>Web-service developers need to ensure that they follow WS-I requirements to achieve conformance to the Basic Profile. Today, you can certify your web services with the tools provided by WS-I. In the future, development environments will be smart enough to create web services that fulfill these profile requirements, thus increasing productivity and reducing time to deliver interoperable web services. </p><p><b>DDJ</b></p><H4><A NAME="l1">Listing One</H4><pre>&lt;wsi-monConfig:configuration xmlns:wsi-monConfig=                     "http://www.ws-i.org/testing/2003/03/monitorConfig/"&gt;  &lt;wsi-monConfig:comment&gt;    This configuration file is used to test the WS-I sample     applications running on a single system.  &lt;/wsi-monConfig:comment&gt;  &lt;wsi-monConfig:logFile replace="true" location="log.xml"&gt;    &lt;wsi-monConfig:addStyleSheet href=                  "C;/wsi-test-tools/common/xsl/log.xsl" type="text/xsl"/&gt;  &lt;/wsi-monConfig:logFile&gt;  &lt;wsi-monConfig:logDuration&gt;600&lt;/wsi-monConfig:logDuration&gt;  &lt;wsi-monConfig:cleanupTimeoutSeconds&gt;3&lt;/wsi-monConfig:cleanupTimeoutSeconds&gt;  &lt;wsi-monConfig:manInTheMiddle&gt;    &lt;wsi-monConfig:redirect&gt;      &lt;wsi-monConfig:comment&gt;This is a redirect for HP Catalog service.      &lt;/wsi-monConfig:comment&gt;      &lt;wsi-monConfig:listenPort&gt;4040&lt;/wsi-monConfig:listenPort&gt;      &lt;wsi-monConfig:schemeAndHostPort&gt;                  http://www.lixusnet.com&lt;/wsi-monConfig:schemeAndHostPort&gt;      &lt;wsi-monConfig:maxConnections&gt;1000&lt;/wsi-monConfig:maxConnections&gt;      &lt;wsi-monConfig:readTimeoutSeconds&gt;15&lt;/wsi-monConfig:readTimeoutSeconds&gt;    &lt;/wsi-monConfig:redirect&gt;      &lt;/wsi-monConfig:manInTheMiddle&gt; &lt;/wsi-monConfig:configuration&gt;</pre><P><A HREF="#rl1">Back to Article</A></P><H4><A NAME="l2">Listing Two</H4><pre>&lt;wsi-analyzerConfig:configuration name="Sample Basic Profile                                                    Analyzer Configuration"     xmlns:wsi-analyzerConfig=                   "http://www.ws-i.org/testing/2003/03/analyzerConfig/"&gt;  &lt;wsi-analyzerConfig:description&gt;    This configuration file is for HP catalog service which is deployed as     an axis service at http://www.lixusnet.com/lixusnet/HPcatalog.jws.  &lt;/wsi-analyzerConfig:description&gt;  &lt;wsi-analyzerConfig:verbose&gt;false&lt;/wsi-analyzerConfig:verbose&gt;  &lt;wsi-analyzerConfig:assertionResults type=                             "all" messageEntry="true" failureMessage="true"/&gt;  &lt;wsi-analyzerConfig:reportFile replace=                              "true" location="report.xml"&gt;    &lt;wsi-analyzerConfig:addStyleSheet href=                  " C;/wsi-test-tools/common/xsl/report.xsl" type="text/xsl"/&gt;  &lt;/wsi-analyzerConfig:reportFile&gt;  &lt;wsi-analyzerConfig:testAssertionsFile&gt;    C;/wsi-test-tools/common/profiles/BasicProfileTestAssertions.xml  &lt;/wsi-analyzerConfig:testAssertionsFile&gt;   &lt;wsi-analyzerConfig:logFile correlationType="endpoint"&gt;    log.xml  &lt;/wsi-analyzerConfig:logFile&gt;   &lt;wsi-analyzerConfig:wsdlReference&gt;    &lt;wsi-analyzerConfig:wsdlElement type="port"         parentElementName="HPcatalogService"                namespace="http://www.lixusnet.com/lixusnet/HPcatalog.jws"&gt;       HPcatalog    &lt;/wsi-analyzerConfig:wsdlElement&gt;    &lt;wsi-analyzerConfig:wsdlURI&gt;      http://www.lixusnet.com/lixusnet/HPcatalog.jws?wsdl    &lt;/wsi-analyzerConfig:wsdlURI&gt;  &lt;/wsi-analyzerConfig:wsdlReference&gt; &lt;/wsi-analyzerConfig:configuration&gt;</pre><P><A HREF="#rl2">Back to Article</A></P></body></html>