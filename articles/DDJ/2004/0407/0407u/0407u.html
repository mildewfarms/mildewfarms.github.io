
<html>
<head>
<title>July, 2004: The New Adventures of Verity Stob</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->

<h1>Divided by a Common Language</h1>
<p><i>Dr. Dobb's Journal</i> July, 2004</p>
<h2>"I have come to view C++ as a federation of several different languages: C,  OO C++, STL, [and] TMP,"  wrote Scott Meyers on the comp.lang.c++.moderated newsgroup. Quite so, and the species of programmer that live in the federation are quite varied, too, claims Verity Stob.</h2>



<I>Verity is the pseudonym of a programmer based in the UK. She can be contacted at VerityStobddj.com.</I>

<hr>




<h3>
Species: Old Men of the C 

</h3>
<b>Stamping ground:</b> Embedded system shops, Linux generally, and the GNOME desktop project in particular.

<p><b>Spore:</b></p>

<blockquote>
#include "header.h"<br>
<br>
#define DIMENSION 1<br>
<br>
struct intstruct{<br>
	int i1;<br>
	int i2;<br>
} is[DIMENSION];<br>
<br>
int fn(int** a1, int*** a2) {<br>
	int a3, a4;<br>
	double d;<br>
	char *m;<br>
	int ******p;<br>
	int i,j,k,l,m;<br>
<br>
	for(a3=0;*a1[a3]!=**a2;<br>
	  a3++,a2+=a3,(*a1)--)<br>
		/* nothing */;<br>

</blockquote>

<p><b>Regrets: </b>The removal of static as a keyword applied to functions.</p>

<p><b>Most enviable vice: </b>Guilt-free (type)casting.</p>

<p><b>Mating call: </b>You do as you like, but I don't trust the compiler doing stuff behind my back.</p>

<p><b>What to do if one becomes trapped in the house:</b> Bless their little cotton socks! (Cotton socks worn, of course, with sandals.) This is a harmless and usually amiable species, once very widespread, but now sadly somewhat declined. Treat it gently, and see if you can get it to take a saucer of warm gin.</p>
<h3>Species: Microsoft Soviet Era</h3>

<p><b>Stamping ground:</b> Wherever you may find five-year-old Windows projects.</p>

<p><b>Spore:</b></p>

<blockquote>
BOOL CVeryBigClass::GetResult()<br>
{<br>
	BOOL bBoolResult = (<br>
		GetScaryApiInfoEx(<br>
			m_hHandle,<br>
			m_nNumber,<br>
			m_lpszString,<br>
			NULL,<br>
			NULL,<br>
			NULL,<br>
			NULL,<br>
  // Many more lines of NULLs<br>
  // omitted for brevity<br>
			NULL)) ? TRUE : FALSE;<br>
	if (bBoolResult == TRUE)<br>
		return TRUE;<br>
	else if (bBoolResult != TRUE)<br>
		return FALSE;<br>
	else <br>
		return FALSE;<br>
}<br>

</blockquote>

<p><b>Mating call: </b>MFC always was underrated. It's very, very powerful, once you understand it properly.</p>

<p><b>Guilty secret: </b>Hopes that Microsoft will give up on 'all this .NET malarkey. I mean, it may be all right for you people, but in our line of business we really need that front-end performance. C#, pah!'</p>

<p><b>Really daring thing it does for a lark: </b>Edit the AFX_MSG_MAP block generated by the ClassWizard, in open defiance of the official comment prohibiting this.</p>

<p><b>What to do if one becomes trapped in the house: </b>They can be driven off effectively and humanely using the Stobbo patent SoftieScarer, which gives off the musty odour of MCSD Exam 70-016 (discontinued). A snip at $200.</p>
<h3>Species: Confused Putative STL User</h3>

<p><b>Stamping ground: </b>Small independent programming shops, where C++ is not the main language.</p>

<p><b>Spore:</b> </p>

<blockquote>
// Yes! Yes! Yes!<br>
// More Meg Ryan noises!!!<br>
// Got find_if to work!!!!!<br>
<br>
Chns::iterator itChan = <br>
    find_if(chns.begin(), chns.end(), <br>
    bind2nd( cmpWrap() , name));<br>
<br>
// ...<br>
<br>
// Found this string trim on the Net<br>
// that uses 'find_first_not_of'<br>
// It has a bug - throws if no trimmable<br>
// chars.<br>
//<br>
// But at least it compiles, and it<br>
// *is* very elegant. So am keeping it<br>
// here commented out, in case<br>
// some day I figure out how to<br>
// fix it<br>

</blockquote>

<p><b>Guilty secret: </b>Continues to use the Singleton pattern, despite its fall from grace in more fashionable circles.</p>

<p><b>Mating call:</b> Did I tell you about my milkshake trait? It brings all the boys to the yard.</p>

<p><b>Unconvincing attempt to mix it with hard-core C++ techies: </b>What, are there really punters who don't care a fig about the Standard? And are quite content if something just works with their compiler? Well. I'm very shocked, I can tell you. Shocked.</p>

<p><b>Another way to catch it out:</b> Yes of course I use the Boost Graph Library. I love its 3D pie charts.</p>

<p><b>Reason for notable familiarity with this species? You wouldn't perhaps belong...</b> Mind your own business.</p>
<h3>Species: The League of TMPers</h3>

<p><b>Stamping ground: </b>The specialist newsgroups.</p>

<p><b>Spore:</b> </p>

<blockquote>
// factorial<br>
template &lt;int N&gt;<br>
struct fact {<br>
  enum { res = N * fact&lt;N - 1&gt;::res };<br>
};<br>
<br>
template &lt;&gt;<br>
struct fact&lt;0&gt; {<br>
  enum { res = 0 };<br>
};<br>
// initialise j to 8!<br>
int j = fact&lt;8&gt;::res;<br>

</blockquote>

<p><b>Progenitor:</b> In 1994, Erwin Unruh turned up at a C++ standardisation meeting with a program that didn't compile, but which output a sequence of prime numbers in its compilation error messages.</p>

<p><b>Evolution: </b>Ten years later, many TMP programs now compile. There again, not that many.</p>

<p><b>Notable characteristic of Template Meta-Programming programs: </b>Computation is done at compile time not runtime.</p>

<p><b>Mating call: </b>My compile time is longer than yours.</p>

<p><b>Where do they come from, these meta-programmers? </b>Those kids, the ones who were given 'My Little C++ Compiler' for their seventh birthday, have grown up.</p>

<p>Wait a moment. Your 8 factorial evaluates to 0 instead of 40320. You want a '1' in the template specialisation. Oh, leave me alone, clever clogs.</p>

<p>You're sore because these TMPers are smarter than you. I admit it. I am envious, to envy level nine. You will recall that the envy scale is logarithmic.</p>

<p><b>Pathetic challenge: </b>If they are so clever, let's see them write a GUI dialog with this technique. A complex one with lots of tabs and maybe a slider. And make it look nice.</p>

<p><b>What to do if one becomes trapped in the house: </b>If you can possibly do so without putting yourself at risk, open the front door and see it run friskily out onto the snow&#151;black on white, black on white, black on white, and then gone.</p>
<p><b>DDJ</b></p>




</body>
</html>