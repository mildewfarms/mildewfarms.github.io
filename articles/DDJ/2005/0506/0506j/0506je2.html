
<html>
<head>
<title>June, 2005: Loadable Modules &amp;  The Linux 2.6 Kernel</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->






<pre>
# make
make -C /usr/src/linux-2.6.5-1.358 SUBDIRS=/root/sysfs_example modules
make[1]: Entering directory '/usr/src/linux-2.6.5-1.358'
  CC [M]  /root/sysfs_example/sysfs_example.o
  Building modules, stage 2.
  MODPOST
  CC      /root/sysfs_example/sysfs_example.mod.o
  LD [M]  /root/sysfs_example/sysfs_example.ko
make[1]: Leaving directory '/usr/src/linux-2.6.5-1.358'
# insmod sysfs_example.ko 
# cd /sys
# ls
block  bus  class  devices  firmware  power  sysfs_example
# cd sysfs_sample
# ls
hex  integer  string
# cat hex
0xdeadbeef
# cat integer 
123
# cat string
test
# echo 0xbabeface &gt; hex
# echo 456 &gt; integer
# echo hello &gt; string 
# cat hex
0xbabeface
# cat integer 
456
# cat string 
hello
# cd ..
# rmmod sysfs_example
# ls
block  bus  class  devices  firmware  power
</pre>

<h4><b>Example 2:</b> Interactive session in which the module sysfs_example.c is compiled, inserted, and tested. Attributes are inspected, changed, and inspected again.</h4>
<a href="0506j.html#re2">Back to Article</a>


</body>
</html>
