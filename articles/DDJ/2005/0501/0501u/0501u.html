
<html>
<head>
<title>January, 2005: The Luck of the 4</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->

<h1>The Luck of the 4</h1>
<p><i>Dr. Dobb's Journal</i> January, 2005</p>
<h2></h2>


<h3>By Dennis E. Shasha</h3>


<I>Dennis is a professor of computer science at New York University. His latest books include Dr. Ecco's Cyberpuzzles: 36 Puzzles for Hackers and Other Mathematical Detectives (W.W. Norton, 2002) and Database Tuning: Principles, Experiments, and Troubleshooting Techniques (Morgan Kaufman, 2002). He can be contacted at DrEcco@ddj.com.</I>

<hr>



<a href="0501us1.html">Solution to December puzzle</a><br>


<hr>





<p>Ecco encouraged his niece and nephew to bring over their friends whenever they wanted. Most people would have considered Camille and Maia to be very unusual teenagers. Naturally, they fit right into the Ecco household. Good-looking girls with a fine sense of music, they accompanied Liane's singing and guitar strumming using Tyler's drums.</p>

<p>"Our England-born Dad heard this game from a school teacher back in the day," Camille told us after the singing had stopped.</p>

<p>"Now it's going to give us a hint about a secret phone number. The game is called 'four 4s.' The idea is that you want to set up an arithmetic expression to give you as many consecutive integers as possible using the digit 4 alone, at most four times. For example, you can get 1 by dividing 4 by itself and 2 by taking the square root of 4.</p>

<p>"The expression may include the following operators: addition, subtraction, multiplication, division, square root, exponentiation (for example, 4<sup>4</sup>), concatenation (44, which uses 4 twice), decimal 0.4, decimal repeat 0.4R=0.4444444444...= 4/9 (this uses 4 once), factorial (4!=24, for example), and parentheses (to distinguish (4+4)/4 from 4+(4/4))."</p>

<p><i>Warm-Up:</i> It is possible to find expressions for the numbers 1 through 10 under these constraints. If you try really hard, you can use three 4s or fewer for every number. Try it before you read on.</p>

<p><i>Solution to Warm-Up:</i></p>

<blockquote>
1=4/4<br>
2=sqrt(4)<br>
3 =sqrt(4/.4R) = sqrt(4/(4/9)) = sqrt(9)<br>
4=4<br>
5=sqrt(4)/0.4<br>
6=4 + sqrt(4)<br>
7=4/.4R - sqrt(4)<br>
8=4*sqrt(4)<br>
9=4/.4R<br>
10=4/.4<br>

</blockquote>

<p>"We have had trouble going much beyond this. We believe that the first numbers that can't be expressed in terms of four or fewer 4s (we call those "gaps") give us a good hint as to the 10-digit U.S. secret phone number. Are there any gaps below 40?"</p>

<p>"I don't think so," said Tyler proceeding to show encodings for those numbers.</p>

<p>"Nice use of factorial," Maia said smiling.</p>

<p>Tyler found expressions for 11 to 40 using at most four 4s per integer. All but one of the numbers below 30 could be constructed using three 4s or fewer. Can you do as well or better?</p>

<p>The girls left, quite satisfied with their meeting, but Liane was quite annoyed.</p>

<p>"Tyler, we should have been able to help them more. Here are some open problems:</p>

<p>"Open 1. How far can we go under these rules?</p>

<p>"Open 2. How many of the integers between 1 to 1000 can be handled with just four 4s? What are the first gap numbers? Do any of those gaps make sense as phone numbers?</p>

<p>"Open 3. If we were allowed five 4s, what is the longest sequence of consecutive integers we could produce? (It doesn't have to start at 1.)"</p>

<p>Tyler smiled  and said, "I've worked on the four 4s question up to 100. Beyond that I don't know."</p>

<p>I had to leave before seeing his answer. It's now open season on the open questions.</p>


<p><b>DDJ</b></p>




</body>
</html>