
<html>
<head>
<title>January, 2005: Exceptional C++ Style </title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->

<h1>Exceptional C++ Style </h1>
<p><i>Dr. Dobb's Journal</i> January, 2005</p>
<h2></h2>


<h3>By Matthew Wilson</h3>


<I>Matthew is the creator of the STLSoft libraries, and author of Imperfect C++ (Addison-Wesley, 2004). Matthew can be contacted at matthew@synesis.com.au.</I>

<hr>


<p>Exceptional C++ Style: 40 New Engineering Puzzles, Programming Problems, and Solutions<br>
<i>Herb Sutter</i><br>
Addison-Wesley Professional, 2004<br>
352 pp., $39.99<br>
ISBN 0201760428 <br></p>


<p>E<i>xceptional C++ Style </i>is the third book from Herb Sutter, and the third in the <i>Exceptional C++</i> series, following the eponymous <i>Exceptional C++ </i>and its sequel <i>More Exceptional C++</i>. </p>

<p>I should say upfront that<i> Exceptional C++</i> is my favorite C++ book. When the book came out, it was like someone switched on a light on post-C++-98 C++ practice. It had the clarity of writing of Scott Meyers, (almost) the efficiency of Bjarne Stroustrup, and accessibility to difficult issues previously unseen. Although I've read a lot of highly recommendable books since then, none has matched that impact.</p>

<p><i>Exceptional C++ Style: 40 New Engineering Puzzles, Programming Problems, and Solutions </i>starts off well with a look at (ab)uses of <i>std::vector</i>. As usual, Sutter manages to tease out abuses that you'd probably never dream of, but that are instructive nonetheless. If you're like me, your craft is moderated and governed by experience, and lessons learned quickly moved out of your consciousness into your subconscious instincts and style. I think one of the values of the<i> Exceptional C++</i> books is that they bring such lessons to the fore. Either Sutter gets to see a lot of bad code, or he's able to put himself into mindsets that practicing programmers work hard to leave behind. Whichever, it's a great foundation for his educational writings.</p>

<p>Items 2 and 3 concern themselves with <i>sprintf(), snprintf(), </i>string streams, and Boost's <i>lexical_cast</i> as measures for converting from different types to strings. The material is largely up to scruff, but I had a problem with the broad-brush statements that <i>sprintf()</i> is unsafe/insecure, rather than identifying the actual causes of its susceptibility to overruns, such as being asked to translate types that are themselves of variable length. After all, there's absolutely nothing unsafe about converting any integral type to a string of 21 or more characters by <i>sprintf().</i> I also thought it a bit too kind of Sutter not to object more strenuously to the poor levels of performance he'd ascertained for some of the more complex solutions. That's the kind of thing that gives C++ a bad name for being overly complex and inefficient.</p>

<p>Item 4 discussed member function adaptors, and gave me another justification for my antipathy to default parameters. Item 6 covers a common misapprehension with respect to pointers and iterators and the evil old<i> operator </i>&amp;. It also offers a nice guideline to the effect that if your type has a <i>swap()</i> method, then you should overload <i>std::swap()</i> for it. This book is full of these golden nuggets. </p>

<p>Item 7 discusses the ramifications of function templates, specializations, and overloading. This is essential template survival guide stuff. Item 8's coverage of techniques for befriending templates leaves you yearning for better compilers.</p>

<p>Items 9 and 10 are about <i>export</i>. Here I had some real conflicts. The explanation given of <i>export</i> is nothing short of wonderful. However, Sutter sets you up to form your own conclusion that <i>export</i> is the most colossal white elephant in programming history, without actually making the point himself. I think he is wrong to leave you dangling so. Whatever the imagined virtues at the time of standardization (1995-98), to have something so unbelievably complex (as Sutter says, it took the finest template/compiler minds longer to make <i>export</i> work than to implement Java) in the language standard, which only one compiler currently provides, is nothing but perfect ammunition for C++'s detractors.</p>

<p>Being about exceptions, Items 11-13 are classic<i> Exceptional C++</i> and truly exceptional. C++ writing doesn't get any better than this! Item 14 covers virtual inheritance and construction order and, although it curiously fails to discuss diamond inheritance, was a good refresher; I found it odd to be forced to think about virtual inheritance, having not used it in years. </p>

<p>Item 16 is brilliant. While it didn't actually teach me anything per se, it enhanced and clarified both my experiential understanding, and cleared my terminology. Above all, this is what I value most in Sutter's writings. The same goes for Item 17. Item 18, which describes the NonVirtual Interface pattern, is also good, although it missed one advantage of NVI&#151;how it clears up the default argument confusion you tend to get into with virtual methods.</p>

<p>The remainder of the book covers a variety of subjects, including memory, optimization, odd little puzzles, and style issues. It also takes a few swipes at <i>std::basic_string</i>, which is fair play in my book! There are a few dodgy ones, but the bulk of them are enlightening, entertaining, and educational.</p>

<p>Is<i> Exceptional C++ Style</i> as good as <i>Exceptional C++</i>? Maybe not. But it is a very good book, and you'll do yourself a disservice if you don't rush out and get a copy straight away. </p>
<p><b></b></p>
<p><b>DDJ</b></p>




</body>
</html>