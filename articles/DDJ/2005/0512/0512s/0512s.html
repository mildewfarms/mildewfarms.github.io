
<html>
<head>
<title>December, 2005: The Box Chip Game</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->

<h1>The Box Chip Game</h1>
<p><i>Dr. Dobb's Journal</i> December, 2005</p>
<h2></h2>


<h3>By Dennis E. Shasha</h3>


<I>Dennis, a professor of computer science at New York University, is the author of four puzzle books: </I>The Puzzling Adventures of Dr. Ecco<I> (Dover, 1998); </I>Codes, Puzzles, and Conspiracy<I> (Freeman 1992, reprinted by Dover in 2004 as </I>Dr. Ecco: Mathematical Detective)<I>; and recently </I>Dr. Ecco's Cyberpuzzles<I> (W.W. Norton, 2002); </I>and Puzzling Adventures<I> (W.W. Norton, 2005). With Philippe Bonnet, he has written </I>Database Tuning: Principles, Experiments, and Troubleshooting Techniques<I> (2002, Morgan Kaufmann). With Cathy Lazere, he wrote </I>Out of Their Minds: The Lives and Discoveries of 15 Great Computer Scientists<I> (1995, Copernicus/Springer). He can be contacted at DrEcco@ddj.com.</I>
<hr>



<a href="0512ss1.html">Dr. Ecco Solution</a><br>


<hr>



Dr. Ecco seemed to be in a mood to muse on a cool fall day in his McDougal Street apartment.	 "Sometimes a problem comes along for which a seemingly insignificant twist completely changes its character," he said. "This holds particularly in games of chance. You remember our friend Jimmy Casino, don't you? Well, he invented a new game. Want to hear it?"

<p>"I'd be delighted," I said thinking fondly of the baby-faced huckster who had visited us a few months earlier.</p>

<p>Ecco began: "You have some even number <i>n</i> of chips, each having a different color. You put one in each box. Your adversary rearranges the boxes behind a curtain. You then rearrange them further once they're on your side of the curtain. (At the end of the game, you will be able to verify that there is a chip of each color in the boxes, so you can be sure that the adversary does no more than rearrange the boxes.) The net effect is that you can assume the rearrangement is entirely random.</p>

<p>"For each color, you guess <i>n</i>/2 boxes where that color might be. You make all guesses about all colors before any box is opened. If you are correct about every color, you win. Otherwise, you lose. It might seem that your chances of winning are (1/2)<sup>n</sup>, but you can do much better.</p>

<p>"Warm-Up: Suppose there are two chips&#151;blue and red&#151;and two boxes. So each guess is about just one box. Which guesses can you make so your chances of being right in both guesses is 1/2?"</p>

<p>"That one is easy," I said. "Guess red in the left box and blue in the right box. You'll either be both correct or both wrong."</p>

<p>"Right," said Ecco. "Now let's say there are four chips (<i>n</i>=4) whose colors are black, white, red, and green. You are allowed to guess two boxes for each chip. Number the boxes 1, 2, 3, 4. To start with, your guesses have to be a simple list of box numbers for each color. For example:</p>

<blockquote>
Black guess:	1, 2<br>
White guess:	2, 4<br>
Red guess:	1, 3<br>
Green guess:	3, 4<br>

</blockquote>

<ol>
  <li>"For four chips and two guesses per color, can you figure out a way to win at least 1/6 of the time assuming all rearrangements are equally likely? (The example just given might not do this.)</li>
 <li>"What if there are six chips and three guesses per color?</li>
  <li>"How does this probability generalize for <i>n</i> chips (<i>n</i> even) and <i>n</i>/2 guesses per color?</li>
</ol>



<p>"Now here comes the small twist. Under the old rules, for each color, you provide <i>n</i>/2 boxes as guesses. Under the new rules, for each color, you provide an initial guess and a procedure for determining each next guess based on the actual color found by the previous guess.</p>

<p>"Example for black in the case of four colors:</p>

<blockquote>
Start with box 1; <br>
case result of first step is<br>
   Black, then win<br>
   Red, then try 2 <br>
   White then try 3 <br>
   Green then 4<br>

</blockquote>

<p>"For convenience, we will abbreviate this as follows: black guess: 1; black -&gt; win, red -&gt; 2, white -&gt; 3, green -&gt; 4</p>

<p>"All initial guesses and procedures are provided before any checking occurs and the procedures may not share information. If every color is found in <i>n</i>/2 or fewer guesses, you win. Make sense?"</p>

<p>"I think I understand," I said. "We might conceptualize the situation as follows: Each color is represented by an agent who follows a procedure like the one above, possibly different procedures for different agents. A given agent enters the room with the boxes, looks inside the boxes as dictated by his procedure but doesn't otherwise disturb the boxes, then leaves the scene without being able to communicate with any other agents."</p>

<p>"Exactly," said Ecco. "Continuing with your scenario: A judge determines whether that 'procedural agent' has won or not. If all agents win, then you (the person betting) win. Otherwise, the house wins. It may seem surprising but you can do a lot better under these new rules.</p>



<ol>
  <li>"How well can you do in the case of four chips and two guesses under the procedural agent assumption? (Hint: You can win over 40 percent of the time.)</li>
  <li>"How well can you do if you have six chips and three guesses?"</li>
</ol>






<p><b></b></p>
<p><b></b></p>
<p><b>DDJ</b></p>




</body>
</html>