
<html>
<head>
<title>March, 2005: Grab Bag</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal-->

<h1>Grab Bag</h1>
<p><i>Dr. Dobb's Journal</i> March, 2005</p>
<h2></h2>


<h3>By Dennis E. Shasha</h3>


<I>Dennis is a professor of computer science at the Courant Institute, New York University. His latest books include Dr. Ecco's Cyberpuzzles: 36 Puzzles for Hackers and Other Mathematical Detectives (W.W. Norton, 2002) and Database Tuning: Principles, Experiments, and Troubleshooting Techniques (Morgan Kaufman, 2002). He can be contacted at DrEcco@ddj.com.</I>

<hr>



<a href="0503us1.html">Last Month's Dr. Ecco  Solution</a><br>


<hr>





<p>Since I have a key to Dr. Ecco's apartment, I walked in one day but found it empty. Ecco had been asked by Baskerhound to solve a seemingly difficult two-person game as part of a code-breaking investigation. Ecco had taken his niece and nephew to a casino that was somehow involved. I was therefore left with this letter from Liane.</p>
<h3>Dear Professor Scarlet,</h3>

<p>Grab Bag is a simple game to play but difficult to win. The first player is given an empty "seed" collection <i>Aseed</i> and a "grab bag" <i>Agrab</i>. The second player is given an empty seed collection <i>Bseed</i> and a grab bag <i>Bgrab</i>. The players agree on a positive number <i>n.</i> Here is the general idea: The players alternate moves, where a move consists of inserting a whole number to one's own seed collection (the same number can be inserted several times). When a player does so, he or she puts into his/her grab bag any number <i>k</i> between 1 and <i>n</i> resulting from adding the just inserted number to an element of the opponent's seed collection, provided <i>k</i> hasn't been previously "grabbed" (that is, put into a grab bag) by either player. When all the numbers between 1 and <i>n</i> are grabbed, the game is over and the player with the most numbers in his/her grab bag wins.</p>

<p>The first move consists of inserting a number between 0 and <i>n</i>. Subsequently, every move consists of inserting a non-negative number less than or equal to <i>n</i> to the player's seed bag, and results in putting at least one ungrabbed number between 1 and <i>n</i> in his/her grab bag, if it is possible for the player to do so. If not possible, but there are ungrabbed numbers left, then the player may use a seed number between -<i>n</i> and -1 to grab a number. You can prove that it is always possible to grab a number if there are any ungrabbed ones left; the player is obligated to grab on every move.</p>



<p><i>Warm-up:</i> Who wins when <i>n</i>=3?</p>



<p><i>Solution Idea:</i></p>

<ol>
  <li><b>a.	</b>In <i>A</i>'s first move, <i>A</i> cannot grab anything but must choose one of 1, 2, or 3 as a seed.</li>
  <li><b>b.</b>	 <i>B</i> can respond by grabbing one. </li>
  <li><b>c.</b>	 <i>A</i> can then grab at most one other number, because <i>B</i> has only one seed.</li>
  <li><b>d.</b>	 <i>B</i> can then grab the last.</li>
  </ol>

<p>But life is not always so straightforward. For example, <i>A</i> can force a draw when <i>n</i>=4, but only if he/she prevents <i>B</i> from grabbing two numbers in <i>B</i>'s second move.</p>

<p>Now here are the questions, Professor:</p>



<ol>
  <li>Can either player force a win when <i>n</i>=5?</li>
  <li>Is there a winning strategy for either player, depending on the value of <i>n</i>?</li>
  <li>Do any of these answers change if the players could use negative seed numbers on any turn, including when it is possible to grab a number with a non-negative seed? For this scenario, we'll add a new rule: If a player blocks the game (that is, makes a move that prevents the opponent from grabbing a number when there are ungrabbed numbers left), then the blocking player loses."</li>
</ol>





<p><b></b></p>
<p><b>DDJ</b></p>




</body>
</html>