<html>
<META NAME="year" CONTENT="1998">
<head>
<title>Dr. Dobb's Journal February 1998: SWIG and Automated C/C++ Scripting Extensions</title>
</head>

<body bgcolor="FFFFFF">
<!--Copyright &#169; Dr. Dobb's Journal-->
<h2>SWIG and Automated C/C++ Scripting Extensions</h2>
<h3><i>By David Beazley </i></h3>
<p><i>Dr. Dobb's Journal</i> February 1998 </p>

<pre>// Make 'double *vector' accept a list of values
%typemap(python,in) double *vector {
    /* Convert a Python List into an array of values */
    int i,sz;
    sz = PyList_Size($source);
    $target = (double *) malloc(sz*sizeof(double));
    for (i = 0; i &lt; sz; i++) {
         $target[i] = (double) 
            PyFloat_AsDouble(PyList_GetItem($source,i));
    }
}
%typemap(python,freearg) double *vector {
    free($source);  /* clean up to avoid memory leaks */
}
void foo(double *vector);
</pre>

<H4>Example 10: Sample SWIG typemap specification. </H4>


<p><a href="9802b.htm#re10">Back to Article</A></p>

<HR><I>Copyright &copy; 1998, Dr. Dobb's Journal</I><BR>

</BODY>
</html>
