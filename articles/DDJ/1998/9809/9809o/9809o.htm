<html><head><title>Sep98: Dr. Ecco's Omniheurist Corner</title></head><body bgcolor="FFFFFF"><!--Copyright &#169; Dr. Dobb's Journal--><h1>Getting Even</h1><p><i>Dr. Dobb's Journal</i> September 1998</p><h3>By Dennis E. Shasha</h3><I>Dennis, a professor of computer science at New York University, is the author of The Puzzling Adventures of Dr. Ecco (Dover, 1998), Codes, Puzzles, and Conspiracy (W.H. Freeman &amp; Co., 1992), Database Tuning: A Principled Approach (Prentice Hall, 1992), and (coauthored with Cathy Lazere) Out of Their Minds: The Lives and Discoveries of 15 Great Computer Scientists (Springer Verlag, 1997). He can be contacted at DrEcco@ddj.com.</I><hr><p>After polite but efficient introductions, Dexter Coll began his explanation. "Wall Street is about revenue streams, Dr. Ecco. Options help us generate new kinds of streams. Mathematics, in turn, helps us ensure that those option streams yield us positive net income at low risk while providing a service for our customers." </p><p>Coll, a mathematical inventor of great renown for his seminal work in options, seemed out of place in Ecco's chaotic apartment. Oak paneling would have matched his Saville Row suit much better.</p><p>"The option we want to sell now is called a 'Getting Even' option," Coll went on. "I'm not at liberty to tell you the real context, so I will give you the problem as a story with mathematical features that are isomorphic to the problem I must solve:</p><p>"You have a friend, Fred, who is in a dangerous situation. He loves to gamble and has made the mistake of gambling with some very unsavory characters called, well, the Sharps. He wants to stop, but he doesn't want to lose a lot of money. He's afraid he'll die if he stops when the Sharps owe him a lot of money. The trouble is, he doesn't remember how much money he's winning or losing, and even more surprisingly, whether he's winning or losing. He only know he's either up or down something between $100,000 and $400,000. The Sharps, as evil as they are, are very honest about accounting and will tell him whether his outstanding credit is within $5000 of zero after every bet. If he's either winning more than $5000 or losing more than $5000, all they will tell him is that he's out of bounds. We don't like the sound of that phrase, 'out of bounds.'"</p><p>He continued, "The problem is that we don't know how to get back in-bounds. The Sharps won't let him just pay up now or, in case he's winning, just forgive the debt. They insist on being correct accountants."</p><p>"What game do they play?" Ecco asked.</p><p>"They flip a fair coin for even money," said Coll.</p><p>"At what stakes," Ecco's niece Liane asked, forever interested in gambling.</p><p>"Any integer multiple of $1000," Dexter replied.</p><p>"How can I help?" Ecco asked.</p><p>"I want you to find Fred a strategy that gets him in-bounds with as few flips as possible," Dexter said. "You can assume that the coin is fair, and that Fred has enough money to make any sized bet. Also, from now on, he will pay attention to whether he wins or loses a given bet, so he will know how much he is winning or losing relative to his current situation. Finally, he can ask the Sharps whether or not he's in-bounds after each bet. They will tell him yes or no. They always tell the truth." </p><p>"So, you want the shortest expected time in a statistical sense?" Ecco asked.</p><p>"Yes, that's exactly right," Coll said.</p><p>"What do you make of it Liane?" Ecco asked.</p><p>"Can't Fred run out of money if he bets enough?" she replied with a question.</p><p>"For now, don't worry about that. We have, I mean he has, tremendous resources," Coll said with a fleeting smile.</p><p>Everyone fell silent.</p><p>Liane was flipping coins and keeping count.</p><p>"Okay, well I can solve an easier problem," Liane said. "If we know that Fred is ahead by, say, $130,000, then we have him bet that much. If he wins, then have him bet $260,000. If he wins again, then $520,000 and so on. The first time he loses, he'll be in-bounds. On the average, he'll be in-bounds after two flips, according to my experiments." </p><p>"Right," Coll said, "but in this case, you don't know where he starts or even whether he's winning or losing." </p><p>"Yes, I know," Liane said with a sigh. Straightening up, she said, "Oh, there is one more thing though: Suppose all I know is that Fred is ahead by something between $125,000 and $135,000. Fred can still use my strategy for $130,000. The first time Fred loses, he'll be in-bounds." </p><p>Ecco looked up, smiled, and nodded, but didn't say anything. Soon, though, he was working out some calculations. </p><p>"With the values you gave me and Liane's idea, Dr. Coll," he said, "I can design a strategy for Fred that will get him to within-bounds (between positive and negative $5000, inclusive, of even) after only about 55 flips on the average. About 1 in a 1000 times, it will take him more than 140 flips." </p><p><i>Reader: Can you achieve an expected bound that is as good or better? If so, how? Also, how long does it take you, on the average, to get in-bounds if the bounds are between positive and negative $1000, inclusive. Ecco can do it in under 260 flips on the average.</i></p><p></p><p>Dr. Coll listened carefully, asked a few questions, then stood up and put out his hand. "We have not yet discussed your fee, Dr. Ecco, but you will not have to worry about finances for several years," Dr. Coll said as he and Ecco shook hands. Then he turned to Liane.</p><p>"Liane, your question about whether or not Fred could go broke was a good one," Coll said. "His total capital is $10 million. In the case where in-bounds means plus or minus $5000, how likely is it that Fred will go beyond his capital at least once in a run? What if his capital were $1 billion? We need to know the answers to both of those questions." </p><p>Liane shrugged her shoulders. "I don't know. I'll go program some experiments in K, using my uncle's suggestions." She found that the numbers were remarkably high.</p><p><i>Reader: How likely is it that Fred will go broke with a capital of $10 million before getting in-bounds at the $5000 level? How about $1 billion? I will eventually post Liane's simulations at http://www.kx.com/.</i></p><h3>Last Month's Solution</h3><p>The following arrangement has a happiness value of 175.</p><p>petra kris olivia felicia</p><p>mike alan</p><p>isaac larry dave</p><p>nick bob jack carol</p><p>hillary emily gwenyth</p><p>The following has a happiness value of 90 after subtracting four from everyone's value.</p><p>bob petra olivia felicia</p><p>larry kris</p><p>isaac alan dave</p><p>nick mike jack carol</p><p>hillary emily gwenyth</p><h3>Reader Notes</h3><p>As of this writing, many readers were able to prove two facts about the Beautiful Liars problem (June 1998): </p><p></p><p>1.	There have to be at least eight liars. This follows because there are the following nonoverlapping pairs:</p><p>		gwenyth alan</p><p>		dave mike</p><p>		sam jack</p><p>		ulm larry</p><p>		olivia kris</p><p>		tom hillary</p><p>		emily isaac</p><p>		petra rivera</p><p>	Since either the accuser or accused must be lying in a pair, this shows that there must be at least eight.</p><p>2. If there are eight liars, they can be only:</p><p>	Dave Gwenyth Hillary Isaac Jack Larry 	Olivia Rivera, or</p><p>	Dave Gwenyth Hillary Isaac Larry 		Olivia Petra Sam, or</p><p>	Dave Gwenyth Hillary Isaac Larry 		Olivia Rivera Sam.</p><p>	Approaches for this ranged from hand-checking to genetic algorithms to exhaustive search on colored graphs.</p><p></p><p>Here are the solving readers' names in the order that I received the solutions (I hope I left nobody out): </p><p>Cary Bakker</p><p>David Weiblen</p><p>Brian Hetrik</p><p>Karen Horn</p><p>Wesley T. Perkins</p><p>Michael Van Vertloo</p><p>Kent Donaldson</p><p>Warren Dougherty </p><p>Ted Alper </p><p>Michael G. McCullough</p><p>Mathew Davies </p><p>Chris Frey </p><p>Christian Tanguy</p><p>Charles Taylor</p><p>Robert H. Morrison</p><p>Thorston Koch</p><p>Ryan Fischbach</p><p>Lee Chee Meng </p><p>Elijah Pau </p><p>Michael Brackx </p><p>Iulian Kakulidis </p><p>Nicholas Sakurai </p><p><b>DDJ</b></p><HR><I>Copyright &copy; 1998, Dr. Dobb's Journal</I><BR>
</body></html>