<html>
<head>
<title>Aug00: Triangle  Intersection Tests</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; Dr. Dobb's Journal--> 
<pre>

    IntersectRayTri(o,d,p<sub>0</sub>,p<sub>1</sub>,p<sub>2</sub>) 
    returns ({REJECT, INTERSECT},u,v,t);
 1: e1=p<sub>1</sub>-p<sub>0</sub>
 2: e2=p<sub>2</sub>-p<sub>0</sub>
 3: r=d &times; e<sub>2</sub> 
 4: a=e<sub>1</sub> <img src="dot12.gif" width="6" height="9" align="baseline"> r
 5: s=o-p<sub>0</sub>
 6: f=1/a 
 7: q=s &times; e<sub>1</sub> 
 8: if (a&gt;<img src="e12.gif" width="7" height="9">) 
 9: {
10:    u=s <img src="dot12.gif" width="6" height="9" align="baseline"> r
11:    if (u&lt;0.0 or u&gt;a) return (REJECT,0,0,0); 
12:    v= d <img src="dot12.gif" width="6" height="9" align="baseline"> q 
13:    if (v&lt;0.0 or u+v&gt;a) return (REJECT,0,0,0);
14: } 
15: else if (a &lt; -<img src="e12.gif" width="7" height="9">) 
16: { 
17:    u= s <img src="dot12.gif" width="6" height="9" align="baseline"> r
18:    if (u&gt;0.0 or u&lt;a) return (REJECT,0,0,0); 
19:    v= d <img src="dot12.gif" width="6" height="9" align="baseline"> q
20:    if (v&gt;0.0 or u+v&lt;a) return (REJECT,0,0,0);
21: } 
22: else return (REJECT,0,0,0);
23: t=<i>&#131;</i> *(e<sub>2</sub> <img src="dot12.gif" width="6" height="9" align="baseline"> q) 
24: u=u * &#131;; 
25: v=v * &#131;; 
26: return (INTERSECT,u,v,t);

</pre>
<h4>Example 5: Checking front- and back-facing triangles.</h4>


<a href="0008b.htm#re5">Back to Article</a>


</body>
</html>
