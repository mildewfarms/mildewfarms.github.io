<html><head><title>Nov00: Exception Handling in C Without C++</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><pre>#define DIVIDE_BY_ZERO -3int SomeFunction(int a, int b){  if (b == 0)   // can't divide by 0    XRaise(DIVIDE_BY_ZERO);  return a / b;}void main(void){  XRecord XData;  XLinkExceptionRecord(&XData);  switch (setjmp(XData.Context))  {    case 0: // this is the code block      {        int Result = SomeFunction(7, 0);        // continue working with Result      }      break;    case DIVIDE_BY_ZERO:      printf("a division by zero occurred\n");      break;    default:      printf("some other error occurred\n");      break;    case XFINALLY:      printf("cleaning up\n");  }  XUnLinkExceptionRecord(&XData);}</pre><h4>Example 2: setjmp()/longjmp()-based error handling with exception records allocated on the stack.</h4><a href="0011i.htm#re2">Back to Article</a></body></html>