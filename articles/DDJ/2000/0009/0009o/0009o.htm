<html><head><title>Sep00: Dr. Ecco's Omniheurist Corner</title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><h1>Chimps</h1><p><i>Dr. Dobb's Journal</i> September 2000</p><h3>By Dennis E. Shasha</h3><I>Dennis, a professor of computer science at New York University, is the author of The Puzzling Adventures of Dr. Ecco (Dover, 1998); Codes, Puzzles, and Conspiracy (W.H. Freeman &amp; Co., 1992); Database Tuning: A Principled Approach (Prentice Hall, 1992); (coauthored with Jason Wang and Bruce Shapiro) Pattern Discovery in Biomolecular Data: Tools, Techniques, and Applications  Oxford University Press, 1999); and (coauthored with Cathy Lazere) Out of Their Minds: The Lives and Discoveries of 15 Great Computer Scientists (Springer Verlag, 1998). He can be contacted at DrEcco@ddj.com.</I><hr><p>Ana Ban said, "They will die if you don't help them, Dr. Ecco." The great naturalist stood there, jungle fatigues and all. Twelve-year old Liane was in awe. The woman exuded grace and a sense of purpose.</p><p>"I've been working with these chimps for the last eight years," she said. "They are unique specimens. But I'm in Africa in the first decade of the millennium and some greedy officer wants to replace the current corrupt dictator with his own cronies. Last time this happened, all the animals in the zoo were killed in the cross-fire. This time, I'm taking no chances. I've got a huge container on a cargo ship that the shipping company is willing to drill with air holes so the ship can take the chimps to relative safety in Madagascar. The container will house 27 cages in a 3&times;3&times;3 cube. We'll put one chimp in each cage. Some of the chimps love each other and quite a few hate one another. I'm not sure how to place them to avoid battles and to keep the loved ones together. Can you help me?"</p><DDJADVERTISEMENT INLINE><p>"Yes," Liane said eagerly. "If it's possible, we'll do it. Tell us which chimps love which ones and which ones might fight which ones."</p><p>"Very well," Dr. Ban replied. "Please understand that we know our chimps very well and give them human names that match their temperaments. Some of the names are familiar from history and others are the names of our colleagues some of whose personality traits we see in the chimps. Their names are: Annie, Aristotle, Augustine, Caesar, Carlie, Cecily, Chimpie, Coco, Cordelia, Darwin, Didi, Emily, Goodall, Humboldt, Jonathan, Julia, Katie, Lea, Marie, Miles, Millie, Napoleon, Natasha, Sarah, Theo, Victoria, and Zoe.</p><p>"Here is the description of the loves and hates of our chimps. All such emotions are reciprocal, so if chimp A loves chimp B, then chimp B will love A. Similarly, for hates. (For this reason I'll specify only half of the relationship.) If a chimp loves another one, it should be next to that one on the same level of the container and they should share a wall. They will want to touch each other if the water turns rough. If a chimp hates and might fight with another one, it should not be next to that other one vertically or horizontally. Not even diagonally at a bottom or top corner. Their arms are long and their hands strong."</p><p>"So, the chimp in the center row of the middle level had better have no enemies," Liane pointed out.</p><p>"That's right," said Ban, looking at the young girl. "You may well help me, as you claim."</p><p>"Aristotle loves Lea.</p><p>Chimpie loves Marie and Cecily.</p><p>Darwin loves Annie and Millie.</p><p>Humboldt loves Zoe.</p><p>Goodall loves Jonathan.</p><p>Napoleon loves Emily.</p><p>Caesar loves Julia and Cordelia.</p><p>Theo loves Zoe.</p><p>Augustine loves Didi and Katie.</p><p>Coco loves Theo.</p><p>Didi loves Augustine.</p><p>Carlie loves Jonathan. </p><p>"Aristotle might fight with Chimpie, Augustine, Annie, and Marie.</p><p>Chimpie might fight with Caesar, Cordelia, Katie, and Carlie.</p><p>Darwin might fight with Humboldt, Napoleon, Sarah, Victoria, Miles, and Emily.</p><p>Humboldt might fight with Natasha, Didi, Katie, Annie, and Marie.</p><p>Goodall might fight with Zoe, Sarah, Didi, Carlie, and Lea.</p><p>Napoleon might fight with Caesar, Millie, Natasha, Augustine, Julia, Didi, Lea, and Marie.</p><p>Caesar might fight with Natasha, Sarah, Lea, Marie, and Emily.</p><p>Zoe might fight with Millie, Natasha, Augustine, Didi, and Victoria.</p><p>Millie might fight with Cordelia, Didi, Carlie, Miles, and Lea.</p><p>Natasha might fight with Cordelia, Coco, Julia, and Emily.</p><p>Theo might fight with Augustine, Didi, Katie, Cecily, Lea, and Marie.</p><p>Augustine might fight with Cordelia, Coco, Sarah, and Emily.</p><p>Cordelia might fight with Coco, Julia, Katie, Miles, and Lea.</p><p>Coco might fight with Sarah, Didi, Katie, Carlie, Annie, and Lea.</p><p>Julia might fight with Sarah, Victoria, Carlie, Miles, Annie, and Emily.</p><p>Sarah might fight with Didi and Victoria.</p><p>Didi might fight with Victoria, Katie, and Emily.</p><p>Victoria might fight with Katie, Carlie, and Annie.</p><p>Katie might fight with Carlie, Miles, Cecily, Annie, and Emily.</p><p>Carlie might fight with Marie and Emily.</p><p>Miles might fight with Annie.</p><p>Cecily might fight with Annie and Emily.</p><p>Annie might fight with Marie and Emily.</p><p>Lea might fight with Marie and Emily.</p><p>Marie might fight with Emily."</p><p><i>Reader: Can you find a placement of the chimps in a 3</i>&times;<i>3</i>&times;<i>3 cage container in which each chimp will share a wall with all the chimps it loves (a wall is better than a floor or ceiling) but will not share even a corner with a chimp it hates? Please provide your answers as three 3</i>&times;<i>3 matrices, each one indicating a floor.</i></p><p>Liane worked out a solution in a remarkably short 30 minutes. Dr. Ban took some time and then verified it against her list. </p><p>"There is one more thing," she said with a sigh. "Chimps that hate one another shouldn't be in the same column of the container. The feces will drive the bottom chimps crazy even if they can't reach one another."</p><p>Liane managed to solve the problem even with this constraint.</p><p><i>Reader: Can you find a placement of the chimps in a 3</i>&times;<i>3</i>&times;<i>3 cage container in which each chimp will share a wall with all the chimps it loves (a wall is better than a floor or ceiling) but will share neither wall nor corner nor column with a chimp it hates?</i></p><p>Dr. Ban thanked us all, but most especially Liane, and then left.</p><p>"Well done, Liane," Ecco said to his beloved niece. "Could you have solved it if, in addition to the latest rules of Dr. Ban, no two chimps who hate each other could be at the same level? If you can't, can you minimize the number of such situations?"</p><p>"I have a movie to do, uncle," Liane said as she rushed out the door with her digital camera.</p><p>I never heard the answer.</p><p><i>Reader: Would you like to take a crack at this?</i></p><h3>Last Month's Solution</h3><p>One way the prisoner could have escaped is shown in <A NAME="rt1"><A HREF="0009ot1.htm">Table 1</A>. Also see <A NAME="rf1"><A HREF="0009of1.htm">Figure 1</A>. </p><h3>Reader Notes</h3><p>In addition to taking a few liberties with the biology in the "Micro virus" problem (<i>DDJ</i>, June 2000), I also neglected to tell you about some special cases. The <i>r</i>3 restriction enzyme will not cut every pair of Ts. In particular: If <i>r</i>3 sees TTT, it will cut this as T TT. If <i>r</i>3 sees TTTT, it will cut this as T TT T. If <i>r</i>3 sees TTTTT, it will cut this as T TT TT.</p><p>Further, there is the potential for an interaction between the enzyme for CT and the one for TT, so you should know that the three enzymes will cut: </p><blockquote><p>CTT into C, T, T;</p><p>CTTT into C, T, TT;</p><p>CTTTT into C, T, T, TT;</p><p>CTTCT into C, T, TC, T; and</p><p>CTTTCT into C, T, TT, CT.</p></blockquote><p>With some subset of these hints, the following clever readers found one or more solutions: Onno Waalewijn, David Cox, Patrick R. Schonfeld, Malcolm Rowe, and David Curran. Patrick had a simple explanation for his basic method: "For the short sequence, I simply generated all valid permutations: all permutations in which T follows C, G follows A, and T follows T. Then for each valid permutation, I calculated the <i>r</i>1,<i>r</i>2,<i>r</i>3,<i>r</i>1/ <i>r</i>2,<i>r</i>1/<i>r</i>3,<i>r</i>2/<i>r</i>3 cut sizes, and discarded all permutations whose cut sizes did not match the correct ones."</p><p>His method for the long sequence started with <i>r</i>2 cuts. Malcolm and Patrick both found four solutions for the second problem, which they believe is all there are.</p><p><b>DDJ</b></p></body></html>