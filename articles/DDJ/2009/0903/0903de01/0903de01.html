<html><head><title>Internet Explorer 8 and Compatibility Views</title><link rel="Stylesheet" rev="Stylesheet" href="../../../../forms/Layout.css" type="text/css"><link rel="Stylesheet" rev="Stylesheet" href="../../../../forms/FontStyles.css" type="text/css"><link rel="Stylesheet" rev="Stylesheet" href="../../../../forms/newarticle.css" type="text/css"><script src="../../../../forms/popwindow.js"></script></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; Dr. Dobb's Journal--><p><i>Dr. Dobb's Digest</i> March 2009</p><h1> Internet Explorer 8 and Compatibility Views </h1><h2>Beta 2 of Internet Explorer 8 passes the Acid2 test</h2><h3>By Dino Esposito</h3><p><i>Dino Esposito is a trainer and software consultant based in Rome, Italy.</i><hr><P><P>Acid2 is a sample page available at <a href="http://www.webstandards.org/action/acid2">http://www.webstandards.org/action/acid2</a> created with the precise goal of helping browser vendors to test their product against proper support for latest Web standards. Few of the currently used Web browsers have passed the test. Among the others, I'd like to mention Safari, iCab, Konqueror, Opera and Firefox 3. What about Internet Explorer?<P><P>Internet Explorer 8 -- only in beta 2 at the time of this writing -- has passed the Acid2 test; and it is the first version of the Microsoft's browser to make it. The IE8 team worked out a completely new rendering engine that now follows the CSS 2.1 specification as closely as possible. <P><P>This new rendering mode is enabled by default for pages hosted in Internet Web sites with the clear purpose of giving users the best possible viewing experience. Unfortunately, such a great viewing experience is only possible if Web pages are created according to the latest Web standards. This is not often the case. To avoid breaking so many Web pages, a compatibility view mode has been added to Internet Explorer 8. <P><P>The Compatibility View feature works in a rather intuitive manner. It simply switches back the rendering engine of Internet Explorer 8 to version 7. In this way, from a rendering perspective you are just not using a newer browser. As a result, all sites not explicitly redesigned and restyled for latest standards will display correctly. <P><P>How would you activate the Compatibility View mode?<P><P>As mentioned, the compatibility mode is disabled by default on Internet Web pages, but it is the default for intranet sites. Large organizations can keep on using their applications as usual even when they upgrade to Internet Explorer 8. In this way, they can plan sites updates ahead and proceed with that as their earliest convenience.<P><P>Changing the settings about Compatibility View is possible interactively too. A new UI button is displayed in the navigation bar, at the right end of the address bar and near to the Refresh button. It is worth noting that the button is hidden when you are in Compatibility View mode and only appears when the page is being viewed through the new Standards mode engine. <P><P>As a Web developer, you can force a given page to use the new rendering mode or stick to the Internet Explorer 7 rendering mode. All you need is a simple &lt;meta&gt; declaration like the one shown below:<P><pre  class="code"><P>&lt;meta http-equiv="X-UA-Compatible" content="IE=8" /&gt;</pre><P><P>You place the tag into the &lt;head&gt; section of the page. As a result, Internet Explorer 8 will render the page using the new standards mode. Likewise, you can programmatically force a legacy rendering through a slightly different &lt;meta&gt; tag:<P><pre  class="code"><P>&lt;meta http-equiv="X-UA-Compatible" content="IE=Emulate7" /&gt;</pre><P><P>The X-UA-compatible header is not case sensitive. It poses other constraints though. In particular, it must appear in the &lt;head&gt; before all other elements, except for the title element and other &lt;meta&gt; tags. <P><P>If you don't want to edit each and every Web page, you can resort to adding a custom header to the site configuration. For IIS 7, the following web.config script suffices:  <P><pre  class="code"><P>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;configuration&gt;   &lt;system.webServer&gt;      &lt;httpProtocol&gt;         &lt;customHeaders&gt;            &lt;clear /&gt;            &lt;add name="X-UA-Compatible" value="IE=EmulateIE7" /&gt;         &lt;/customHeaders&gt;      &lt;/httpProtocol&gt;   &lt;/system.webServer&gt;&lt;/configuration&gt;</pre><P><P>For IIS 6, instead, you resort to the user interface of the IIS Manager. Finally, you can check the rendering engine via JavaScript. You use the documentMode property on the document object. <P><pre  class="code"><P>function IsStandardsMode(){   !if(document.documentMode)       return false;   return (document.documentMode == 8);}</pre><P><P>The property exists only in Internet Explorer 8 and is undefined for other browsers. It takes a value of 8 if the newest rendering engine is active.