<HTML><HEAD>
<TITLE>January 2001/JNI-C++ Integration Made Easy/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5:	Sample code fragment that uses a monitor</A></h4>
<pre>
void sample_function(JNIEnv *env, jobject obj) {
...
   { // start the critical section block
      JNIMonitor mon(env, obj);
      // do the critical section stuff here
      ...
      // the destructor of 'mon' automatically exits
      // the underlying Java monitor
   }
...
}
&#151; End of Listing &#151;</pre></body></html>
