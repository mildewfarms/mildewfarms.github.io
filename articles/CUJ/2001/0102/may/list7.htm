<HTML><HEAD>
<TITLE>February 2001/Encapsulating CORBA Components with the Adapter and Bridge Patterns/Listing 7</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 7: Adapter test harness</A></h4>
<pre>
int main(int argc,char* argv[])
{
   // initialize the ORB
   CORBAContext::instance(argc,argv);

   // use the logger
   try
      {
      Logger logger;
      logger.logMessage(Logger::LOW,
                        "An unimportant test message.");
      logger.logMessage(Logger::MEDIUM,
                        __FILE__,
                        __LINE__,
                        "A semi-important test message.");
      logger.logMessage(Logger::HIGH,
                        "ClassName",
                        "methodName",
                        "A very important test message.");

      cout &lt;&lt; argv[0] &lt;&lt; ":  MEDIUM level messages:" &lt;&lt; endl;
      vector&lt;string,allocator&gt; messages 
         = logger.messages(Logger::MEDIUM);
      for (vector&lt;string,allocator&gt;::iterator it 
              = messages.begin();
           it != messages.end();
           it++)
         cout &lt;&lt; (*it) &lt;&lt; endl;
      }
   catch (string&amp; e)
      {
      cerr &lt;&lt; argv[0] &lt;&lt; ":  exception raised by Logger:  "
           &lt;&lt; e &lt;&lt; endl;
      }
}  // end main

&#151; End of Listing &#151;</pre></body></html>
