<HTML><HEAD>
<TITLE>Java Solutions December 2001/Directory-Enabled Application Development Using LDAP and JNDI/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Login.java &#151; Logs in to an LDAP store</A></h4>
<pre>
package jndisamples;

import java.util.Hashtable;
import javax.naming.*;
import javax.naming.directory.*;

public class Login {
  public static void main(String[] args){

    // Set-up Environment
    Hashtable environment = new Hashtable();
    environment.put(Context.INITIAL_CONTEXT_FACTORY,
                    "com.sun.jndi.ldap.LdapCtxFactory");
    environment.put(Context.PROVIDER_URL, "ldap://127.0.0.1:389");
    environment.put(Context.SECURITY_PRINCIPAL, 
                    "cn=mseaver,ou=HR,o=SLC");
    environment.put(Context.SECURITY_CREDENTIALS, "password");
    environment.put(Context.SECURITY_AUTHENTICATION, "simple");

    try{
      InitialDirContext root = new InitialDirContext(environment);
      System.out.println("Successfully logged in");
      root.close();
      System.out.println("Successfully logged out");
    }catch(NamingException ex){
      System.out.println("Error: " + ex);
    }
  }
}

/* Output:
Successfully logged in
Successfully logged out
*/
&#151; End of Listing &#151;</pre></body></html>
