<HTML><HEAD>
<TITLE>September 2001/An Algorithm for Efficient Image Warping/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Partial listing of delta.h</A></h4>
<pre>
struct deltacontrol{
    int current;
    int delta;
    int len;
    int togo;
};

class DeltaControl
{
public:
    DeltaControl();
    virtual void SetFrom(int Major, int Minor);
    virtual void SetTo(int Major, int Minor);
    virtual BOOL Next();
    int GetMajor() {return m_Major.current;};
    int GetMinor() {return m_Minor.current;};
    virtual int GetLength() {return m_Minor.len + m_Major.len;};
protected:
    virtual void OnMajorChange(int Current) {};
    virtual void OnMinorChange(int Current) {};
    deltacontrl m_Major;
    deltacontrl m_Minor;
    int m_ErrorTerm;
    virtual void SetTo(int In, deltacontrol *Out);
    BOOL m_MinorLast;
};
&#151; End of Listing &#151;</pre></body></html>
