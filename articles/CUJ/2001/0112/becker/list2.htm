<HTML><HEAD>
<TITLE>December 2001/STL &amp; Generic Programming/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2: Skeleton of a simple generic prototype factory class</A></h4>
<pre>
template&lt;typename Proto, typename Id&gt;
class ProtoTypeFactory
{
public:
  void RegisterProtoType(Proto* pProtoType, Id id)
  { protoTypeCollection[id] = pProtoType; }
  
  Proto* GetClone(Id id)
  { return protoTypeCollection[id]-&gt;Clone(); }

private:
  std::map&lt;Id, Proto*&gt; protoTypeCollection;
};
&#151; End of Listing &#151;</pre></body></html>
