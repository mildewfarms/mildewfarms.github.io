<HTML><HEAD>
<TITLE>April 2001/STL &amp; Generic Programming/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Using an std::map to count words</A></h4>
<pre>
#include&lt;map&gt;
#include&lt;string&gt;
#include&lt;iostream&gt;

std::map&lt;std::string, int&gt; mapWordCount;

// GetNextWord() is a function that reads the next
// word from the text into its argument and returns
// true while there is more to come.
//
std::string strCurrentWord;
while(GetNextWord(strCurrentWord))
{
  // The following line increments the value for the
  // key strWord in the map, creating an entry with
  // value 1 if this is the first occurrence of the word.
  ++(mapWordCount.insert(std::make_pair(strWord, 0)).first-&gt;second);
}

// The following loop prints a list of all words and the number of 
// times each of them occurs:
//
std::map&lt;std::string, int&gt;::const_iterator itCurrent = 
  mapWordCount.begin();
std::map&lt;std::string, int&gt;::const_iterator itEnd = 
  mapWordCount.end();
for(;itCurrent!=itEnd; ++itCurrent)
{
  std::cout &lt;&lt; itCurrent-&gt;first &lt;&lt; " "
            &lt;&lt; itCurrent-&gt;second &lt;&lt; "\n";
}
&#151; End of Listing &#151;</pre></body></html>
