<HTML><HEAD>
<TITLE>Java Solutions April 2001/Distributed Data Visualization Using C++, Java, and CORBA/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2: DataReader class</A></h4>
<pre>
class DataReader : public POA_Data::DataInfo,
                   public PortableServer::RefCountServantBase
{
   private:
    std::string         mTheDir;
    std::string         mTheFiles;
    std::string         mPathDel;
    DataInterface*      mDataInterfacePtr;
   public:
                        DataReader(void);
    virtual            ~DataReader(void);
    virtual CORBA::Long getData(const char *name, CORBA::Long res,
                                const char *type, 
                                UnboundedData_out vals);
    virtual CORBA::Long getLocation(CORBA::String_out dirLoc);
    virtual CORBA::Long getPathDelimiter(CORBA::String_out dirLoc);
    virtual CORBA::Long getFiles(const char *dir,  
                                 CORBA::String_out fileList);
    virtual CORBA::Long getFileResolution(const char *file, 
                                          CORBA::Long &amp;width,
                                          CORBA::Long&amp; height, 
                                          CORBA::Long&amp; length);
           void         drSetServerMessageSize(void);
    std::string         drGetContextKind(void);
    std::string         drGetContextID(void);
    std::string         drGetObjectKind(void);
    std::string         drGetObjectID(void);
};
&#151; End of Listing &#151;</pre></body></html>
