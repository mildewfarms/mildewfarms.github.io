<HTML><HEAD>
<TITLE>Java Solutions April 2001/import java.*/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5: File Manage.java &#151; Illustrates closing a resource while letting an exception pass up the call stack</A></h4>
<pre>
import java.io.*;
class Manage
{
    public static void f(String fname)
        throws IOException
    {
        FileReader f = null;
        try
        {
            f = new FileReader(fname);
            System.out.println("File opened");
            int c = f.read();   // read a byte
            // ...
        }
        finally
        {
            if (f != null)
            {
                System.out.println("File closed");
                f.close(); // beware lost exception!!!
            }
        }
    }
       
public static void main(String[] args)
    {
        try
        {
            f(args[0]);
        }
        catch (Exception x)
        {
            System.out.println(x);
        }
    }
}
&#151; End of LIsting &#151;</pre></body></html>
