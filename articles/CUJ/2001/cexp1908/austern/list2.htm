<HTML><HEAD>
<TITLE>August 2001 C++ Experts Forum/The Standard Librarian/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2: Measurements &#151; Sorting a vector&lt;string&gt; (only main is shown; everything else is the same as in <a href="list1.htm">Listing 1</a>)</h4>
<pre>
int main(int argc, const char** argv)
{
  if (argc != 2) {
    std::cerr &lt;&lt; &quot;Usage: &quot;
              &lt;&lt; argv[0] &lt;&lt; &quot; &lt;file&gt;&quot;
              &lt;&lt; std::endl;
    return 1;
  }
  
  std::ifstream in(argv[1]);
  if (!in) {
    std::cerr &lt;&lt; &quot;Can't open &quot; &lt;&lt; argv[1] &lt;&lt; std::endl;
    return 1;
  }
  vector&lt;string&gt; v;
  string str;
  while (std::getline(in, str))
    v.push_back(str);
  std::cout &lt;&lt; &quot;Sorting a file of &quot;
            &lt;&lt; v.size() &lt;&lt; &quot; lines.&quot;
            &lt;&lt; std::endl;
  vector&lt;pair&lt;string, double&gt; &gt; results;
  results.push_back(do_sort(v));
  results.push_back(do_stable_sort(v));
  results.push_back(do_heap_sort(v));
  results.push_back(do_list_sort(v));
  results.push_back(do_set_sort(v));
  report(results, std::cout);
  return 0;
}
</pre>
</body>
</html>
