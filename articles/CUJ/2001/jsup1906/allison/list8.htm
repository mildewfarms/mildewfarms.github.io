<HTML><HEAD>
<TITLE>Java Solutions June 2001/import java.*/Listing 8</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 8: File Cancel2.java: Illustrates a daemon thread</A></h4>
<pre>
// Illustrates a Daemon Thread

import java.io.*;

class Counter implements Runnable
{
   private int count = 0;
   
   public void run()
   {
      for (;;)
      {
         System.out.println(count++);
         try
         {
            Thread.sleep(1000);
         }
         catch (InterruptedException x){}
      }
   }
}

class Cancel2
{
   public static void main(String[] args)
   {
      System.out.println("Press Enter to Cancel:");
      Counter c = new Counter();
      Thread t = new Thread(c);
      t.setDaemon(true);
      t.start();

      try
      {
         System.in.read();
      }
      catch (IOException x)
      {
         System.out.println(x);
      }
     System.out.println("Exiting main");
  }
}

/* Output:
Press Enter to Cancel:
0
1
2

Exiting main
*/
&#151; End of Listing &#151;</pre></body></html>
