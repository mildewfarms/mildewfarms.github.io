<HTML><HEAD>
<TITLE>Java Solutions June 2001/The Visitor Pattern/Listing 22</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 22: PartCountVisitor.java</A></h4>
<pre>
import java.util.*;

public class PartCountVisitor implements PartVisitor
{
   public void visit(PiecePart p)
   {
      itsPieceCount++;
      String partNumber = p.getPartNumber();
      int partNumberCount = 0;
      if (itsPieceMap.containsKey(partNumber))
      {
         Integer carrier = (Integer)itsPieceMap.get(partNumber);
         partNumberCount = carrier.intValue();
      }
      partNumberCount++;
      itsPieceMap.put(partNumber, new Integer(partNumberCount));
   }

   public void visit(Assembly a)
   {
   }

   public int getPieceCount() {return itsPieceCount;}
   public int getPartNumberCount() {return itsPieceMap.size();}
   public int getCountForPart(String partNumber)
   {
      int partNumberCount = 0;
      if (itsPieceMap.containsKey(partNumber))
      {
         Integer carrier = (Integer)itsPieceMap.get(partNumber);
         partNumberCount = carrier.intValue();
      }
      return partNumberCount;
   }

   private int itsPieceCount = 0;
   private HashMap itsPieceMap = new HashMap();

}
&#151; End of Listing &#151;</pre></body></html>
