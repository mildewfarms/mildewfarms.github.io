<HTML><HEAD>
<TITLE>May 2001/Two Classes for Simple Socket Programming/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: The client socket class</A></h4>
<pre>
// file csocket.h
#ifndef CSOCKET_HXX
#define CSOCKET_HXX

class csocket
   {
   private:
      int clientsock;
      struct sockaddr_in sockClientAddr;
      struct hostent *lpHostEnt;
      string client_hostname;
      int client_port;
      bool client_init;
      int client_connect(void);
      int recv_data(string&amp; buf);
      int send_data(string&amp; buf);

   public:
      csocket();
      csocket(string&amp; host_name, int port);
      csocket(char *host_name, int port);
      int 
      set_active(string&amp; host_name, 
         int port_number);
      int 
      get_active(string&amp; host_name, 
         int&amp; port_number);
      int send_receive(string&amp; sbuf, string&amp; rbuf);
      int send_receive(char *sbuf, string&amp; rbuf);
      int close_socket(void);
      bool is_init(void) 
      { return(client_init); }
   };
#endif
&#151; End of Listing &#151;</pre></body></html>
