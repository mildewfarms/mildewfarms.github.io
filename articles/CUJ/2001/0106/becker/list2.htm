<HTML><HEAD>
<TITLE>June 2001/STL &amp; Generic Programming/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2: A generic sample standard deviation algorithm, Version 0.8</A></h4>
<pre>
template&lt;typename _It&gt;
double SampleStandardDeviation(_It it1, _It it2)
{
  // Calculate the length of the sequence and the sum of
  // the values.
  //
  int nNumPoints = 0;
  double dblSum = 0.0;
  double dblSsq = 0.0;
  while( it1 != it2 )
  {
    dblSum += *it1;
    dblSsq += *it1 * *it1;
    ++nNumPoints;
    ++it1;
  }

  // Return the sample standard deviation.
  double n = static_cast&lt;double&gt;(nNumPoints);
  return nNumPoints &lt;= 1 ? 0.0 : (dblSsq  - dblSum * dblSum / n) /
  (n - 1.0) ;
}
&#151; End of Listing &#151;</pre></body></html>
