<HTML><HEAD>
<TITLE>March 2002/A Technique for Efficient Logging and Monitoring of Real-Time Systems/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5: The generated code for the AOP specification</A></h4>
<pre>
MyClass::myFunc()
{
  try {
    LogRecord lrecWATCH1(INFO, 1, 2, 53, 16, __LINE__); 
    LogStore::GetInstance()-&gt;store(&amp;lrecWATCH1); 
    SomeClass sc;
    .....
  }
  catch( SomethingWentWrongException&amp; e)
  {
    LogRecord lrecERROR1(MAJOR, 1, 11, 54, 16, __LINE__); 
    lrecInsert( lrecERROR1, 14, sc);
    lrecInsert( lrecERROR1, 15, e.string());
    LogStore::GetInstance()-&gt;store(&amp;lrecERROR1);
    // other recovery code
  }
}
&#151; End of Listing &#151;</pre></body></html>
