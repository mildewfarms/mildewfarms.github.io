<HTML><HEAD>
<TITLE>March 2002/C++ Algorithms: next_permutation/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3: Original code from the STL</A></h4>
<pre>
template &lt;class BidirectionalIterator&gt;
bool next_permutation(BidirectionalIterator first,
                      BidirectionalIterator last) {
    if (first == last) return false;
    BidirectionalIterator i = first;
    ++i;
    if (i == last) return false;
    i = last;
    --i;

    for(;;) {
        BidirectionalIterator ii = i--;
        if (*i &lt; *ii) {
            BidirectionalIterator j = last;
            while (!(*i &lt; *--j));
            iter_swap(i, j);
            reverse(ii, last);
            return true;
        }
        if (i == first) {
            reverse(first, last);
            return false;
        }
    }
}
&#151; End of Listing &#151;</pre></body></html>
