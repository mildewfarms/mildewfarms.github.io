<HTML><HEAD>
<TITLE>April 2002/Debugging Memory Errors with Custom Allocators/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6: Memory manager abstract interface</A></h4>
<pre>
// Memory access modes
enum AccessMode

    memNoAccess,
    memReadOnly,
    memReadWrite
};

/**
* Abstract interface for a memory
* manager class that keeps track of
* the allocated memory blocks.
* Memory blocks are described by
* their start address and length.
*/
class MemMgr
{
public:
    virtual ~MemMgr() {}

    // Sets access mode for
    // all managed memory blocks
    virtual void setAccessMode(AccessMode) = 0;

    // Inserts block info into the
    // internal list of mem blocks
    virtual void insert(const void*, size_t) = 0;

    // Remove memory block info
    virtual void erase(const void*, size_t) = 0;

     // More methods not shown here
    // ...
    //
};
&#151; End of Listing &#151;</pre></body></html>
