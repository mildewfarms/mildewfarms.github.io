<HTML><HEAD>
<TITLE>December 2002/Fast UDP-Based Network Storage/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Creating and binding a UDP socket</A></h4>
<pre>
/* Allocate UDP socket */
int s = socket(PF_INET, SOCK_DGRAM, 0);
/* Initialize address structure */
struct sockaddr_in addr;
memset(&amp;(addr),0,sizeof(addr));
addr.sin_len = sizeof(addr);
/* Use IP addressing */
addr.sin_family = AF_INET;
/* We accept any IP address */
addr.sin_addr.s_addr = INADDR_ANY;
/* Use the specified port */
addr.sin_port = htons(PORT);
/* Bind to the address/port */
bind(s,(struct sockaddr *)(&amp;addr),sizeof(addr))
&#151; End of Listing &#151;</pre></body></html>
