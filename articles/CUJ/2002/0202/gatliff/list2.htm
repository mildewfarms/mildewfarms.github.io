<HTML><HEAD>
<TITLE>February 2002/Implementing Interrupt Service Routines in C++/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2: An assembly language stub for when #pragma interrupt is unsupported</A></h4>
<pre>
device_isr:
  // save scratch registers not preserved by isr()
  push r0
  push r1
  call __isr_15device_c
  // restore scratch registers
  pop r1
  pop r0
  rte
&#151; End of Listing &#151;</pre></body></html>
