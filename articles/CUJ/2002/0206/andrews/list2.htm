<HTML><HEAD>
<TITLE>June 2002/Keyword Correction from a Dictionary/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2: The heart of main.cpp</A></h4>
<pre>
typedef CThetaMatch&lt;string&gt; CTM;
CTM ctm( 256 );

CNearTree&lt;string, CTM&gt; Tree;

vector&lt;string&gt;::iterator is;
for ( iv=vBadText.begin( ); iv&lt;vBadText.end( ); ++iv )
{
   if ( Tree.m_bfnNearestNeighbor ( ctm, 1000.0, result, *iv ) )
   {
      double dRadius = ctm.theta( result, *iv );
      cout &lt;&lt; *iv ;
      long nFound = Tree.m_lfnFindInSphere
            ( ctm, max(1.3 * dRadius, .2), vResult, *iv );
      for ( is=vResult.begin( ); is&lt;vResult.end( ); ++is )
         cout &lt;&lt; "\t\t" &lt;&lt; *is &lt;&lt; endl;
   }
   else
      cout &lt;&lt; "null for " &lt;&lt; *iv &lt;&lt; endl;
}
&#151; End of Listing &#151;</pre></body></html>
