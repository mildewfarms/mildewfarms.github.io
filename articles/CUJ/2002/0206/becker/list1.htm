<HTML><HEAD>
<TITLE>June 2002/STL &amp; Generic Programming/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Querying a vector of vectors for the maximal size</A></h4>
<pre>
max_size&lt;std::vector&lt;Something&gt; &gt; the_max =
std::for_each(
  vect_of_vects.begin(),
  vect_of_vects.end(),
  max_size&lt;std::vector&lt;Something&gt; &gt;()
  );
size_t m = the_max.get_max();

template&lt;typename T&gt;
class max_size
{
public:
  max_size() : m_max_size(0) {}
  
  size_t get_max() const
  { return m_max_size; }
  
  void operator()(const T&amp; cont)
  { m_max_size = std::_cpp_max(cont.size(), m_max_size); }

private:
  size_t m_max_size;
};
&#151; End of Listing &#151;</pre></body></html>
