<HTML><HEAD>
<TITLE>Java Solutions June 2002/DocumentBuilder: An Alternative to Hard-Coded String Concatenation/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4: HashtableDocumentBuilder</A></h4>
<pre>
package mypackage;

import java.util.Hashtable;

/**
 * Implementation of a DocumentBuilder that extracts the data
 * needed to support the getValue method from the Hashtable
 * provided in the constructor.  The field code it accepts
 * must match a key in the Hashtable provided.  Otherwise, 
 * &lt;code&gt;null&lt;/code&gt; is used.
 **/
public class HashtableDocumentBuilder extends DocumentBuilder {
    
    Hashtable model;
    
    /**
     * Creates a new instance using the Hashtable parameter as the "data"
     * source, and the template as the document template.
     **/
    public HashtableDocumentBuilder(Hashtable model, String template) {
        super(template);
      this.model = model;
    }    
    
    /**
     * returns String value representing data associated with field code.
     * in this implementation, the field code is the key of an object stored
     * in the Hashtable provided. If no value is returned from the Hashtable
     * from the &lt;code&gt;get()&lt;/code&gt; method (using the field code as the key),
     * then &lt;code&gt;null&lt;/code&gt; is returned.
     **/
    public String getValue(String fieldCode) {
        String ret = null;
        
        try{
            // attempt to get value from Hashtable
            ret = model.get(fieldCode).toString();
        }
        catch(Exception e){
            // could not get value from Hashtable, use null
            ret = null;   
        }
        finally{
            return ret;   
        }
    }
}
&#151; End of Listing &#151;</pre></body></html>
