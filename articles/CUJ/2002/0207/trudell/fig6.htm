<HTML><HEAD>
<TITLE>July 2002/The Application Watchman Class/Figure 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Figure 6: Heap Corruption scenario output</A></h4>
<pre>
** AWM: On Duty.  Wed Mar 06 23:50:23 2002
** AWM: Check the Heap.
** AWM: Heap is okay!
** AWM: Take Heap Snapshot.
** AWM: Dump Heap Snapshot.
0 bytes in 0 Free Blocks.
0 bytes in 0 Normal Blocks.
7962 bytes in 26 CRT Blocks.
0 bytes in 0 Ignore Blocks.
0 bytes in 0 Client Blocks.
Largest number used: 7962 bytes.
Total allocations: 8740 bytes.

** AWM: Do The Rounds.  Before Test Wed Mar 06 23:50:23 2002
** AWM: Check the Heap.
** AWM: Heap is okay!
** AWM: Take Heap Snapshot.
** AWM: Dump Heap Snapshot.
&lt;&lt; Details omitted, same as previous stats above.&gt;&gt;

** Write 1 char past end of pBufferA!
memory check error at 0x00790DAC = 0x00, should be 0xFD.
DAMAGE: after Normal block (#32) at 0x00790DA0.
** Write 1 char past end of pBufferB!

** AWM: Do The Rounds.  After Test Wed Mar 06 23:50:23 2002
** AWM: Check the Heap.
memory check error at 0x00790DA8 = 0x00, should be 0xFD.
DAMAGE: after Normal block (#33) at 0x00790DA0.
Normal located at 0x00790DA0 is 8 bytes long.
f:\appwatchman\appwatchman.cpp(85) : Assertion failed!
** AWM: Take Heap Snapshot.
** AWM: Dump Heap Snapshot.
0 bytes in 0 Free Blocks.
8 bytes in 1 Normal Blocks.
7962 bytes in 26 CRT Blocks.
0 bytes in 0 Ignore Blocks.
0 bytes in 0 Client Blocks.
Largest number used: 7974 bytes.
Total allocations: 8760 bytes.
** AWM: Potential Leak!
** AWM: Leaks From Prog Start.
Dumping objects -&gt;
{33} normal block at 0x00790DA0, 8 bytes long.
 Data: &lt;Goodbye!&gt; 47 6F 6F 64 62 79 65 21 
Object dump complete.
&#151; End of Figure &#151;</pre></body></html>
