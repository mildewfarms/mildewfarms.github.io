


<html>
<head>
<title>February, 2005: Mapping, Web Services,  &amp; C++</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 3</h4>
<pre>
void BuildFindAddressSoapRequest(TCHAR* szAddress, TCHAR* pszSoap)
{
    _tcscpy(pszSoap, _T("&lt;?xml version=\"1.0\" encoding=\"") );
    _tcscat(pszSoap, _T("utf-8\" ?&gt;") );
    _tcscat(pszSoap, 
        _T("&lt;soap:Envelope 
                  xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" 
                  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" 
                  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;") );
    _tcscat(pszSoap, _T("&lt;soap:Header&gt;") );
    _tcscat(pszSoap, _T("&lt;/soap:Header&gt;") );
    _tcscat(pszSoap, _T("&lt;soap:Body&gt;") );
    _tcscat(pszSoap, _T("&lt;FindAddress 
                  xmlns=\"http://s.mappoint.net/mappoint-30/\"&gt;") );
        _tcscat(pszSoap, _T("&lt;specification&gt;") );
            _tcscat(pszSoap, _T("&lt;DataSourceName&gt;") );
            _tcscat(pszSoap, _T("MapPoint.AP") );
            _tcscat(pszSoap, _T("&lt;/DataSourceName&gt;") );
            _tcscat(pszSoap, _T("&lt;InputAddress&gt;") );
                _tcscat(pszSoap, _T("&lt;CountryRegion&gt;") );
                _tcscat(pszSoap, _T("Australia") );
                _tcscat(pszSoap, _T("&lt;/CountryRegion&gt;") );
                _tcscat(pszSoap, _T("&lt;FormattedAddress&gt;") );
                _tcscat(pszSoap, szAddress );
                _tcscat(pszSoap, _T("&lt;/FormattedAddress&gt;") );
            _tcscat(pszSoap, _T("&lt;/InputAddress&gt;") );
        _tcscat(pszSoap, _T("&lt;/specification&gt;") );
    _tcscat(pszSoap, _T("&lt;/FindAddress&gt;") );
    _tcscat(pszSoap, _T("&lt;/soap:Body&gt;") );
    _tcscat(pszSoap, _T("&lt;/soap:Envelope&gt;") );
}
</pre>



</body>
</html>
