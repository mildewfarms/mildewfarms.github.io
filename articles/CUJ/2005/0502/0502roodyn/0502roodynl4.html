


<html>
<head>
<title>February, 2005: Mapping, Web Services,  &amp; C++</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 4</h4>
<pre>
int _tmain(int argc, _TCHAR* argv[])
{
    LPTSTR AcceptTypes[2] = {TEXT("text/xml"), NULL}; 
    DWORD dwFlags = INTERNET_FLAG_RELOAD | 
        INTERNET_FLAG_NO_CACHE_WRITE | INTERNET_FLAG_KEEP_CONNECTION; 
    HINTERNET hNet = InternetOpen(_T("SpikeApp"), INTERNET_OPEN_TYPE_PRECONFIG,
        NULL, NULL, 0);
    if (hNet)
    {
       wcout &lt;&lt; _T("Opened Internet connection and got valid handle") &lt;&lt; endl;
        HINTERNET hSession = 
            InternetConnect(hNet,  _T("findv3.staging.mappoint.net"),
            INTERNET_DEFAULT_HTTP_PORT, _T("&lt;username&gt;"), _T("&lt;password&gt;"),
            INTERNET_SERVICE_HTTP, 0, 0);
       if (hSession)
        {
            wcout &lt;&lt; _T("Opened session for WS and got valid handle") &lt;&lt; endl;
            FindAddress(hSession, 
                _T("1 Epping Road, North Ryde, Sydney, NSW 2113") );
            InternetCloseHandle(hSession);
        }
        InternetCloseHandle(hNet);
    }
    return 0;
}
</pre>



</body>
</html>
