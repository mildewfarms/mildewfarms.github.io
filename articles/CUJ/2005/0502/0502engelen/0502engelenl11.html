


<html>
<head>
<title>February, 2005: gSOAP &amp; Web Services</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 11</h4>
<pre>
// file: client.cpp
#include "soapCollisionServiceProxy.h"
#include "CollisionService.nsmap"
main()
{  // create a proxy
   CollisionService proxy;
   // create two points and a circle   
   Point p, q(1.0, 1.0);
   Circle c(1.0, 1.0, 2.0);
   // create a collection with the objects
   Objects collection;
   collection.objects.push_back(&amp;p);
   collection.objects.push_back(&amp;q);
   collection.objects.push_back(&amp;c);
   // compute the hits remotely and print the count
   int hits;
   if (proxy.cws__detect_collisions(collection, hits) == SOAP_OK)
      cout &lt;&lt; "Hits=" &lt;&lt; hits &lt;&lt; endl;
   else
      soap_print_fault(proxy.soap, stderr);
}
</pre>



</body>
</html>
