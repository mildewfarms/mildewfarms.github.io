


<html>
<head>
<title>December, 2005: C++/CLI Input/Output</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 1</h4>
<pre>
using namespace System;
/*1*/ using namespace System::IO;

void Copy(TextReader^ inStream, TextWriter^ outStream);

int main()
{
/*2*/ TextReader^ inStream = Console::In;
/*3*/ TextWriter^ outStream = Console::Out;

/*4*/ outStream-&gt;Write(static_cast&lt;wchar_t&gt;(inStream-&gt;Read()));
  outStream-&gt;Write(static_cast&lt;wchar_t&gt;(inStream-&gt;Read()));
/*5*/ outStream-&gt;Flush();

  array&lt;wchar_t&gt;^ buffer = {L'w', L'x', L'y', L'z'};
/*6*/ inStream-&gt;Read(buffer, 1, 2);
/*7*/ outStream-&gt;Write(buffer);

/*8*/ Copy(inStream, outStream);

/*9*/ outStream-&gt;Write("{0} * {1} = {2}\n", 10, 5, 10 * 5);
/*10*/  inStream-&gt;Close();
/*11*/  outStream-&gt;Close();
}

/*12*/
void Copy(TextReader^ inStream, TextWriter^ outStream)
{
/*13*/  int c;

  while ((c = inStream-&gt;Read()) != -1)
  {
    outStream-&gt;Write(static_cast&lt;wchar_t&gt;(c));
  }
}
</pre>



</body>
</html>
