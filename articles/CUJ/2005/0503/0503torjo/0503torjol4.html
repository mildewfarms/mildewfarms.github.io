


<html>
<head>
<title>March, 2005: Advanced Subclassing</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 4</h4>
<pre>
// 4(a)
struct log_handler 
    : subclass::auto_event_handler&lt;log_handler, window_base&gt; {
  handle_event any_event(msg_param msg, hwnd_param h) {
    // .. do logging
    return event&lt;0&gt;().HANDLED_BY(&amp;me::any_event);
  }
};

// 4(b)
namespace { bool do_log = true; }

struct log_handler 
    : subclass::auto_event_handler&lt;log_handler, window_base&gt; {
  // ... same as before
  static bool matches_wnd(window_base*) { return do_log; }
};

void enable_logging(bool b) { do_log = b; }
</pre>



</body>
</html>
