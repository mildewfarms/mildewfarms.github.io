


<html>
<head>
<title>October, 2005: Bitstream Parsing in C++</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 4</h4>
<pre>
#define T(name, fields)\
    class name  { \
      private: \
        const unsigned char* data; \
        BOOST_PP_SEQ_FOR_EACH_I(DEFINE_CACHED_VALUES, fields, fields) \
      public: \
        /* Constructor */ \
        name(const unsigned char* _data) : data(_data) \
           BOOST_PP_SEQ_FOR_EACH_I(INITIALIZE_CACHED_VALUES, fields, fields) \
           {}; \
        /* xxx() methods */ \
        BOOST_PP_SEQ_FOR_EACH_I(DEFINE_ACCESSORS, fields, fields) \
        size_t num_bits(void) const { \
            return 0 BOOST_PP_SEQ_FOR_EACH(PLUS_NUM_BITS, ~, fields); \
        }; \
   };
</pre>



</body>
</html>
