


<html>
<head>
<title>October, 2005: Managed String Library for C</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 2</h4>
<pre>
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include "safestr.h"
#include "xxl.h"

int main(int argc, char *argv[]) {
  safestr_t str1;
  safestr_t str2;

  XXL_TRY_BEGIN {   
    str1 = safestr_alloc(12, 0);
    str2 = safestr_create("hello, world\n", 0);
    safestr_copy(&amp;str1, str2);
    safestr_printf(str1);
    safestr_printf(str2);
  }
  XXL_CATCH (SAFESTR_ERROR_OUT_OF_MEMORY) {
    printf("safestr out of memory.\n");
  }
  XXL_EXCEPT {
    printf("string operation failed.\n");
  }
  XXL_TRY_END;

  return 0;
}
</pre>



</body>
</html>
