<HTML><HEAD><TITLE>Listing 5: The Kleene star class implementation</TITLE></HEAD><body bgcolor="#FFFFFF" text="#000000"><B> Listing 5:</B> The Kleene star class implementation<pre>//  Copyright (c) 2001, Joel de Guzman and Dan Nuffer//  Permission is granted to use this code without restriction as//  long as this copyright notice appears in all source files.template &lt;typename S&gt;struct kleene_star    : public unary&lt;S&gt;    , public parser&lt;kleene_star&lt;S&gt; &gt;{    kleene_star(S const&amp; a)    : unary&lt;S&gt;(a) {}    template &lt;typename IteratorT&gt;    match parse(IteratorT&amp; first, IteratorT const&amp; last) const    {        match hit(0);        while (match next = this-&gt;subject().parse(first, last))            hit += next;        return hit;    }};</pre></BODY></HTML>