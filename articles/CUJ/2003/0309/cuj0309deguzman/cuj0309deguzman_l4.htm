<HTML><HEAD><TITLE>Listing 4:	The sequence class</TITLE></HEAD><body bgcolor="#FFFFFF" text="#000000"><B> Listing 4:</b> The sequence class <pre>//  Copyright (c) 2001, Joel de Guzman and Dan Nuffer//  Permission is granted to use this code without restriction as//  long as this copyright notice appears in all source files.template &lt;typename A, typename B&gt;struct sequence    : public binary&lt;A, B&gt;    , public parser&lt;sequence&lt;A, B&gt; &gt;{    sequence(A const&amp; a, B const&amp; b)    : binary&lt;A, B&gt;(a, b) {}    template &lt;typename IteratorT&gt;    match parse(IteratorT&amp; first, IteratorT const&amp; last) const    {        IteratorT s = first;        match ma, mb;        if ((ma = this-&gt;left().parse(s, last)) &amp;&amp;            (mb = this-&gt;right().parse(s, last)))        {            first = s;            return ma + mb;        }        return match();    }};</pre></BODY></HTML>