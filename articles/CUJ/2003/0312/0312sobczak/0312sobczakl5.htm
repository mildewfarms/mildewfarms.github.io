<html>
<head>
<title>YAMI: A Simple ORB Library</title>
</head>

<body><h4>Listing 5:	<i>A YAMI client in Tcl.</i></h4>

<pre>
# a simple YAMI client in Tcl. this code can be used also in the
# interactive Tcl console

package require YAMI
set agent [YAMI::Agent 12341]
$agent domainRegister someDomain 127.0.0.1 12340 2
set message [$agent send someDomain calculator \
    multiply {{5 i} {6 i}}]
$message wait
if {[$message getStatus] == "eReplied"} {
    set results [$message getResponse]
    puts "the result is: [lindex $results 0]"
} else {
    puts "the message was not replied correctly"
}
$message -delete
$agent -delete
</pre>
</body>
</html>
