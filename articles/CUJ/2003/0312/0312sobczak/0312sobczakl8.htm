<html>
<head>
<title>YAMI: A Simple ORB Library</title>
</head>

<body><h4>Listing 8:	<i>A YAMI client in YDL.</i></h4>

<pre>
// a YAMI client built with YDL
#include "yami++.h"
#include "calc_client.h"

using namespace YAMI;
#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;
const string serverhost = "127.0.0.1";
const int    serverport = 12340;
const int    clientport = 12341;
const string domainname  = "someDomain";
const string objectname  = "calculator";
int main()
{
    try
    {
        netInitialize();
        {
        Agent agent(clientport);
        agent.domainRegister(domainname,
            serverhost, serverport, 2);
        // create a local representative of the server        
        calculator calc(agent, domainname, objectname);
        int result;
        // send the message
        calc.multiply(5, 6, result);
        cout &lt;&lt; "the result is: " &lt;&lt; result &lt;&lt; endl;
        }
        netCleanup();
    }
    catch (const exception &amp;e)
    {
        cout &lt;&lt; e.what() &lt;&lt; endl;
    }
}
</pre>
</body>
</html>
