<HTML>
<HEAD>
<TITLE>March 2003/C++ Expression Templates</TITLE>
</HEAD>
<BODY>
<h4>Listing 8: Definition and usage of expression templates </h4>
<Pre>
template &lt;class ExprT&gt; struct exprTraits 
{ typedef ExprT expr_type; };

template &lt;&gt; struct exprTraits&lt;double&gt; 
{ typedef Literal expr_type; };

template &lt;&gt; struct exprTraits&lt;int&gt; 
{ typedef Literal expr_type; };

...

double sigma=2.0, mean=5.0;
const double Pi = 3.141593;
cout &lt;&lt; integrate(
  1.0/(sqrt(2*Pi)*sigma) * exp(sqr(x-mean)/(-2*sigma*sigma)),
  2.0,10.0,100) &lt;&lt; endl;

&#151; End of Listing &#151;</pre>
</BODY>
</HTML>
