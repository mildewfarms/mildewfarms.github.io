<html>
<head>
<title>Strong Exception-Safe Storage</title>
</head>

<body><h4>Listing 1:	<i>The implementation of assignment.</i></h4>

<pre>
StrongStorage&amp; operator=(const StrongStorage&amp; other)
{
    if(this!=&amp;other)
    {
        if(other.isEmpty())
        {
            emptyCache();
        }
        else
        {
            getOtherCache().template 
construct_as&lt;value_type&gt;(other.value());
            emptyCache();
            useCache1=!useCache1;
            cacheInitialized=true;
        }
    }
            
    return *this;
}
</pre>
</body>
</html>
