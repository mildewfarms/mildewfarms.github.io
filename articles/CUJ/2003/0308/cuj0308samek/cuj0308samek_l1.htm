<HTML><HEAD><TITLE>HexWeb HTML</TITLE></HEAD><body bgcolor="#FFFFFF" text="#000000"><B> Listing 1:</B>	<B>Embedded systems-friendly assertions<P> 1: #ifndef qassert_h<P> 2: #define qassert_h<P> 3:<P> 4: /** NASSERT macro disables all contract validations<P> 5:  * (assertions, preconditions, postconditions, and invariants).<P> 6:  */<P> 7: #ifdef NASSERT              /* NASSERT defined--DbC disabled */<P> 8:<P> 9: #define DEFINE_THIS_FILE<P>10: #define ASSERT(ignore_)  ((void)0)<P>11: #define ALLEGE(test_)    ((void)(test_))<P>12:<P>13: #else                    /* NASSERT not defined--DbC enabled */<P>14:<P>15: #ifdef __cplusplus<P>16: extern "C" {<P>17: #endif<P>18:             /* callback invoked in case of assertion failure */<P>19: void onAssert__(char const *file, unsigned line);<P>20:<P>21: #ifdef __cplusplus<P>22: }<P>23: #endif<P>24:<P>25: #define DEFINE_THIS_FILE \<P>26:    static char const THIS_FILE__[] = __FILE__<P>27:<P>28: #define ASSERT(test_) \<P>29:    ((test_) ? (void)0 : onAssert__(THIS_FILE__, __LINE__))<P>30:<P>31: #define ALLEGE(test_)    ASSERT(test_)<P>32:<P>33: #endif                                            /* NASSERT */<P>34:<P>35: #define REQUIRE(test_)   ASSERT(test_)<P>36: #define ENSURE(test_)    ASSERT(test_)<P>37: #define INVARIANT(test_) ASSERT(test_)<P>38:<P>39: #endif                                          /* qassert_h */</pre>
</BODY></HTML>