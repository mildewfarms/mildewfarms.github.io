<html><head><title>Listing 3</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body bgcolor="#FFFFFF" text="#000000"><b>Listing 3</b><pre>// the interface of the wrapper to back-end,// synchronized collection of pointerstemplate&lt;    class Listener,    class Mutex,    class BagType&gt;class ListenersCollection{    // this is a helper class that locks a given mutex    // and unlocks when exiting the scope    class MutexHolder    {        // ...    };public:    void add(Listener *p);    void remove(Listener *p);    BagType getFrozen() const;private:    BagType bag_;    Mutex mutex_;};</pre></body></html>