<html><head><title>Tan Sidebar 1</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body bgcolor="#FFFFFF" text="#000000"><h2>The dreaded VC++ gotchas</h2>I spent a great deal of time working through issues specifically related to my VC6 compiler. Having had to solve these issues myself, it seems proper that I describe them briefly for the benefit of those intending to use my program. <p> <h3>In-line function expansion ( /Ob1 switch ) </h3><p><b>Typical problem: </b><p>I first saw this error when trying to use both <b>write_graphviz</b> and <b>read_graphviz   </b>functionality in my code. Notice it is a link error: <p> <code><pre> dfs2.obj : fatal error LNK1179: invalid or corrupt file: duplicate   comdat "?policies@?$iterator_adaptor@Vconst_iterator@ ... </pre></code> <p> <b>Solution: </b><p> Select "Project Settings"c:\www.cuj.com/"C/C++" Tab/"Optimization" Category, and change   from (default) "Disable" to "Only _inline". While in the dialog, take out Settings/"C/C++"c:\www.cuj.com/Debug   Info:Program Database for "Edit & Continue", to avoid D2016 : 'c:\www.cuj.com/ZI' and 'c:\www.cuj.com/Ob1'   that command-line options are incompatible. <p> <h3>Memory allocation limit ( /Zm switch ) </h3><p>At various times as I used different graph algorithms, I would get C1076: "compiler   limit : internal heap limit reached." This has to be added directly to the C/C++   Preprocessor scroll window (for example, /Zm200). <p><h3>Lack of Koenig lookup </h3><p>The lack of Koenig lookup in VC6 shows up in different guises (see references).   For example, in one line of my code: <p><code><pre>std::transform(startEI,endEI,               std::back_inserter(vSignals),               GetSignalFunctor<G>(_g));  Missing std:: in transform causes error C2667: 'transform' : none     of 2 overload have a best conversion   Missing std:: in back_inserter causes fatal error C1001: INTERNAL     COMPILER ERROR </pre></code><p>This also points to the need for incremental build/compile because multiple errors can occur in a line of template call.<p><h3> Inadvertent mixing up edges and vertices in parameters</h3><p>When property_maps are used, sometimes passing the wrong type (<b>edge</b>   instead of <b>vertex</b>, or vice versa) will cause a fatal error C1001: INTERNAL   COMPILER ERROR. Example : <p><code><pre>_EdgeAttrMap[v]["label"]=signal; // edge accessed with vertex</pre></code><code></code></body></html>