


<html>
<head>
<title>January, 2006: Hotter Events</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 7</h4>
<pre>
struct edit : wnd_extend&lt;window_base,edit&gt; {
  ...
};

// notifications
struct ev { template &lt;int id&gt; struct edit {
  // received when the edit box loses focus
  struct kill_focus : unique_event&lt;kill_focus&gt; {
    kill_focus(wnd&lt;&gt; w) : new_focus(w) {}
    wnd&lt;&gt; new_focus;
  };

  // received when the edit box gains focus
  struct set_focus : unique_event&lt;set_focus&gt; {
    set_focus(wnd&lt;&gt; w) : old_focus(w) {}
    wnd&lt;&gt; old_focus;
  };
  ...
}; };

// events
struct wm {
  // call this to find out the current selection
  struct get_sel : unique_event&lt;get_sel&gt; {
    get_sel(int &amp;s, int &amp;e) : start(s), end(e) {}
    int &amp;start, &amp;end;
  };

  // call this to set the current selection
  struct set_sel : unique_event&lt;set_sel&gt; {
    set_sel(int s, int e) : start(s), end(e) {}
    int start, end;
  };
  ...
};


template&lt;int ctrl_id&gt; 
  struct events_for_class&lt;ctrl_id,edit&gt; 
    : public ev::edit&lt;ctrl_id&gt; {};
</pre>



</body>
</html>
