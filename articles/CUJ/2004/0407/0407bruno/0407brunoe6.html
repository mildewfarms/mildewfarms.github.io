<html>
<head>
<title>July, 2004: C++, Java, &amp; XMLProcessing</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Example 6:	Traversing the DOM tree in C++.</h4>
<pre>
// Start with the root element
DOMNode* elem = (DOMNode*)doc-&gt;getDocumentElement();
// Iterate through the child elements
DOMNode* child = elem-&gt;getFirstChild();
while ( child != NULL ) {
  // Look for the "LastName" element
  char* szElem = child-&gt;getNodeName();
  if ( _stricmp( szElem, "LastName" ) == 0 )
  {
    // Found the element, now go through its
    // children and find the text value
    DOMNodeList* childNodes = child-&gt;getChildNodes();
    for ( UINT y = 0; 
          y &lt; childNodes-&gt;getLength(); 
          y++ ) 
    {
      DOMNode* data = childNodes-&gt;item( y );
      if ( data-&gt;getNodeType() == DOMNode::TEXT_NODE )
        return (char*)data-&gt;getNodeValue();
    }
  }
  child = child-&gt;getNextSibling();
}
</pre>



</body>
</html>
