<html>
<head>
<title>December, 2004: Atomic Reference Counting Pointers</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Table 1:	Primitives that implement RCP.</h4>
<table cellpadding=3 cellspacing=3>
  <tr bgcolor="lightblue">
    <td>Primitive</td>
    <td>Description</td>
  </tr>
  <tr>
    <td>lwarx</td>
    <td>CPU-provided operation to atomically read a memory location and set a reservation flag.</td>
  </tr>
  <tr>
    <td>stwcx</td>
    <td>CPU-provided operation to atomically write to a memory location. If the reservation flag is set, and in any case return the value of the reservation flag.</td>
  </tr>
  <tr>
    <td>aAdd</td>
    <td>Atomically mem[addr] += delta; return mem[addr].</td>
  </tr>
  <tr>
    <td>aSwap</td>
    <td>Atomically tmp = mem[addr1]; mem[addr1] = mem[addr2]; mem[addr2] = tmp.</td>
  </tr>
  <tr>
    <td>aIandF</td>
    <td>Atomically tmp = mem[addr1]; mem[tmp] += delta;return tmp.</td>
  </tr>
</table>


</body>
</html>
