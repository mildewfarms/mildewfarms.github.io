<html>
<head>
<title>December, 2004: Flash, Ming, &amp; C++</title>
</head>

<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000">
<!--Copyright &#169; C/C++ Users Journal-->






<h4>Listing 5</h4>
<pre>
void draw(SWFSprite *movieclip,float ox,float oy,float xr,
  float yr,double rot){
double total=std::accumulate(data.begin(),data.end(),0.0, get_value);
if(total&lt;=0.0)return;
for(const_iterator i=data.begin();i!=data.end();++i){
    double arc=(i-&gt;value/total)*M_PI*2;
    i-&gt;appearance.draw_pie_slice(movieclip,ox,oy,rot,rot+arc,xr,yr);
    rot+=arc;
    }
}
</pre>



</body>
</html>
