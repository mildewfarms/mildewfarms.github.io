<html><head><title>May 04: </title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; C/C++ Users Journal--><h4>Listing 3:	<i>Implementing the</i> InValueContainer <i>context.</i></h4><pre>class InValueContainer {    public:        InValueContainer(): _ownerCount(new size_t(1)) {}        InValueContainer(const InValueContainer&amp; rhs)            : _ownerCount(rhs._ownerCount)         {            (*_ownerCount) ++;        }        void operator=(const InValueContainer&amp; rhs)         {            clearCount();            _ownerCount = rhs._ownerCount;            (*_ownerCount) ++;        }       ~InValueContainer() { clearCount(); }        bool soleOwner() const {return ((*_ownerCount) == 1);}    private:        void clearCount()         {            if ((--(*_ownerCount)) &lt;= 0)                 delete _ownerCount;        }    private:        size_t* _ownerCount;}</body></html>