<html><head><title>May 04: </title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; C/C++ Users Journal--><h4>Listing 2:	<i>Code from a typical bytecode interpreter.</i></h4><pre>void func(void){    unsigned char *ip;   // byte code instruction pointer    int *stack;    int spi;         // stack pointer    ...    #define POP()  (stack[--spi])    #define PUSH(i) (stack[spi++] = (i))    while (1)    {    switch (*ip++)    {        case ADD:        op1 = POP();        op2 = POP();        result = op1 + op2;        PUSH(result);        break;        case SUB:        ...    }    }}</body></html>