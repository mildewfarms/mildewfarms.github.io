<html><head><title>May 04: </title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; C/C++ Users Journal--><h4>Listing 3:	<i>Nested functions eliminate some common problems.</i></h4><pre>void func(){    ubyte* ip;      // byte code instruction pointer    int[] stack;    // operand stack    int spi;        // stack pointer    ...    int pop()        { return stack[--spi]; }    void push(int i) { stack[spi++] = i; }    while (1)    {    switch (*ip++)    {        case ADD:        op1 = pop();        op2 = pop();        push(op1 + op2);        break;        case SUB:        ...    }    }}</body></html>