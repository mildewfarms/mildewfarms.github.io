<html><head><title>April 04: </title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; C/C++ Users Journal--><h4>Listing 11:	<i>(a) RTLinux priority inversion test; (b) RTLinux priority inversion output.</i></h4><pre><b>(a)</b>Thread A   pthread_suspend_np(thread_A);   clock_gettime(CLOCK_REALTIME, &amp;start);   pthread_mutex_lock(&amp;mutex);   clock_gettime(CLOCK_REALTIME, &amp;end);Thread B   pthread_mutex_lock(&amp;mutex);   pthread_cond_wait(&amp;cond, &amp;mutex);   pthread_wakeup_np(thread_A);   do_something(SLEEP_PERIOD);   pthread_mutex_unlock(&amp;mutex);Thread C   pthread_cond_signal(&amp;cond);<b>(b)</b>Priority Inversion Recovery: (96h 0m 0s test)64.0 us</body></html>