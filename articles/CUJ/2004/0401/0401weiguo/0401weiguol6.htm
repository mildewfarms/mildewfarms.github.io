<html><head><title>January 04: </title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; C/C++ Users Journal--><h4>Listing 6:	<i>ex2lnx.cpp, C++ file on Linux.</i></h4><pre>// ex2lnx.cpp  &#151;  Test file for passing a single complex argument to an // F77 function in a dll, and getting the returned complex value#include &lt;complex&gt;#include &lt;iostream&gt;#include &lt;dlfcn.h&gt;int main(){    void *hDll = dlopen("./ex2.so", RTLD_NOW);    typedef std::complex&lt;float&gt; (* LPFNDLLFUNC) (std::complex&lt;float&gt;&amp;);    LPFNDLLFUNC lpFunc = NULL;    lpFunc = (LPFNDLLFUNC)dlsym(hDll, "foo_");    std::complex&lt;float&gt; x, y;    x = std::complex&lt;float&gt;(1.0, 2.0);    y = lpFunc(x);    std::cout &lt;&lt; "y = foo(" &lt;&lt; x &lt;&lt; ") = "               &lt;&lt; y &lt;&lt; std::endl;    dlclose(hDll);    return 0;}</body></html>