<html><head><title>January 04: </title></head><body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#330066" ALINK="#ff0000" TEXT="#000000"><!--Copyright &#169; C/C++ Users Journal--><h4>Listing 12:	<i>ex4lnx.cpp, C++ file on Linux.</i></h4><pre>// ex4lnx.cpp  &#151;  Test file for passing a function pointer to an // F77 function in a dll#include &lt;iostream&gt;#include &lt;dlfcn.h&gt;float foo(float &amp;x){    return x * 2.0f;}int main(){    void *hDll = dlopen("./ex4.so", RTLD_NOW);    typedef float (*pMyFunc)(float&amp;);    typedef float (* LPFNDLLFUNC)(pMyFunc, float&amp;);    LPFNDLLFUNC lpFunc = NULL;    lpFunc = (LPFNDLLFUNC)dlsym(hDll, "myeval_");    float x,y;    pMyFunc pfunc = (pMyFunc) foo;    x = 1.2f;    y = lpFunc(pfunc, x);    std::cout &lt;&lt; "foo( " &lt;&lt; x &lt;&lt; " ) " &lt;&lt; " = "                           &lt;&lt; y &lt;&lt; std::endl;    dlclose(hDll);    return 0;}</body></html>